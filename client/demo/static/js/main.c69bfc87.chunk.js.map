{"version":3,"sources":["navigation/NavBar.module.css","calendar/HoursTable.module.css","calendar/MyReservationsPage.module.css","admin/StatsPage.module.css","calendar/ReservationModal.module.css","kiosk/DateClock.module.css","calendar/DayTable.module.css","calendar/ReservationDetails.module.css","admin/HtmlEditor.module.css","App.module.css","Ball.module.css","user/LoginForm.module.css","kiosk/SystemLinkQr.module.css","calendar/CalendarPage.module.css","user/MyAccountPage.module.css","calendar/ReservationCalendar.module.css","navigation/MainMenu.module.css","admin/CourtConfigForm.module.css","user/LoginPage.module.css","user/LogoutPage.module.css","calendar/ReservationDetailsCard.module.css","user/RegisterPage.module.css","calendar/SlotCell.module.css","admin/GeneralSettingsPage.module.css","other/InfoPage.module.css","other/LegalPrivacyPage.module.css","user/RegisterForm.module.css","admin/TemplateEditor.module.css","admin/UserManagementPage.module.css","serviceWorker.js","Ball.js","CookieNotice.js","AppContext.js","Footer.js","kiosk/DateClock.js","calendar/SlotCell.js","calendar/helper.js","calendar/DayTable.js","calendar/HoursTable.js","AuthContext.js","user/LoginForm.js","user/LoginModal.js","calendar/GroupDatesForm.js","calendar/ReservationDetails.js","calendar/useReservations.js","calendar/ReservationModal.js","calendar/ReservationCalendar.js","kiosk/SystemLinkQr.js","calendar/useTime.js","kiosk/KioskPage.js","navigation/MainMenu.js","navigation/NavBar.js","calendar/DatePicker.js","calendar/WeekPicker.js","calendar/CalendarPage.js","admin/AnnouncementForm.js","admin/CourtConfigForm.js","admin/SystemConfigForm.js","admin/GeneralSettingsPage.js","other/InfoPage.js","other/LegalPrivacyPage.js","user/LoginPage.js","user/LogoutPage.js","user/RegisterForm.js","user/MyAccountPage.js","calendar/ReservationDetailsCard.js","calendar/MyReservationsPage.js","navigation/ProtectedRoute.js","user/RegisterPage.js","admin/StatsPage.js","admin/HtmlEditor.js","admin/TemplateEditor.js","admin/TextBlocksPage.js","admin/UserManagementPage.js","navigation/RouterSwitch.js","App.js","index.js","calendar/GroupDatesForm.module.css","kiosk/KioskPage.module.css","calendar/WeekPicker.module.css","admin/TextBlocksPage.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","cn","classNames","bind","styles","Ball","size","preloader","visible","spin","className","wrapper","ballWrapper","ball","CookieNotice","useEffect","localStorage","getItem","close","notification","setItem","info","key","message","duration","placement","description","onClose","btn","type","onClick","closeIcon","appContext","React","createContext","texts","reservationPrice","reservationTos","systemTos","infoPage","legalPrivacy","mailTemplates","reservationConfirmation","subject","body","reservationCancelled","confirmMail","resetPassword","AppContextProvider","children","useState","data","setData","a","setTimeout","announcement","courts","courtId","name","disabled","disabledFromTil","dayjs","subtract","add","disabledReason","visibleHours","orgName","serverMail","url","reservationDaysInAdvance","reservationMaxActiveCount","Provider","value","Footer","noLinks","useContext","to","format","process","target","rel","href","DateClock","dateTime","setDateTime","int","setInterval","clearInterval","time","clockDots","date","SlotCell","courtName","disabledText","hour","reservation","handleClick","useCallback","cell","enabled","slot","reserved","data-free-text","data-free-text-hover","customName","findReservation","reservations","r","isSame","DayTable","onSlotClick","today","hours","isToday","useMemo","inPast","isBefore","tooFarAhead","isAfter","courtsToday","map","manuallyDisabled","isBetween","colSpan","length","court","HoursTable","highlightHour","hoursTableWrapper","hoursTable","highlight","til","authContext","AuthContextProvider","user","sessionStorage","JSON","parse","_","setUser","serialized","stringify","rememberLogin","removeItem","login","admin","userId","mail","logout","LoginForm","layout","onFinish","values","console","log","onFinishFailed","errorInfo","Item","rules","required","prefix","MailOutlined","placeholder","Password","LockOutlined","valuePropName","noStyle","forgotLink","htmlType","loginButton","registerItem","LoginModal","title","width","centered","onCancel","onOk","footer","defaultRepeatValuesMap","1","7","14","GroupDatesForm","defaultAddCount","onGroupDatesChange","repeatValuesMap","unavailableDates","setEnabled","repeatValue","setRepeatValue","visibleDates","setVisibleDates","selectedDates","_setSelectedDates","courtDisabledFromTil","find","c","checkIfNotAvailable","some","d","dates","checked","findIndex","gd","past","notAvailable","setSelectedDates","_selectedDates","filter","sort","b","valueOf","Number","MAX_SAFE_INTEGER","i","diff","Math","min","abs","toString","allowedValues","Object","keys","includes","first","last","count","push","addDate","removeDate","slice","handleEnabledChange","e","handleRepeatValueChange","newRepeatValue","newDates","handleCheckedChange","index","newSelection","enableCheckbox","onChange","repeatSettings","Group","repeatTypes","unchecked","danger","extra","buttons","icon","PlusOutlined","MinusOutlined","formatVal","ReservationDetails","allowEditName","groupDates","onNameChange","showAllDates","small","editName","setEditName","dateStr","pastGroupEventsCount","reduce","futureGroupEvents","handleNameChange","handleEditName","handleCancelEditName","details","CalendarOutlined","ClockCircleOutlined","UserOutlined","userInput","allDates","dateList","names","mockSingleReservation","mDate","groupId","id","mockReservations","start","startOf","reservationPerDay","gId","day","cur","ReservationModal","tosAccepted","setTosAccepted","newCustomName","setNewCustomName","newGroupDates","setNewGroupDates","groupReservations","handleGroupDatesChange","handleAcceptTos","handleNewCustomNameChange","dangerouslySetInnerHTML","__html","ReservationCalendar","kiosk","selectedDate","selectedSlot","setSelectedSlot","scrollerRef","useRef","parseInt","Array","from","requestAnimationFrame","current","scrollLeft","scrollWidth","handleSlotClicked","handleReservationFinish","tableWrapper","tableScroller","ref","SystemLinkQr","bgColor","qr","plain","replace","useTime","unit","setTime","interval","newTime","KioskPage","top","subTitle","linkQr","alert","showIcon","MainMenu","horizontal","pathname","useLocation","history","useHistory","handleLoginClick","handleRegisterClick","handleLogoutClick","menu","mode","theme","selectedKeys","CarryOutOutlined","BulbOutlined","SubMenu","SettingOutlined","stretch","menuButton","NavBar","drawerOpen","setDrawerOpen","openMenu","closeDrawer","Header","header","Text","horizontalMenuWrapper","drawerMenuWrapper","MenuOutlined","drawer","DatePicker","generatePicker","dayjsGenerateConfig","WeekPicker","open","setOpen","handlePreviousButtonClick","handleNextButtonClick","handleThisWeekButtonClick","handleChange","handleOpenChange","newOpen","middlePicker","picker","inputReadOnly","allowClear","bordered","onOpenChange","panelRender","panel","pickerPanel","renderExtraFooter","outerThisWeekButton","leftButton","LeftOutlined","rightButton","RightOutlined","CalendarPage","setSelectedDate","handleWeekChange","AnnouncementForm","Form","useForm","form","resetForm","resetFields","label","initialValue","TextArea","CourtConfigForm","forceUpdate","initialValues","getNextId","curCourts","getFieldValue","maxId","max","autoComplete","List","fields","remove","move","field","fieldKey","courtIdInput","CaretUpOutlined","CaretDownOutlined","DeleteOutlined","RangePicker","block","sliderMarks","marks","SystemConfigForm","app","range","GeneralSettingsPage","InfoPage","LegalPrivacyPage","LoginPage","state","cta","LogoutPage","handleCalendarClick","status","RegisterForm","newUser","currentName","currentMail","reset","pattern","validator","Promise","reject","resolve","dependencies","MyAccountPage","buttonWrapper","ReservationDetailsCard","onEditClick","handleEditClick","card","editButton","EditOutlined","getGroupDates","myReservations","MyReservationsPage","selectedReservation","setSelectedReservation","afterDate","isSameOrAfter","useUserReservations","handleReservationEditFinish","content","empty","ProtectedRoute","condition","rest","render","RegisterPage","loginItem","StatsPage","timePeriod","setTimePeriod","perPage","browser","os","referrer","stats","handleTimePeriodChange","gutter","align","justify","buttonStyle","Button","xs","md","suffix","page","views","spacer","createButton","command","commandArgument","ButtonFactory","displayName","withEditorContext","props","selection","buttonProps","active","document","queryCommandState","onMouseDown","execCommand","BtnH1","BtnH2","BtnBlock","BtnParagraph","HtmlEditor","showHtml","setShowHtml","BtnShowHtml","toolbar","varWidth","autoSize","wrapperStyle","display","TemplateEditor","textKey","mailKey","replacements","setValue","setSubject","save","cleanValue","handleSubjectChange","direction","style","addonBefore","TextBlocksPage","tabs","TabPane","tab","UserManagementPage","userList","setUserList","refreshUserList","lastActivity","upcomingReservationCount","totalReservationCount","columns","dataIndex","sorter","record","Modal","confirm","ExclamationCircleOutlined","okText","okType","cancelText","localeCompare","_id","dataSource","scroll","x","RouterSwitch","exact","path","App","appData","basename","Content","locale","extend","weekOfYear","weekYear","localizedFormat","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.c69bfc87.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"NavBar_header__3EbUr\",\"title\":\"NavBar_title__2Ydj-\",\"orgName\":\"NavBar_orgName__3TDkX\",\"horizontalMenuWrapper\":\"NavBar_horizontalMenuWrapper__pOr71\",\"drawerMenuWrapper\":\"NavBar_drawerMenuWrapper__15WnD\",\"drawer\":\"NavBar_drawer__2Jr7L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hoursTableWrapper\":\"HoursTable_hoursTableWrapper__2oqN9\",\"hoursTable\":\"HoursTable_hoursTable__1GyQk\",\"hour\":\"HoursTable_hour__2iAsO\",\"til\":\"HoursTable_til__27vFO\",\"highlight\":\"HoursTable_highlight__16BlN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MyReservationsPage_wrapper__CITu_\",\"content\":\"MyReservationsPage_content__3mWtJ\",\"card\":\"MyReservationsPage_card__3NVZi\",\"empty\":\"MyReservationsPage_empty__10Nkp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"StatsPage_wrapper__1TnzV\",\"spacer\":\"StatsPage_spacer__2ZwYl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ReservationModal_wrapper__3KCQY\",\"footer\":\"ReservationModal_footer__1LW8_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DateClock_wrapper__2wdCe\",\"time\":\"DateClock_time__1UaS1\",\"date\":\"DateClock_date__2fu_M\",\"clockDots\":\"DateClock_clockDots__1qZO2\",\"blink\":\"DateClock_blink__dDypK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DayTable_wrapper__1Hl5M\",\"date\":\"DayTable_date__3HnYm\",\"today\":\"DayTable_today__3s1dj\",\"court\":\"DayTable_court__3mDRl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details\":\"ReservationDetails_details__3QUEr\",\"small\":\"ReservationDetails_small__25Mcp\",\"userInput\":\"ReservationDetails_userInput__1qyIR\",\"allDates\":\"ReservationDetails_allDates__19arH\",\"dateList\":\"ReservationDetails_dateList__2q866\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbar\":\"HtmlEditor_toolbar__1Qc_c\",\"varWidth\":\"HtmlEditor_varWidth__NV4d6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"App_content__3La4L\",\"footer\":\"App_footer__29Fsv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Ball_wrapper__2ZIuN\",\"visible\":\"Ball_visible__1j9MH\",\"preloader\":\"Ball_preloader__38zDy\",\"ball\":\"Ball_ball__3Ysq4\",\"spin\":\"Ball_spin__3tWSR\",\"ballWrapper\":\"Ball_ballWrapper__3raqu\",\"jump\":\"Ball_jump__3yJc4\",\"rotate\":\"Ball_rotate__uVyFJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginButton\":\"LoginForm_loginButton__ECun6\",\"forgotLink\":\"LoginForm_forgotLink__3TG3V\",\"registerItem\":\"LoginForm_registerItem__32Qy-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"SystemLinkQr_wrapper__2CJMn\",\"qr\":\"SystemLinkQr_qr__ASBOr\",\"plain\":\"SystemLinkQr_plain__1yRC6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CalendarPage_wrapper__29en7\",\"alert\":\"CalendarPage_alert__3_59q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MyAccountPage_wrapper__3toHY\",\"buttonWrapper\":\"MyAccountPage_buttonWrapper__3cS0i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableWrapper\":\"ReservationCalendar_tableWrapper__Zzm8d\",\"tableScroller\":\"ReservationCalendar_tableScroller__1fVFR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"MainMenu_menu__1Ez4Z\",\"horizontal\":\"MainMenu_horizontal__jNPXA\",\"stretch\":\"MainMenu_stretch__3BpF9\",\"menuButton\":\"MainMenu_menuButton__3Ujw0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"court\":\"CourtConfigForm_court__1U5H_\",\"courtIdInput\":\"CourtConfigForm_courtIdInput__26kkp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cta\":\"LoginPage_cta__36xPq\",\"wrapper\":\"LoginPage_wrapper__3Mt-I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"LogoutPage_wrapper__20-zI\",\"buttons\":\"LogoutPage_buttons__2EmjL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ReservationDetailsCard_card__2E3HH\",\"editButton\":\"ReservationDetailsCard_editButton__wBAXT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cta\":\"RegisterPage_cta__1Q2zL\",\"wrapper\":\"RegisterPage_wrapper__1jLwT\",\"loginItem\":\"RegisterPage_loginItem__3bhw_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cell\":\"SlotCell_cell__10BAl\",\"enabled\":\"SlotCell_enabled__3WkTf\",\"slot\":\"SlotCell_slot__2KRoY\",\"reserved\":\"SlotCell_reserved__1oREX\",\"disabled\":\"SlotCell_disabled__24bPq\",\"disabledText\":\"SlotCell_disabledText__34Sit\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"GeneralSettingsPage_wrapper__2CalC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"InfoPage_wrapper__1RAoq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"LegalPrivacyPage_wrapper__2ayGP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"RegisterForm_form__34nyc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"key\":\"TemplateEditor_key__3ivbY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UserManagementPage_wrapper__LewMU\",\"spacer\":\"UserManagementPage_spacer__3pBNT\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport classNames from 'classnames/bind';\nimport styles from './Ball.module.css';\n\nconst cn = classNames.bind(styles);\n\nexport function Ball({\n    size,\n    preloader,\n    visible,\n    spin,\n}) {\n    return (\n        <div className={cn({\n            wrapper: true,\n            visible,\n            preloader,\n            spin,\n        })}>\n            <div className={styles.ballWrapper}>\n                <div className={styles.ball}>\n                </div>\n            </div>\n        </div>\n    )\n}","import { Button, notification } from 'antd';\nimport React, { useEffect } from 'react';\n\nexport function CookieNotice() {\n\n    useEffect(() => {\n        const closed = localStorage.getItem('notice-closed');\n\n        if (closed)\n            return;\n\n        const close = () => {\n            notification.close('cookie-notice');\n            localStorage.setItem('notice-closed', 'true');\n        };\n\n        notification.info({\n            key: 'cookie-notice',\n            message: 'Cookie Hinweis',\n            duration: 0,\n            placement: 'bottomRight',\n            description: (\n                <>\n                    <div>\n                        Funktionsbedingt wird eine zu Cookies alternative Technologie verwendet.\n                    </div>\n                    <div>\n                        Es werden keine 3rd-Party oder Tracking Cookies gesetzt.\n                    </div>\n                </>\n            ),\n            onClose: close,\n            btn: (\n                <Button type=\"primary\" size=\"middle\" onClick={close}>\n                    OK\n                </Button>\n            ),\n            closeIcon: null\n        });\n    }, []);\n\n    return null;\n}","import React, { useEffect, useState } from 'react';\n\nimport dayjs from 'dayjs';\n\nexport const appContext = React.createContext();\n\nconst texts = {\n    reservationPrice: `<div>\n    15,- Euro pro Wertmarke<br />\n    145,- Euro pro 10 Wertmarken\n</div>`,\n    reservationTos: `<ul>\n    <li>\n        Zur Nutzung benötigen Sie Wertmarken und einen Zugangscode. Diese erhalten Sie bei unserern Partnern: <br />\nrelexa hotel Harz-Wald Braunlage, Karl-Röhrig Str. 5a, Tel. 05520/8070 <br />\nBTG Braunlage (Tourist-Information), Elbingeröderstr. 17, Tel. 05520/93070 <br />\n    </li>\n    <li>\n        Am Eingang der Halle ist ein Codeschloß angebracht, in das ein 4-stelliger Zahlencode eingegeben werden muß, um den Türöffner zu betätigen.\n    </li>\n    <li>\n        Auf den Plätzen befindet sich für jeden Platz ein Wertmarkenautomat. Eine Wertmarke schaltet für 1 Stunde (+ etwas Nachlauf) das Licht ein und gibt die Heizungssteuerung frei.\n    </li>\n    <li>\n        Eine Nutzung nach 22.00 und vor 8.00 Uhr ist ohne Reservierung möglich.\n    </li>\n    <li>\n        Aus dem Reservierungssystem können keine Rechtsansprüche abgeleitet werden.\n    </li>\n</ul>`,\n    systemTos: `<ul>\n    <li>\n        Aus dem Reservierungssystem können keine Rechtsansprüche abgeleitet werden.\n    </li>\n    <li>\n        Ihr Anzeigename wird öffentlich auf dem Reservierungskalender angezeigt.\n    </li>\n    <li>\n        Sie sind damit einverstanden, dass eine zu Cookies ähnliche Technologie verwendet wird, um die Funktionalität des Systems zu gewährleisten. Es erfolgt kein Tracking, o.ä.\n    </li>\n    <li>\n        Sie können Ihre gespeicherten Daten (Benutzerkonto, Reservierungen) zu jedem Zeitpunkt einsehen und endgültig löschen.\n    </li>\n    <li>\n        Ihre E-Mail wird dazu verwendet, um Reservierungen zu bestätigen und Sie ggf. zu benachrichtigen. Ihre E-Mail wird nicht mit Dritten geteilt.\n    </li>\n</ul>`,\n    infoPage: `<h1>Allgemeine Informationen zur Hallennutzung</h1><div><br><ul><li>Es handelt sich hier um ein Reservierungssystem und nicht um ein Buchungssystem.</li><li>Eine verbindliche Buchung kommt erst durch Einwurf der Wertmarke in den Wertmarkenautomaten zustande.</li><li>Aus dem Reservierungssystem können keine Rechtsansprüche abgeleitet werden.</li><li>Sie müssen dieses Reservierungssystem nicht nutzen. Sie können die Halle auch ohne Reservierung nutzen, bitte beachten Sie aber, daß Reservierungen Vorrang haben.</li><li>Es ist auch eine Nutzung nach 22.00 und vor 8.00 möglich. Diese Zeiten werden nur selten nachgefragt und sind deshalb wegen der Übersichtlichkeit nicht im Reservierungsplan aufgeführt.</li><li>Am Eingang der Halle ist ein Codeschloß angebracht, in das ein 4-stelliger Zahlencode eingegeben werden muß, um den Türöffner zu betätigen.</li><li>Auf den Plätzen befindet sich für jeden Platz ein Wertmarkenautomat. Eine Wertmarke schaltet für 1 Stunde (+ etwas Nachlauf) das Licht ein und gibt die Heizungssteuerung frei.</li><li>Sie bekommen die Wertmarken und den Zugangscode bei unserern Partnern:</li><li>relexa hotel Harz-Wald Braunlage, Karl-Röhrig Str. 5a, Tel. 05520/8070</li><li>BTG Braunlage (Tourist-Information), Elbingeröderstr. 17, Tel. 05520/93070</li><li>Eine Wertmarke kostet 15,- Euro</li><li>10 Wertmarken kosten 145,- Euro</li><li>Ein Abo im eigentlichen Sinn gibt es nicht, nur den Rabatt ab 10 Wertmarken.</li><li>Bei wesentlich höherem Bedarf, z.B. Buchung der ganzen Halle für ein Wochenende setzen Sie sich bitte mit uns in Verbindung.</li></ul></div><div><br></div><h1>Nutzung des Reservierungssystems</h1><div><ul><li>Neu hier?<br>Bevor sie das Reservierungssystem nutzen können, müssen sie sich registrieren.</li><li>Wie reserviere ich eine Stunde?<br>Klicken Sie die gewünschte Stunde einfach an. Falls Sie nicht angemeldet sind erscheint die Anmeldemaske. Melden Sie sich an, dann können Sie die gewünschte Stunde durch einfaches anklicken reservieren.</li><li>Wie storniere ich eine Reservierung?<br>Sie können Reservierungen einfach durch anklicken der Reservierung wieder stornieren. Sie können nur ihre eigenen Reservierungen stornieren. Sie müssen dazu angemeldet sein.</li><li>Welche Einschränkungen gibt es für Reservierungen?<br>Reservierungen können maximal 3 Monate im voraus getätigt werden.</li><li>Passwort, E-Mail oder Nutzername ändern<br>Sie können ihre Daten unter \"Mein Benutzerkonto\" ändern.</li><li>DSGVO: Daten löschen / anfordern<br>Sie können all ihre Daten unter \"Mein Benutzerkonto\" anfordern.</li></ul></div>`,\n    legalPrivacy: `<h1>Impressum</h1><h1>Datenschutzerklärung</h1>`,\n};\n\nconst mailTemplates = {\n    reservationConfirmation: {\n        subject: 'Reservierungsbestätigung - Tennisclub Beispiel',\n        body: `Hallo {{name}}.<div><br>Sie haben soeben folgende Reservierung getätigt:<br><br>{{reservierung}}<br><br>Eine verbindliche Buchung kommt erst durch Einwurf der Wertmarke in den Wertmarkenautomaten zustande.<br>Aus dem Reservierungssystem können keine Rechtsansprüche abgeleitet werden.<br><br>Sie bekommen die Wertmarken und den Zugangscode bei unserern Partnern:<br>xyz<br><br>---</div><div><br></div><div>Tennisclub Beispiel&nbsp;</div>`\n    },\n    reservationCancelled: {\n        subject: 'Stornierung Ihrer Reservierung - Tennisclub Beispiel',\n        body: `Hallo {{name}}.<div><br>Ihre Reservierung wurde soeben storniert:<br><br>{{reservierung}}<br><br>Grund der Stornierung:</div><div><br></div><div>{{grund}}<br><br><br>---</div><div><br></div><div>Tennisclub Beispiel&nbsp;</div>`\n    },\n    confirmMail: {\n        subject: 'Registrierung: Bestätigen Sie Ihre E-Mail - Tennisclub Beispiel',\n        body: `Hallo {{name}}.<div><br>Bitte bestätigen Sie Ihre E-Mail Adresse, indem Sie auf folgenden Link klicken:<br><br>{{link}}<br></div><div><br></div><div>---</div><div><br></div><div>Tennisclub Beispiel&nbsp;</div>`\n    },\n    resetPassword: {\n        subject: 'Passwort zurücksetzen - Tennisclub Beispiel',\n        body: `Hallo {{name}}.<div><br>Klicken Sie auf folgenden Link, um Ihr Passwort zurückzusetzen:<br><br>{{link}}<br><br></div><div>---</div><div><br></div><div>Tennisclub Beispiel&nbsp;</div>`\n    },\n};\n\nexport function AppContextProvider({ children }) {\n\n    const [data, setData] = useState();\n\n    useEffect(() => {\n        (async () => {\n\n            setTimeout(() => \n            setData({\n                announcement: \"Beispielankündigung: abcdefg bla bla\",\n                courts: [\n                    {\n                        courtId: 1,\n                        name: 'Platz 1',\n                    },\n                    {\n                        courtId: 2,\n                        name: 'Platz 2',\n                        disabled: true,\n                        disabledFromTil: [\n                            dayjs().subtract(2, 'week'),\n                            dayjs().add(4, 'week'),\n                            // dayjs().add(8, 'week'),\n                        ],\n                        disabledReason: '<hier beliebigen Grund einsetzen>',\n                    },\n                    // {\n                    //     courtId: 2,\n                    //     name: 'Platz 3',\n                    // }\n                ],\n                visibleHours: [8, 22],\n                orgName: 'Tennisclub Beispiel',\n                texts,\n                mailTemplates,\n                serverMail: 'abc@def.de',\n                url: 'https://reservierung.xyz.de',\n                reservationDaysInAdvance: 90,\n                reservationMaxActiveCount: 15,\n            })\n            , 400);\n        })();\n    }, []);\n\n    return (\n        <appContext.Provider value={data}>\n            {children}\n        </appContext.Provider>\n    );\n}","import React, { useContext } from 'react';\n\nimport { Link } from 'react-router-dom';\nimport { appContext } from './AppContext';\nimport dayjs from 'dayjs';\n\nexport function Footer({\n    noLinks,\n}) {\n    const { orgName } = useContext(appContext);\n\n    const version = process.env.REACT_APP_VERSION;\n\n    return (\n        <>\n            {!noLinks &&\n                <p>\n                    <Link to=\"/legalnotice-privacy\">Impressum / Datenschutz</Link>\n                </p>\n            }\n            <p>\n                {`©${dayjs().format('YYYY')} ${orgName} - v${version} - entwickelt von `}\n                {noLinks \n                    ? <span>Alexander&nbsp;Droste</span>\n                    : <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/alexdroste/reservierungssystem-tennis-v2\">Alexander&nbsp;Droste</a>\n                }\n            </p>\n        </>\n    );\n}","import React, { useEffect, useState } from 'react';\n\nimport dayjs from 'dayjs';\nimport styles from './DateClock.module.css';\n\nconst UPDATE_INTERVAL_MS = 5000;\n\nexport function DateClock() {\n\n    const [dateTime, setDateTime] = useState(() => dayjs());\n\n    useEffect(() => {\n        const int = setInterval(() => {\n            setDateTime(dayjs());\n        }, UPDATE_INTERVAL_MS)\n        return () => clearInterval(int);\n    }, []);\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.time}>\n                {dateTime.format('HH')}<span className={styles.clockDots}>:</span>{dateTime.format('mm')} Uhr\n            </div>\n            <div className={styles.date}>\n                {dateTime.format('dddd LL')}\n            </div>\n        </div>\n    );\n}","import React, { useCallback } from 'react';\n\nimport classNames from 'classnames/bind';\nimport styles from './SlotCell.module.css';\n\nconst cn = classNames.bind(styles);\n\nexport function SlotCell({\n    courtId,\n    courtName,\n    disabled = false,\n    disabledText,\n    hour,\n    onClick,\n    reservation,\n}) {\n    const handleClick = useCallback(() => {\n        if (!disabled)\n            onClick({ courtId, hour, reservation });\n    }, [courtId, disabled, hour, onClick, reservation]);\n\n    return (\n        <td\n            className={cn({\n                cell: true,\n                enabled: !disabled,\n            })}\n            onClick={handleClick}\n        >\n            <div\n                className={cn({\n                    slot: true,\n                    reserved: reservation,\n                    disabled,\n                    disabledText,\n                })}\n                data-free-text=\"Frei\"\n                data-free-text-hover={`${hour} Uhr, ${courtName}`}\n            >\n                {!(disabled && disabledText) && reservation && (reservation.customName ?? reservation.name)}\n                {disabled && disabledText}\n            </div>\n        </td>\n    );\n}\n","export function findReservation(reservations, date, courtId) {\n    for (let r of reservations)\n        if (date.isSame(r.date, 'hour') && courtId === r.courtId)\n            return r;\n    return null;\n}","import React, { useCallback, useMemo } from 'react';\n\nimport { SlotCell } from './SlotCell';\nimport { findReservation } from './helper';\nimport styles from './DayTable.module.css';\n\nexport function DayTable({\n    courts,\n    date,\n    onSlotClick,\n    reservations,\n    today,\n    hours,\n    reservationDaysInAdvance,\n}) {\n    const isToday = useMemo(() => today.isSame(date, 'day'), [date, today]);\n    const inPast = useMemo(() => date.isBefore(today, 'day'), [date, today]);\n    const tooFarAhead = useMemo(() => \n        date.isAfter(today.add(reservationDaysInAdvance, 'day'), 'day'), [date, reservationDaysInAdvance, today]);\n\n    const courtsToday = useMemo(() => courts.map(({ courtId, name, disabled, disabledFromTil }) => {\n        const manuallyDisabled = disabled && date.isBetween(disabledFromTil[0], disabledFromTil[1], 'day', '[]');\n        return {\n            courtId,\n            name,\n            disabled: inPast || tooFarAhead || manuallyDisabled,\n            disabledText: manuallyDisabled ? 'Gesperrt' : null,\n        };\n    }), [courts, date, inPast, tooFarAhead]);\n\n    const handleClick = useCallback(({ courtId, hour, reservation }) => {\n        onSlotClick({\n            courtId,\n            date: date.hour(hour),\n            reservation,\n        });\n    }, [date, onSlotClick]);\n\n    return (\n        <div className={styles.wrapper}>\n            <table>\n                <thead>\n                    <tr>\n                        <th className={styles.date} colSpan={courtsToday.length}>\n                            {isToday && <span className={styles.today}>Heute</span>}\n                            {date.format('dd l')}\n                        </th>\n                    </tr>\n                    <tr>\n                        {courtsToday.map(({ courtId, name }) => (\n                            <td key={courtId}>\n                                <div className={styles.court}>\n                                    {name}\n                                </div>\n                            </td>\n                        ))}\n                    </tr>\n                </thead>\n                <tbody>\n                    {hours.map(hour => (\n                        <tr key={hour}>\n                            {courtsToday.map(({ courtId, name, disabled, disabledText }) => (\n                                <SlotCell\n                                    key={courtId}\n                                    courtId={courtId}\n                                    courtName={name}\n                                    hour={hour}\n                                    disabled={disabled}\n                                    disabledText={disabledText}\n                                    onClick={handleClick}\n                                    reservation={findReservation(reservations, date.hour(hour), courtId)}\n                                />\n                            ))}\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    );\n}\n","import React from 'react';\nimport classNames from 'classnames/bind';\nimport styles from './HoursTable.module.css';\n\nconst cn = classNames.bind(styles);\n\nexport function HoursTable({\n    hours,\n    highlightHour,\n}) {\n    return (\n        <div className={styles.hoursTableWrapper}>\n            <table className={styles.hoursTable}>\n                <tbody>\n                    {hours.map(hour => (\n                        <tr key={hour} className={cn({ highlight: highlightHour === hour })}>\n                            <th>\n                                <div className={styles.hour}>\n                                    {hour} Uhr<br />\n                                    <span className={styles.til}>bis {hour + 1} Uhr</span>\n                                </div>\n                            </th>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    );\n}","import React, { useCallback, useEffect, useMemo, useState } from 'react';\n\nexport const authContext = React.createContext();\n\nexport function AuthContextProvider({ children }) {\n\n    const [user, setUser] = useState(() => {\n        let user = sessionStorage.getItem('user') || localStorage.getItem('user');\n        try {\n            return JSON.parse(user)\n        } catch (_) {\n            return null;\n        }\n    });\n\n    useEffect(() => {\n        if (user) {\n            const serialized = JSON.stringify(user);\n            if (user.rememberLogin)\n                localStorage.setItem('user', serialized);\n            else\n                sessionStorage.setItem('user', serialized);\n        } else {\n            sessionStorage.removeItem('user');\n            localStorage.removeItem('user');\n        }\n    }, [user]);\n\n    const login = useCallback(({ rememberLogin }) => {\n        setUser({\n            admin: true,\n            userId: 1,\n            name: 'Müller',\n            mail: 'mueller@example.com',\n            rememberLogin,\n        });\n    }, []);\n\n    const logout = useCallback(() => {\n        setUser(null);\n    }, []);\n\n    const value = useMemo(() => ({\n        user,\n        login,\n        logout,\n    }), [\n        user, \n        login, \n        logout\n    ]);\n\n    return (\n        <authContext.Provider value={value}>\n            {children}\n        </authContext.Provider>\n    );\n}","import { Button, Checkbox, Form, Input } from 'antd';\nimport { LockOutlined, MailOutlined } from '@ant-design/icons';\nimport React, { useContext } from 'react';\n\nimport { Link } from 'react-router-dom';\nimport { authContext } from '../AuthContext';\nimport styles from './LoginForm.module.css';\n\nexport function LoginForm() {\n\n    const { login } = useContext(authContext);\n\n    const onFinish = values => {\n        console.log('Success:', values);\n        login(values);\n    };\n\n    const onFinishFailed = errorInfo => {\n        console.log('Failed:', errorInfo);\n    };\n\n    return (\n        <Form\n            layout=\"vertical\"\n            onFinish={onFinish}\n            onFinishFailed={onFinishFailed}\n        >\n            <Form.Item\n                name=\"mail\"\n                rules={[{ required: true, message: 'E-Mail Adresse ist erforderlich' }]}\n            >\n                <Input prefix={<MailOutlined />} placeholder=\"E-Mail\" />\n            </Form.Item>\n\n            <Form.Item\n                name=\"password\"\n                rules={[{ required: true, message: 'Passwort ist erforderlich' }]}\n            >\n                <Input.Password prefix={<LockOutlined />} placeholder=\"Passwort\" />\n            </Form.Item>\n\n            <Form.Item>\n                <Form.Item name=\"rememberLogin\" valuePropName=\"checked\" noStyle>\n                    <Checkbox>Angemeldet bleiben</Checkbox>\n                </Form.Item>\n\n                <a className={styles.forgotLink} href=\"\">\n                    Password vergessen\n                </a>\n            </Form.Item>\n\n            <Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\" className={styles.loginButton}>\n                    Anmelden\n                </Button>\n            </Form.Item>\n\n\n            <Form.Item className={styles.registerItem}>\n                <span>oder </span>\n                <Link to=\"/register\">Kostenlos Registrieren</Link>\n            </Form.Item>\n        </Form>\n    );\n}","import { LoginForm } from './LoginForm';\nimport { Modal } from 'antd';\nimport React from 'react';\n\nexport function LoginModal({\n    onClose\n}) {\n    return (\n        <Modal\n            title=\"Anmeldung erforderlich\"\n            visible={true}\n            width={400}\n            centered\n            onCancel={onClose}\n            onOk={onClose}\n            footer={null}\n        >\n            <LoginForm />\n        </Modal>\n    );\n}","import { Button, Checkbox, Divider, Radio } from 'antd';\nimport { MinusOutlined, PlusOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext, useEffect, useMemo, useState } from 'react';\n\nimport { appContext } from '../AppContext';\nimport classNames from 'classnames/bind';\nimport styles from './GroupDatesForm.module.css';\n\nconst cn = classNames.bind(styles);\n\nconst defaultRepeatValuesMap = {\n    1: 'Täglich',\n    7: 'Wöchentlich',\n    14: '2-Wöchentlich',\n};\n\nexport function GroupDatesForm({\n    courtId,\n    date,\n    defaultAddCount = 2,\n    onGroupDatesChange,\n    repeatValuesMap = defaultRepeatValuesMap,\n    reservations,\n    today,\n    unavailableDates,\n}) {\n    const { courts, reservationDaysInAdvance } = useContext(appContext);\n\n    const [enabled, setEnabled] = useState(false);\n    const [repeatValue, setRepeatValue] = useState();\n    const [visibleDates, setVisibleDates] = useState([]);\n    const [selectedDates, _setSelectedDates] = useState([]);\n\n    const courtDisabledFromTil = useMemo(() =>\n        (courts.find(c => c.courtId === courtId))?.disabledFromTil, [courts, courtId]);\n\n    const checkIfNotAvailable = useCallback(date => (\n        date.isAfter(today.add(reservationDaysInAdvance, 'day'), 'day')\n        || (courtDisabledFromTil && date.isBetween(courtDisabledFromTil[0], courtDisabledFromTil[1], 'day', '[]'))\n        || (unavailableDates && unavailableDates.some(d => date.isSame(d, 'day')))\n    ), [courtDisabledFromTil, today, reservationDaysInAdvance, unavailableDates]);\n\n    const dates = useMemo(() => {\n        return visibleDates.map(d => ({\n            date: d,\n            checked: selectedDates.findIndex(gd => gd.isSame(d, 'day')) !== -1,\n            reserved: reservations?.findIndex(r => r.date.isSame(d, 'day')) !== -1,\n            past: d.isBefore(today, 'day'),\n            notAvailable: checkIfNotAvailable(d),\n        }));\n    }, [checkIfNotAvailable, selectedDates, reservations, visibleDates, today]);\n\n    const setSelectedDates = useCallback(selectedDates => {\n        _setSelectedDates(_selectedDates => {\n            let dates = selectedDates;\n            if (typeof selectedDates === 'function')\n                dates = selectedDates(_selectedDates);\n            return dates.filter(d => !checkIfNotAvailable(d));\n        });\n    }, [checkIfNotAvailable]);\n\n    useEffect(() => {\n        onGroupDatesChange(selectedDates);\n    }, [selectedDates, onGroupDatesChange]);\n\n    useEffect(() => {\n        let selectedDates = [date];\n        let visibleDates = [date];\n\n        if (reservations?.length) {\n            selectedDates = reservations.map(r => r.date);\n            selectedDates.sort((a, b) => a.valueOf() - b.valueOf());\n            let repeatValue = Number.MAX_SAFE_INTEGER;\n\n            if (selectedDates.length > 1) {\n                for (let i = 1; i < selectedDates.length; ++i) {\n                    const diff = selectedDates[i - 1].diff(selectedDates[i], 'day');\n                    repeatValue = Math.min(repeatValue, Math.abs(diff));\n                }\n            }\n\n            repeatValue = repeatValue.toString();\n            const allowedValues = Object.keys(repeatValuesMap);\n            if (!allowedValues.includes(repeatValue))\n                repeatValue = allowedValues[0];\n            setRepeatValue(repeatValue);\n            setEnabled(true);\n\n            const first = selectedDates[0];\n            const last = selectedDates[selectedDates.length - 1];\n            const count = Math.abs(first.diff(last, 'day') / repeatValue);\n            visibleDates = [];\n            for (let i = 0; i <= count; ++i)\n                visibleDates.push(first.add(i * repeatValue, 'day'));\n        }\n\n        setVisibleDates(visibleDates);\n        setSelectedDates(selectedDates);\n    }, [reservations, date, repeatValuesMap, setSelectedDates]);\n\n    const addDate = useCallback(() => {\n        setVisibleDates(visibleDates => {\n            const last = visibleDates[visibleDates.length - 1];\n            const add = last.add(repeatValue, 'day');\n            setSelectedDates(selectedDates => [...selectedDates, add]);\n            return [...visibleDates, add];\n        });\n    }, [repeatValue, setSelectedDates]);\n\n    const removeDate = useCallback(() => {\n        setVisibleDates(visibleDates => {\n            const last = visibleDates[visibleDates.length - 1];\n            const reserved = reservations?.findIndex(r => r.date.isSame(last, 'day')) !== -1;\n            if (visibleDates.length <= 1 || reserved)\n                return visibleDates;\n            setSelectedDates(selectedDates => selectedDates.filter(gd => !gd.isSame(last, 'day')));\n            return visibleDates.slice(0, -1);\n        });\n    }, [reservations, setSelectedDates]);\n\n    const handleEnabledChange = useCallback(e => {\n        setEnabled(e.target.checked);\n    }, []);\n\n    const handleRepeatValueChange = useCallback(e => {\n        const newRepeatValue = e.target.value;\n        setRepeatValue(newRepeatValue);\n\n        const newDates = [date];\n        for (let i = 1; i <= defaultAddCount; ++i)\n            newDates.push(date.add(i * newRepeatValue, 'day'));\n\n        setVisibleDates(newDates);\n        setSelectedDates(newDates);\n    }, [date, defaultAddCount, setSelectedDates]);\n\n    const handleCheckedChange = useCallback(e => {\n        const index = e.target.value;\n        const checked = e.target.checked;\n        const date = visibleDates[index];\n\n        setSelectedDates(selectedDates => {\n            const newSelection = selectedDates.filter(gd => !gd.isSame(date, 'day'));\n            if (checked)\n                newSelection.push(date);\n            newSelection.sort((a, b) => a.valueOf() - b.valueOf());\n            return newSelection;\n        });\n    }, [visibleDates, setSelectedDates]);\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.enableCheckbox}>\n                <Checkbox\n                    checked={enabled}\n                    onChange={handleEnabledChange}\n                    disabled={reservations?.length}\n                >\n                    Wiederholen / Regelmäßiger Termin\n                </Checkbox>\n            </div>\n            {enabled &&\n                <div className={styles.repeatSettings}>\n                    <div>\n                        <Radio.Group\n                            className={styles.repeatTypes}\n                            value={repeatValue}\n                            onChange={handleRepeatValueChange}\n                            disabled={reservations?.length}\n                        >\n                            {Object.keys(repeatValuesMap).map(value => (\n                                <Radio key={value} value={value}>{repeatValuesMap[value]}</Radio>\n                            ))}\n                        </Radio.Group>\n                    </div>\n\n                    {repeatValue > 0 &&\n                        <>\n                            <Divider />\n\n                            <div className={styles.dates}>\n                                {dates.map(({ date, checked, reserved, past, notAvailable }, i) => (\n                                    <Checkbox\n                                        className={cn({\n                                            unchecked: !checked,\n                                            danger: reserved && !checked,\n                                        })}\n                                        key={date}\n                                        value={i}\n                                        disabled={past || notAvailable}\n                                        checked={checked}\n                                        onChange={handleCheckedChange}\n                                    >\n                                        <span className={styles.date}>{date.format('dd L')}</span>\n                                        {!notAvailable && !past && reserved && checked && <span className={styles.extra}> Aktuell reserviert</span>}\n                                        {!notAvailable && !past && reserved && !checked && <span className={styles.extra}> Wird storniert</span>}\n                                        {!notAvailable && past && <span className={styles.extra}> Bereits vergangen</span>}\n                                        {notAvailable && <span className={styles.extra}> Nicht verfügbar</span>}\n                                    </Checkbox>\n                                ))}\n                            </div>\n                            <div className={styles.buttons}>\n                                <Button\n                                    icon={<PlusOutlined />}\n                                    onClick={addDate}\n                                />\n                                <Button\n                                    icon={<MinusOutlined />}\n                                    onClick={removeDate}\n                                />\n                            </div>\n                        </>\n                    }\n                </div>\n            }\n        </div>\n    );\n}","import { Button, Input } from 'antd';\nimport { CalendarOutlined, ClockCircleOutlined, UserOutlined } from '@ant-design/icons';\nimport React, { useCallback, useMemo, useState } from 'react';\n\nimport classNames from 'classnames/bind';\nimport dayjs from 'dayjs';\nimport styles from './ReservationDetails.module.css';\n\nconst cn = classNames.bind(styles);\n\nconst formatVal = 'dd L';\n\nexport function ReservationDetails({\n    allowEditName = false,\n    courtName,\n    date,\n    groupDates,\n    name,\n    onNameChange,\n    showAllDates = false,\n    small,\n}) {\n    const [editName, setEditName] = useState(false);\n\n    let dateStr = date.format(formatVal);\n    if (!showAllDates && groupDates) {\n        dateStr = groupDates.length ? groupDates[0].format(formatVal) : '-';\n        if (groupDates.length > 1)\n            dateStr += ` bis ${groupDates[groupDates.length - 1].format(formatVal)}`;\n    }\n\n    const pastGroupEventsCount = useMemo(() => {\n        const today = dayjs();\n        return groupDates?.reduce((count, date) => {\n            if (date.isBefore(today, 'day'))\n                return count + 1;\n            return count;\n        }, 0);\n    }, [groupDates]);\n\n    const futureGroupEvents = useMemo(() => {\n        const today = dayjs();\n        return groupDates?.filter(date => !date.isBefore(today, 'day'));\n    }, [groupDates]);\n\n    const handleNameChange = useCallback(e => {\n        onNameChange(e.target.value);\n    }, [onNameChange]);\n\n    const handleEditName = useCallback(() => {\n        setEditName(true);\n        onNameChange('');\n    }, [onNameChange]);\n\n    const handleCancelEditName = useCallback(() => {\n        setEditName(false);\n        onNameChange(null);\n    }, [onNameChange]);\n\n    return (\n        <div className={cn({\n            details: true,\n            small,\n        })}>\n            <div><CalendarOutlined />&nbsp;&nbsp;{dateStr}</div>\n            <div><ClockCircleOutlined />&nbsp;&nbsp;{`${date.format('H')} bis ${date.add(1, 'h').format('H')} Uhr, ${courtName}`}</div>\n            <div>\n                <UserOutlined />&nbsp;&nbsp;\n                {editName ?\n                    (\n                        <>\n                            <Input\n                                className={styles.userInput}\n                                value={name}\n                                onChange={handleNameChange}\n                                placeholder=\"z.B. Training, ...\"\n                            />\n                            <Button type='link' onClick={handleCancelEditName}>abbrechen</Button>\n                        </>\n                    ) : (\n                        <>\n                            {name}\n                            {allowEditName &&\n                                <Button type='link' onClick={handleEditName}>ändern</Button>\n                            }\n                        </>\n                    )\n                }\n            </div>\n            {showAllDates && groupDates?.length &&\n                <div className={styles.allDates}>\n                    <span>Wiederkehrender Termin:</span>\n                    <div className={styles.dateList}>\n                        {pastGroupEventsCount > 0 && <span>{pastGroupEventsCount} vergangene Termine</span>}\n                        {futureGroupEvents?.map(d => <span key={d}>{d.format(formatVal)}</span>)}\n                    </div>\n                </div>\n            }\n        </ div>\n    );\n}","import dayjs from 'dayjs';\nimport { useMemo } from 'react';\n\nconst from = 8;\nconst til = 22;\n\n// const courts = [\n//     'Platz 1',\n//     'Platz 2',\n// ];\n\nconst courtCount = 2;\n\nconst names = [\n    'Müller',\n    'Manuel Neuer',\n    'Franz Peter',\n    'Jürgen',\n    'Tim und Struppi',\n    'Grönemeyer',\n    'Freddie',\n    'Manfred M.',\n];\n\nconst reservations = [];\n\n// deterministic\nfunction mockSingleReservation(i, mDate, groupId, customName) {\n\n    const id = `${i}_${mDate}`;\n\n    const courtId = (i % courtCount) + 1;\n\n    const userId = ((i * 3) % names.length) + 1;\n    const name = names[userId - 1];\n\n    const date = mDate.add(((i * 9) % (til - from)) + from, 'hour');\n\n    return {\n        id,\n        date,\n        userId,\n        name,\n        customName,\n        courtId,\n        groupId,\n    };\n}\n\nfunction mockReservations() {\n\n    const start = dayjs().startOf('week');\n    const reservationPerDay = [3, 4, 1, 7, 1, 0, 2];\n\n    // group reservations (repeat = 1)\n    let gId = 1;\n    for (let day = 0; day < 4; ++day) {\n        const cur = start.add(day, 'day');\n        reservations.push(mockSingleReservation(24, cur, gId, '4-Tage Event'));\n    }\n\n    // group reservations (repeat = 7)\n    gId = 2;\n    for (let day = 5; day < 7 * 4; day += 7) {\n        const cur = start.add(day, 'day');\n        reservations.push(mockSingleReservation(94, cur, gId, 'Training'));\n    }\n\n    // single reservations\n    for (let day = 0; day < 7 * 4; ++day) {\n        const cur = start.add(day, 'day');\n        for (let i = 0; i < reservationPerDay[day % 7]; ++i)\n            reservations.push(mockSingleReservation(i + day, cur, null, null));\n    }\n}\n\n\nexport function useWeekReservations(date) {\n    if (!reservations.length)\n        mockReservations();\n\n    return useMemo(() => reservations.filter(r => date && r.date.isSame(date, 'week')), [date]);\n}\n\n\nexport function useGroupReservations(groupId) {\n    if (!reservations.length)\n        mockReservations();\n\n    return useMemo(() => reservations.filter(r => groupId && r.groupId === groupId), [groupId]);\n}\n\n\nexport function useUserReservations(afterDate, userId) {\n    if (!reservations.length)\n        mockReservations();\n\n    return useMemo(() => {\n        const r = reservations.filter(r => (\n            r.userId === userId\n            && r.date.isSameOrAfter(afterDate, 'day')\n        ));\n        r.sort((a, b) => a.date.valueOf() - b.date.valueOf());\n        return r;\n    }, [afterDate, userId]);\n}","import { Button, Checkbox, Modal } from 'antd';\nimport React, { useCallback, useContext, useMemo, useState } from 'react';\n\nimport { DoReservationModal } from './DoReservationModal';\nimport { GroupDatesForm } from './GroupDatesForm';\nimport { ReservationDetails } from './ReservationDetails';\nimport { appContext } from '../AppContext';\nimport styles from './ReservationModal.module.css';\nimport { useGroupReservations } from './useReservations';\n\nexport function ReservationModal({\n    date,\n    courtId,\n    reservation,\n    today,\n    onFinish,\n}) {\n    const { courts, texts: { reservationPrice, reservationTos } } = useContext(appContext);\n\n    const courtName = courts.find(c => c.courtId === courtId)?.name;\n\n    const [tosAccepted, setTosAccepted] = useState(false);\n    const [newCustomName, setNewCustomName] = useState(null);\n    const [newGroupDates, setNewGroupDates] = useState();\n    // const [cancelConfirm, setCancelConfirm] = useState(false);\n    // const [changeConfirm, setChangeConfirm] = useState(false);\n\n    // todo user context\n    const name = reservation?.name || \"Günther Jacob\";\n    const customName = reservation?.customName;\n    const admin = true;\n    // const myReservation = false;\n    const canEdit = true;\n\n    const groupReservations = useGroupReservations(reservation?.groupId);\n\n    const groupDates = useMemo(() => {\n        if (!groupReservations?.length)\n            return null;\n        return groupReservations.map(r => r.date);\n    }, [groupReservations]);\n\n    const handleGroupDatesChange = useCallback(dates => {\n        setNewGroupDates(dates);\n    }, []);\n\n\n    const handleAcceptTos = useCallback(e => {\n        setTosAccepted(e.target.checked);\n    }, []);\n\n    // const showCancelConfirm = useCallback(() => {\n    //     setCancelConfirm(true);\n    // }, []);\n\n    const handleNewCustomNameChange = useCallback(name => {\n        setNewCustomName(name);\n    }, []);\n\n    return (\n        <Modal\n            title=\"Reservierung\"\n            visible={true}\n            width={600}\n            centered\n            onCancel={onFinish}\n            onOk={onFinish}\n            footer={\n                <div className={styles.footer}>\n                    <Button onClick={onFinish}>\n                        {canEdit ? 'Abbrechen' : 'Schließen'}\n                    </Button>\n                    {canEdit && (reservation ?\n                        (\n                            <>\n                                <Button\n                                    type=\"danger\"\n                                >\n                                    {groupReservations?.length ? 'Alle stornieren' : 'Stornieren'}\n                                </Button>\n                                {(!!groupReservations?.length || admin) &&\n                                    <Button\n                                        type=\"primary\"\n                                    >\n                                        Speichern\n                                    </Button>\n                                }\n                            </>\n                        ) : (\n                            <Button\n                                disabled={reservationTos && !tosAccepted}\n                                type=\"primary\"\n                            >\n                                Reservieren\n                            </Button>\n                        )\n                    )}\n                </div>\n            }\n        >\n            <div className={styles.wrapper}>\n                <div>\n                    <ReservationDetails\n                        allowEditName={admin}\n                        courtName={courtName}\n                        date={date}\n                        groupDates={newGroupDates || groupDates}\n                        name={typeof newCustomName === 'string' ? newCustomName : (customName || name)}\n                        onNameChange={handleNewCustomNameChange}\n                        showAllDates={!canEdit}\n                    />\n\n                    {canEdit && (!reservation || groupReservations.length > 1) &&\n                        <GroupDatesForm\n                            courtId={courtId}\n                            date={date}\n                            onGroupDatesChange={handleGroupDatesChange}\n                            reservations={groupReservations}\n                            today={today}\n                            // unavailableDates= //TODO\n                        />\n                    }\n                </div>\n\n                {!reservation &&\n                    <>\n                        {reservationPrice &&\n                            <div>\n                                <h1>Preis</h1>\n                                <div dangerouslySetInnerHTML={{ __html: reservationPrice }} />\n                            </div>\n                        }\n\n                        {reservationTos &&\n                            <div>\n                                <h1>Nutzungsordnung</h1>\n                                <div dangerouslySetInnerHTML={{ __html: reservationTos }} />\n\n                                <Checkbox\n                                    checked={tosAccepted}\n                                    onChange={handleAcceptTos}\n                                >\n                                    Ich akzeptiere die Nutzungsordnung.\n                                </Checkbox>\n                            </div>\n                        }\n                    </>\n                }\n            </div>\n\n            {false &&\n                <DoReservationModal\n\n                />\n            }\n        </Modal>\n    );\n}","import React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\n\nimport { DayTable } from './DayTable';\nimport { HoursTable } from './HoursTable';\nimport { LoginModal } from '../user/LoginModal';\nimport { ReservationModal } from './ReservationModal';\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport styles from './ReservationCalendar.module.css';\nimport { useWeekReservations } from './useReservations';\n\nconst visibleDatesCount = 7; // week\n\nexport function ReservationCalendar({\n    highlightHour,\n    kiosk = false,\n    selectedDate,\n    today,\n}) {\n    const { user } = useContext(authContext);\n    const { courts, visibleHours, reservationDaysInAdvance } = useContext(appContext);\n\n    const [selectedSlot, setSelectedSlot] = useState();\n    const scrollerRef = useRef();\n\n    const reservations = useWeekReservations(selectedDate);\n\n    const hours = useMemo(() => {\n        const hours = [];\n        for (let i = parseInt(visibleHours[0]); i < parseInt(visibleHours[1]); ++i)\n            hours.push(i);\n        return hours;\n    }, [visibleHours]);\n\n    const visibleDates = useMemo(() => Array.from(Array(visibleDatesCount)).map((_, i) =>\n        selectedDate.startOf('week').add(i, 'day')\n    ), [selectedDate]);\n\n    // scroll automatically to today's date\n    useEffect(() => {\n        if (selectedDate.isSame(today, 'week')) {\n            const index = Math.abs(today.startOf('week').diff(today, 'day'));\n            requestAnimationFrame(() => {\n                scrollerRef.current.scrollLeft\n                    = ((scrollerRef.current.scrollWidth) / visibleDatesCount) * index;\n            });\n        }\n    }, [selectedDate, today]);\n\n    const handleSlotClicked = useCallback(selectedSlot => {\n        if (!kiosk)\n            setSelectedSlot(selectedSlot);\n    }, [kiosk]);\n\n    const handleReservationFinish = useCallback(() => {\n        setSelectedSlot(null);\n    }, []);\n\n    return (\n        <>\n            <div className={styles.tableWrapper}>\n                <HoursTable \n                    hours={hours} \n                    highlightHour={highlightHour}\n                />\n\n                <div className={styles.tableScroller} ref={scrollerRef}>\n                    {visibleDates.map(date => (\n                        <DayTable\n                            key={date}\n                            date={date}\n                            today={today}\n                            courts={courts}\n                            hours={hours}\n                            reservations={reservations}\n                            onSlotClick={handleSlotClicked}\n                            reservationDaysInAdvance={reservationDaysInAdvance}\n                        />\n                    ))}\n                </div>\n            </div>\n\n            {selectedSlot && (user ?\n                (\n                    <ReservationModal\n                        date={selectedSlot?.date}\n                        courtId={selectedSlot?.courtId}\n                        reservation={selectedSlot?.reservation}\n                        today={today}\n                        onFinish={handleReservationFinish}\n                    />\n                ) : (\n                    <LoginModal \n                        onClose={handleReservationFinish}\n                    />\n                ))\n            }\n        </>\n    );\n}","import React, { useContext } from 'react';\n\nimport QrCode from 'qrcode.react';\nimport { appContext } from '../AppContext';\nimport styles from './SystemLinkQr.module.css';\n\nexport function SystemLinkQr({\n    bgColor,\n}) {\n\n    const { url } = useContext(appContext);\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.qr}>\n                <QrCode\n                    value={url}\n                    size={150}\n                    bgColor={bgColor}\n                />\n            </div>\n            <div className={styles.plain}>\n                {url.replace(/(http|https):\\/\\//, '')}\n            </div>\n        </div>\n    );\n}","import { useEffect, useState } from 'react';\n\nimport dayjs from 'dayjs';\n\nconst checkIntervalMs = 60000; // minute\n\nexport function useTime(unit) {\n    const [time, setTime] = useState(() => dayjs());\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            const newTime = dayjs();\n            if (!time.isSame(newTime, unit))\n                setTime(newTime);\n        }, checkIntervalMs);\n\n        return () => clearInterval(interval);\n    }, [time, unit]);\n\n    return time;\n}","import React, { useContext } from 'react';\n\nimport { Alert } from 'antd';\nimport { DateClock } from './DateClock';\nimport { ReservationCalendar } from '../calendar/ReservationCalendar';\nimport { SystemLinkQr } from './SystemLinkQr';\nimport { appContext } from '../AppContext';\nimport styles from './KioskPage.module.css';\nimport { useTime } from '../calendar/useTime';\n\nexport function KioskPage() {\n\n    const { announcement, courts, orgName } = useContext(appContext);\n\n    const hour = useTime('hour');\n\n    return (\n        <div className={styles.wrapper}>\n\n            <div className={styles.top}>\n\n                <div className={styles.title}>\n                    <div className={styles.orgName}>\n                        {orgName}\n                    </div>\n                    <div className={styles.subTitle}>\n                        Reservierungssystem\n                    </div>\n                </div>\n                \n                <DateClock />\n\n                <div className={styles.linkQr}>\n                    <SystemLinkQr \n                        bgColor=\"#f0f2f5\"\n                    />\n                </div>\n\n            </div>\n\n            {announcement &&\n                <div className={styles.alert}>\n                    <Alert\n                        message={announcement}\n                        type=\"info\"\n                        showIcon\n                    />\n                </div>\n            }\n\n            {courts.map(({ courtId, name, disabled, disabledFromTil, disabledReason }) => (\n                disabled && (\n                    <div key={courtId} className={styles.alert}>\n                        <Alert\n                            message={`${name} ist gesperrt ab ${disabledFromTil[0].format('dd L')}${disabledFromTil[1] ? disabledFromTil[1].format('[ bis] dd L') : ''}${disabledReason ? `: ${disabledReason}` : ''}`}\n                            type=\"warning\"\n                            showIcon\n                        />\n                    </div>\n                )\n            ))}\n\n            <ReservationCalendar\n                highlightHour={hour.hour()}\n                kiosk\n                selectedDate={hour}\n                today={hour}\n            />\n        </div>\n    );\n}","import { BulbOutlined, CalendarOutlined, CarryOutOutlined, SettingOutlined, UserOutlined } from '@ant-design/icons';\nimport { Button, Menu } from 'antd';\nimport React, { useCallback, useContext } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nimport { authContext } from '../AuthContext';\nimport classNames from 'classnames/bind';\nimport styles from './MainMenu.module.css';\n\nconst cn = classNames.bind(styles);\n\nexport function MainMenu({\n    horizontal = false,\n    onClick,\n}) {\n    const { user } = useContext(authContext);\n    const { pathname } = useLocation();\n    const history = useHistory();\n\n    const handleClick = useCallback(({ key }) => {\n        if (onClick)\n            onClick(key);\n        if (pathname !== key)\n            history.push(key);\n    }, [history, pathname, onClick]);\n\n    const handleLoginClick = useCallback(() => {\n        handleClick({ key: '/login' });\n    }, [handleClick]);\n\n    const handleRegisterClick = useCallback(() => {\n        handleClick({ key: '/register' });\n    }, [handleClick]);\n\n    const handleLogoutClick = useCallback(() => {\n        handleClick({ key: '/logout' });\n    }, [handleClick]);\n\n    /* Keys of Menu.Items match with the corresponding routes\n     * in RouterSwitch to be able to map location.pathname directly\n     * with the Menu.Item for that route => used to highlight the current item\n     * via selectedKeys prop\n     */\n    return (\n        <>\n            <Menu\n                className={cn({\n                    menu: true,\n                    horizontal\n                })}\n                mode={horizontal ? 'horizontal' : 'inline'}\n                theme='light'\n                selectedKeys={[pathname]}\n                onClick={handleClick}\n            >\n                <Menu.Item key=\"/\" icon={<CalendarOutlined />}>\n                    Reservierungskalender\n                </Menu.Item>\n\n                {user &&\n                    <Menu.Item key=\"/myreservations\" icon={<CarryOutOutlined />}>\n                        Meine Reservierungen\n                    </Menu.Item>\n                }\n\n                <Menu.Item key=\"/info\" icon={<BulbOutlined />}>\n                    Hinweise\n                </Menu.Item>\n\n                {user?.admin &&\n                    <Menu.SubMenu\n                        key=\"/admin\"\n                        title=\"Verwaltung\"\n                        icon={<SettingOutlined />}\n                    >\n                        <Menu.Item key=\"/admin/general\">\n                            Allgemein\n                        </Menu.Item>\n                        <Menu.Item key=\"/admin/stats\">\n                            Statistiken\n                        </Menu.Item>\n                        <Menu.Item key=\"/admin/users\">\n                            Nutzerverwaltung\n                        </Menu.Item>\n                        <Menu.Item key=\"/admin/texts\">\n                            Textbausteine\n                        </Menu.Item>\n                    </Menu.SubMenu>\n                }\n\n                <span key=\"stretch\" className={styles.stretch} />\n\n                {user &&\n                    <Menu.Item key=\"/myaccount\" icon={<UserOutlined />}>\n                        Mein Benutzerkonto\n                    </Menu.Item>\n                }\n            </Menu>\n\n            {user &&\n                <Button\n                    className={cn({\n                        menuButton: true,\n                        horizontal,\n                    })}\n                    onClick={handleLogoutClick}\n                >\n                    Abmelden\n                </Button>\n            }\n\n            {!user &&\n                <Button\n                    className={cn({\n                        menuButton: true,\n                        horizontal,\n                    })}\n                    onClick={handleLoginClick}\n                >\n                    Anmelden\n                </Button>\n            }\n\n            {!user &&\n                <Button\n                    className={cn({\n                        menuButton: true,\n                        horizontal,\n                    })}\n                    type=\"primary\"\n                    onClick={handleRegisterClick}\n                >\n                    Kostenlos Registrieren\n                </Button>\n            }\n        </>\n    );\n}","import { Button, Drawer, Layout, Typography } from 'antd';\nimport React, { useCallback, useContext, useState } from 'react';\n\nimport { MainMenu } from './MainMenu';\nimport { MenuOutlined } from '@ant-design/icons';\nimport { appContext } from '../AppContext';\nimport styles from './NavBar.module.css';\n\nexport function NavBar() {\n    const { orgName } = useContext(appContext);\n\n    const [drawerOpen, setDrawerOpen] = useState(false);\n\n    const openMenu = useCallback(() => setDrawerOpen(true), []);\n    const closeDrawer = useCallback(() => setDrawerOpen(false), []);\n\n    return (\n        <Layout.Header className={styles.header}>\n            <div className={styles.title}>\n                <div className={styles.orgName}>\n                    {orgName}\n                </div>\n                <Typography.Text type=\"secondary\">\n                    Reservierungssystem\n                </Typography.Text>\n            </div>\n            <div className={styles.horizontalMenuWrapper}>\n                <MainMenu horizontal />\n            </div>\n            <div className={styles.drawerMenuWrapper}>\n                <Button\n                    type=\"text\"\n                    icon={<MenuOutlined />}\n                    onClick={openMenu}\n                />\n                <Drawer\n                    title={`${orgName}\\nReservierungssystem`}\n                    visible={drawerOpen}\n                    width={300}\n                    className={styles.drawer}\n                    onClose={closeDrawer}\n                >\n                    <MainMenu onClick={closeDrawer} />\n                </Drawer>\n            </div>\n        </Layout.Header>\n    );\n}","import dayjsGenerateConfig from 'rc-picker/lib/generate/dayjs';\nimport generatePicker from 'antd/es/date-picker/generatePicker';\n\nexport const DatePicker = generatePicker(dayjsGenerateConfig);","import { LeftOutlined, RightOutlined } from '@ant-design/icons';\nimport React, { useCallback, useState } from 'react';\n\nimport Button from 'antd/es/button';\nimport { DatePicker } from './DatePicker';\nimport dayjs from 'dayjs';\nimport styles from './WeekPicker.module.css';\n\nexport function WeekPicker({\n    date,\n    onChange,\n}) {\n    const [open, setOpen] = useState(false);\n\n    const handleClick = useCallback(() => {\n        setOpen(true);\n    }, []);\n\n    const handlePreviousButtonClick = useCallback(e => {\n        onChange(date.subtract(7, 'days'));\n        setOpen(false);\n    }, [date, onChange]);\n\n    const handleNextButtonClick = useCallback(e => {\n        onChange(date.add(7, 'days'));\n        setOpen(false);\n    }, [date, onChange]);\n\n    const handleThisWeekButtonClick = useCallback(e => {\n        onChange(dayjs());\n        setOpen(false);\n    }, [onChange]);\n\n    const handleChange = useCallback(date => {\n        onChange(date);\n        setOpen(false);\n    }, [onChange]);\n\n    const handleOpenChange = useCallback(newOpen => {\n        setOpen(newOpen);\n    }, []);\n\n    return (\n        <div className={styles.wrapper}>\n\n            <div className={styles.middlePicker}>\n                <DatePicker\n                    className={styles.picker}\n                    picker=\"week\"\n                    open={open}\n                    inputReadOnly\n                    allowClear={false}\n                    bordered={true}\n                    value={date}\n                    onOpenChange={handleOpenChange}\n                    format={'[Kalenderwoche] w (YYYY)'}\n                    onClick={handleClick}\n                    onChange={handleChange}\n                    panelRender={panel => \n                        <div className={styles.pickerPanel}>\n                            {panel}\n                        </div>\n                    }\n                    renderExtraFooter={() => \n                        <Button onClick={handleThisWeekButtonClick} type=\"link\">Diese Woche</Button>\n                    }\n                />\n\n                <Button \n                    className={styles.outerThisWeekButton}\n                    onClick={handleThisWeekButtonClick} \n                    type=\"link\"\n                >\n                    Zu Heute springen\n                </Button>\n            </div>\n\n            <Button \n                className={styles.leftButton} \n                onClick={handlePreviousButtonClick}\n            >\n                <LeftOutlined />\n                Vorherige Woche\n            </Button>\n\n            <Button \n                className={styles.rightButton} \n                onClick={handleNextButtonClick}\n            >\n                Nächste Woche\n                <RightOutlined />\n            </Button>\n\n        </div>\n    );\n}","import React, { useCallback, useContext, useState } from 'react';\n\nimport { Alert } from 'antd';\nimport { ReservationCalendar } from './ReservationCalendar';\nimport { WeekPicker } from './WeekPicker';\nimport { appContext } from '../AppContext';\nimport styles from './CalendarPage.module.css';\nimport { useTime } from './useTime';\n\nexport function CalendarPage() {\n\n    const { announcement, courts } = useContext(appContext);\n\n    const today = useTime('day');\n    const [selectedDate, setSelectedDate] = useState(null);\n\n    const handleWeekChange = useCallback(date => {\n        setSelectedDate(date);\n    }, []);\n\n    return (\n        <div className={styles.wrapper}>\n\n            {announcement &&\n                <div className={styles.alert}>\n                    <Alert\n                        message={announcement}\n                        type=\"info\"\n                        showIcon\n                    />\n                </div>\n            }\n\n            {courts.map(({ courtId, name, disabled, disabledFromTil, disabledReason }) => (\n                disabled && (\n                    <div key={courtId} className={styles.alert}>\n                        <Alert\n                            message={`${name} ist gesperrt ab ${disabledFromTil[0].format('dd L')}${disabledFromTil[1] ? disabledFromTil[1].format('[ bis] dd L') : ''}${disabledReason ? `: ${disabledReason}` : ''}`}\n                            type=\"warning\"\n                            showIcon\n                        />\n                    </div>\n                )\n            ))}\n\n            <WeekPicker\n                date={selectedDate || today}\n                onChange={handleWeekChange}\n            />\n\n            <ReservationCalendar\n                selectedDate={selectedDate || today}\n                today={today}\n            />\n        </div>\n    );\n}","import { Button, Checkbox, Form, Input, Space } from 'antd';\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\n\nimport { appContext } from '../AppContext';\n\nexport function AnnouncementForm() {\n\n    const { announcement } = useContext(appContext);\n    const [enabled, setEnabled] = useState();\n\n    const [form] = Form.useForm();\n\n    const resetForm = useCallback(() => {\n        form.resetFields()\n        setEnabled(!!announcement);\n    }, [form, announcement]);\n\n    useEffect(() => {\n        resetForm();\n    }, [resetForm, announcement]);\n\n    const handleEnabledChange = useCallback(e => {\n        setEnabled(e.target.checked);\n    }, []);\n\n    const onFinish = values => {\n        console.log('Success:', values);\n    };\n\n    const onFinishFailed = errorInfo => {\n        console.log('Failed:', errorInfo);\n    };\n\n    return (\n        <Form\n            form={form}\n            layout=\"vertical\"\n            onFinish={onFinish}\n            onFinishFailed={onFinishFailed}\n        >\n            <Form.Item\n                name=\"announcement\"\n                label={\n                    <Checkbox\n                        checked={enabled}\n                        onChange={handleEnabledChange}\n                    >\n                        Ankündigung veröffentlichen\n                    </Checkbox>\n                }\n                initialValue={announcement}\n            >\n                <Input.TextArea\n                    disabled={!enabled}\n                />\n            </Form.Item>\n\n            <Form.Item>\n                <Space>\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        Speichern\n                    </Button>\n                    <Button type=\"default\" onClick={resetForm}>\n                        Zurücksetzen\n                    </Button>\n                </Space>\n            </Form.Item>\n        </Form>\n    );\n}","import { Button, Checkbox, Form, Input, Space } from 'antd';\nimport { CaretDownOutlined, CaretUpOutlined, DeleteOutlined, PlusOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext, useEffect, useMemo, useState } from 'react';\n\nimport { DatePicker } from '../calendar/DatePicker';\nimport { appContext } from '../AppContext';\nimport styles from './CourtConfigForm.module.css';\n\nexport function CourtConfigForm() {\n\n    const { courts } = useContext(appContext);\n    const [, forceUpdate] = useState();\n\n    const [form] = Form.useForm();\n\n    const initialValues = useMemo(() => ({ courts }), [courts]);\n\n    const resetForm = useCallback(() => form.resetFields(), [form]);\n\n    useEffect(() => {\n        form.resetFields();\n    }, [form, courts]);\n\n    const getNextId = useCallback(() => {\n        const curCourts = form.getFieldValue('courts') || [];\n        let maxId = 0;\n        for (let c of [...courts, ...curCourts])\n            maxId = Math.max(c.courtId, maxId);\n        return maxId + 1;\n    }, [courts, form]);\n\n    const onFinish = values => {\n        console.log('Success:', values);\n    };\n\n    // const onFinishFailed = errorInfo => {\n    //     console.log('Failed:', errorInfo);\n    // };\n\n    return (\n        <Form\n            form={form}\n            initialValues={initialValues}\n            layout=\"vertical\"\n            onFinish={onFinish}\n            autoComplete=\"off\"\n        >\n            <Form.List name=\"courts\">\n                {(fields, { add, remove, move }) => (\n                    <>\n                        {fields.map((field, i) => (\n                            <div key={field.key} className={styles.court}>\n                                <Space>\n                                    <Form.Item\n                                        {...field}\n                                        key=\"courtId\"\n                                        label=\"ID\"\n                                        name={[field.name, 'courtId']}\n                                        // name={'courtId'}\n                                        fieldKey={[field.fieldKey, 'courtId']}\n                                    >\n                                        <Input\n                                            disabled\n                                            bordered={false}\n                                            className={styles.courtIdInput}\n                                        />\n                                    </Form.Item>\n\n                                    <Form.Item\n                                        {...field}\n                                        key=\"name\"\n                                        label=\"Name\"\n                                        name={[field.name, 'name']}\n                                        fieldKey={[field.fieldKey, 'name']}\n                                        rules={[{ required: true, message: 'Name erforderlich' }]}\n                                    >\n                                        <Input placeholder=\"z.B.: Platz 1\" />\n                                    </Form.Item>\n\n                                    <Form.Item\n                                        label=\"Aktionen\"\n                                    >\n                                        <Space>\n                                            <Button\n                                                onClick={() => move(i, i - 1)}\n                                                icon={<CaretUpOutlined />}\n                                            />\n                                            <Button\n                                                onClick={() => move(i, i + 1)}\n                                                icon={<CaretDownOutlined />}\n                                            />\n                                            <Button\n                                                onClick={() => remove(field.name)}\n                                                danger\n                                                icon={<DeleteOutlined />}\n                                            />\n                                        </Space>\n                                    </Form.Item>\n                                </Space>\n\n                                <Space>\n                                    <Form.Item\n                                        {...field}\n                                        key=\"disabled\"\n                                        name={[field.name, 'disabled']}\n                                        fieldKey={[field.fieldKey, 'disabled']}\n                                        valuePropName=\"checked\"\n                                    >\n                                        {/*<Checkbox onChange={() => move() /* hack to force update }>*/}\n                                        <Checkbox onChange={forceUpdate}>\n                                            Sperren?\n                                        </Checkbox>\n                                    </Form.Item>\n                                </Space>\n\n                                {form.getFieldValue(['courts', field.name, 'disabled']) &&\n                                    <Space>\n                                        <Form.Item\n                                            {...field}\n                                            key=\"disabledFromTil\"\n                                            label=\"Zeitraum der Sperrung\"\n                                            name={[field.name, 'disabledFromTil']}\n                                            fieldKey={[field.fieldKey, 'disabledFromTil']}\n                                        >\n                                            <DatePicker.RangePicker />\n                                        </Form.Item>\n\n                                        <Form.Item\n                                            {...field}\n                                            key=\"disabledReason\"\n                                            label=\"Grund für Sperrung\"\n                                            name={[field.name, 'disabledReason']}\n                                            fieldKey={[field.fieldKey, 'disabledReason']}\n                                        >\n                                            <Input placeholder=\"z.B.: Arbeiten\" />\n                                        </Form.Item>\n                                    </Space>\n                                }\n                            </div>\n                        ))}\n\n                        <Form.Item key=\"add\">\n                            <Button\n                                type=\"dashed\"\n                                onClick={() => add({ courtId: getNextId() })}\n                                block\n                                icon={<PlusOutlined />}\n                            >\n                                Platz anlegen\n                            </Button>\n                        </Form.Item>\n                    </>\n                )}\n            </Form.List>\n\n            <Form.Item>\n                <Space>\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        Speichern\n                    </Button>\n                    <Button type=\"default\" onClick={resetForm}>\n                        Zurücksetzen\n                    </Button>\n                </Space>\n            </Form.Item>\n        </Form>\n    );\n}","import { Button, Form, Input, InputNumber, Slider, Space } from 'antd';\nimport React, { useCallback, useContext, useEffect } from 'react';\n\nimport { appContext } from '../AppContext';\n\nconst sliderMarks = Array.from(Array(24)).reduce((marks, _, i) => {\n    marks[i] = i; \n    return marks;\n}, {})\n\nexport function SystemConfigForm() {\n\n    const app = useContext(appContext);\n\n    const [form] = Form.useForm();\n\n    const resetForm = useCallback(() => form.resetFields(), [form]);\n\n    useEffect(() => {\n        form.resetFields();\n    }, [form, app]);\n\n    const onFinish = values => {\n        console.log('Success:', values);\n    };\n\n    const onFinishFailed = errorInfo => {\n        console.log('Failed:', errorInfo);\n    };\n\n    return (\n        <Form\n            form={form}\n            layout=\"vertical\"\n            initialValues={app}\n            onFinish={onFinish}\n            onFinishFailed={onFinishFailed}\n        >\n            <Form.Item\n                name=\"url\"\n                label=\"URL des Reservierungssystems\"\n                rules={[{ required: true, message: 'URL ist erforderlich' }]}\n            >\n                <Input />\n            </Form.Item>\n\n            <Form.Item\n                name=\"orgName\"\n                label=\"Vereinsname\"\n                rules={[{ required: true, message: 'Vereinsname ist erforderlich' }]}\n            >\n                <Input />\n            </Form.Item>\n\n            <Form.Item\n                name=\"serverMail\"\n                label=\"E-Mail Adresse, die zum Senden benutzt wird\"\n                rules={[\n                    { type: 'email', message: 'Beispiel: mustermann@web.de' },\n                    { required: true, message: 'E-Mail Adresse ist erforderlich' },\n                ]}\n            >\n                <Input />\n            </Form.Item>\n\n            <Form.Item\n                name=\"reservationDaysInAdvance\"\n                label=\"Anzahl der Tage, die Plätze im voraus reservierbar sind\"\n                rules={[{ required: true, message: 'Angabe ist erforderlich' }]}\n            >\n                <InputNumber \n                    min={1}\n                    max={1825}\n                />\n            </Form.Item>\n\n            <Form.Item\n                name=\"reservationMaxActiveCount\"\n                label=\"Maximale Anzahl an offenen Reservierungen, die ein Nutzer tätigen darf\"\n                rules={[{ required: true, message: 'Angabe ist erforderlich' }]}\n            >\n                <InputNumber \n                    min={1}\n                />\n            </Form.Item>\n\n            <Form.Item\n                name=\"visibleHours\"\n                label=\"Angezeigte Uhrzeiten im Kalender\"\n                rules={[{ required: true, message: 'Angabe ist erforderlich' }]}\n            >\n                <Slider \n                    marks={sliderMarks}\n                    range\n                    min={0}\n                    max={23}\n                />\n            </Form.Item>\n\n            <Form.Item>\n                <Space>\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        Speichern\n                    </Button>\n                    <Button type=\"default\" onClick={resetForm}>\n                        Zurücksetzen\n                    </Button>\n                </Space>\n            </Form.Item>\n        </Form>\n    );\n}","import { Divider, Typography } from 'antd';\n\nimport { AnnouncementForm } from './AnnouncementForm';\nimport { CourtConfigForm } from './CourtConfigForm';\nimport React from 'react';\nimport { SystemConfigForm } from './SystemConfigForm';\nimport styles from './GeneralSettingsPage.module.css';\n\nexport function GeneralSettingsPage() {\n\n    return (\n        <div className={styles.wrapper}>\n\n            <h1>Ankündigung</h1>\n            <AnnouncementForm />\n\n            <Divider />\n\n            <h1>Platzverwaltung</h1>\n            <Typography.Text>\n                Die Reihenfolge gibt die Darstellung im Reservierungskalender vor.\n            </Typography.Text>\n            <br/><br/>\n            <CourtConfigForm />\n\n            <Divider />\n\n            <h1>Basiseinstellungen</h1>\n            <SystemConfigForm />\n\n        </div>\n    );\n}","import React, { useContext } from 'react';\n\nimport { appContext } from '../AppContext';\nimport styles from './InfoPage.module.css';\n\nexport function InfoPage() {\n    const { texts: { infoPage } } = useContext(appContext);\n\n    return (\n        <div className={styles.wrapper}>\n            <div dangerouslySetInnerHTML={{ __html: infoPage }} />\n        </div>\n    );\n}","import React, { useContext } from 'react';\n\nimport { appContext } from '../AppContext';\nimport styles from './LegalPrivacyPage.module.css';\n\nexport function LegalPrivacyPage() {\n    const { texts: { legalPrivacy } } = useContext(appContext);\n\n    return (\n        <div className={styles.wrapper}>\n            <div dangerouslySetInnerHTML={{ __html: legalPrivacy }} />\n        </div>\n    );\n}","import { Link, useHistory, useLocation } from 'react-router-dom';\nimport React, { useContext, useEffect } from 'react';\n\nimport { Alert } from 'antd';\nimport { LoginForm } from './LoginForm';\nimport { authContext } from '../AuthContext';\nimport styles from './LoginPage.module.css';\n\nexport function LoginPage() {\n\n    const { user } = useContext(authContext);\n    const location = useLocation();\n    const history = useHistory();\n\n    useEffect(() => {\n        if (user) {\n            const { from } = location.state || { from: { pathname: \"/\" } };\n            history.replace(from);\n        }\n    }, [history, location, user])\n\n    return (\n        <>\n        <div className={styles.cta}>\n            <Alert type=\"info\" message={\n                <span>Sie haben noch keinen Account? <Link to=\"/register\">Jetzt&nbsp;Registrieren!</Link></span>\n            } />\n        </div>\n        <div className={styles.wrapper}>\n            <h1>Anmelden</h1>\n\n            <LoginForm />\n        </div>\n        </>\n    );\n}","import { Button, Result } from 'antd';\nimport React, { useCallback, useContext, useEffect } from 'react';\n\nimport { authContext } from '../AuthContext';\nimport styles from './LogoutPage.module.css';\nimport { useHistory } from 'react-router-dom';\n\nexport function LogoutPage() {\n\n    const { logout } = useContext(authContext);\n    const history = useHistory();\n    \n    useEffect(() => logout(), [logout]);\n\n    const handleLoginClick = useCallback(() => {\n        history.push('/login');\n    }, [history]);\n\n    const handleCalendarClick = useCallback(() => {\n        history.push('/');\n    }, [history]);\n\n    return (\n        <div className={styles.wrapper}>\n            <Result\n                status=\"success\"\n                title=\"Erfolgreich abgemeldet\"\n                extra={\n                    <div className={styles.buttons}>\n                        <Button type=\"primary\" onClick={handleCalendarClick}>\n                            Zurück zum Kalender\n                        </Button>\n                        <Button onClick={handleLoginClick}>\n                            Erneut Anmelden\n                        </Button>\n                    </div>\n                }\n            />\n        </div>\n    );\n}","import { Button, Checkbox, Form, Input, Space } from 'antd';\nimport React, { useCallback, useContext, useEffect } from 'react';\n\nimport { appContext } from '../AppContext';\nimport styles from './RegisterForm.module.css';\n\nexport function RegisterForm({\n    newUser,\n    currentName,\n    currentMail,\n    reset,\n}) {\n    const { texts: { systemTos } } = useContext(appContext);\n\n    const [form] = Form.useForm();\n\n    const resetForm = useCallback(() => form.resetFields(), [form]);\n\n    useEffect(() => {\n        form.resetFields();\n    }, [form, currentName, currentMail]);\n\n    const onFinish = values => {\n        console.log('Success:', values);\n    };\n\n    const onFinishFailed = errorInfo => {\n        console.log('Failed:', errorInfo);\n    };\n\n    return (\n        <Form\n            form={form}\n            className={styles.form}\n            layout=\"vertical\"\n            onFinish={onFinish}\n            onFinishFailed={onFinishFailed}\n        >\n\n            <Form.Item\n                label=\"Anzeigename\"\n                name=\"name\"\n                initialValue={currentName}\n                rules={[\n                    // { max: 20, message: 'Maximal 20 Zeichen erlaubt' },\n                    // { min: 5, message: 'Mindestens 5 Zeichen erforderlich' },\n                    { required: true, message: 'Der Anzeigename darf nicht leer sein' },\n                    {\n                        pattern: /^[\\u00c0-\\u017eA-Za-z0-9]{1}[\\u00c0-\\u017eA-Za-z0-9\\s]{3,18}[\\u00c0-\\u017eA-Za-z0-9]{1}$/,\n                        message: 'Zwischen 5 und 20 Zeichen bestehend aus: Buchstaben, Zahlen & Leertaste (nicht Anfang / Ende)'\n                    }\n                ]}\n            >\n                <Input />\n            </Form.Item>\n\n            <Form.Item\n                name=\"email\"\n                label=\"E-Mail\"\n                initialValue={currentMail}\n                rules={[\n                    { type: 'email', message: 'Beispiel: mustermann@web.de' },\n                    { required: true, message: 'E-Mail Adresse ist erforderlich' },\n                ]}\n            >\n                <Input />\n            </Form.Item>\n\n            <Form.Item\n                label={newUser ? \"Passwort\" : \"Neues Passwort\"}\n                name=\"password\"\n                rules={[\n                    {\n                        required: true,\n                        validator(_, value) {\n                            if (\n                                (value?.length > 0 && value?.length < 8)\n                                || (newUser && !value)\n                            )\n                                return Promise.reject('Mindestens 8 Zeichen erforderlich');\n                            return Promise.resolve();\n                        },\n                    }\n                ]}\n            >\n                <Input.Password placeholder={newUser ? \"Mind. 8 Zeichen\" : \"Nicht ändern\"} />\n            </Form.Item>\n\n            <Form.Item\n                label=\"Passwort bestätigen\"\n                name=\"password-confirm\"\n                dependencies={['password']}\n                rules={[\n                    ({ getFieldValue }) => ({\n                        required: true,\n                        validator(_, value) {\n                            if (getFieldValue('password') === value)\n                                return Promise.resolve();\n                            return Promise.reject('Passwörter stimmen nicht überein!');\n                        },\n                    })\n                ]}\n            >\n                <Input.Password placeholder={newUser ? \"Mind. 8 Zeichen\" : \"Nicht ändern\"} />\n            </Form.Item>\n\n\n            {newUser &&\n                <>\n                    <div>\n                        <h1>Nutzungsbedingungen</h1>\n                        <div dangerouslySetInnerHTML={{ __html: systemTos }} />\n                    </div>\n\n                    <Form.Item\n                        name=\"tos-accept\"\n                        valuePropName=\"checked\"\n                        rules={[\n                            {\n                                validator: (_, value) =>\n                                    value ? Promise.resolve() : Promise.reject('Erforderlich'),\n                            },\n                        ]}\n                    >\n                        <Checkbox>\n                            Ich akzeptiere die Nutzungsbedingungen\n                        </Checkbox>\n                    </Form.Item>\n                </>\n            }\n\n            <Form.Item>\n                <Space>\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        {newUser ? \"Registrieren\" : \"Speichern\"}\n                    </Button>\n                    {reset &&\n                        <Button type=\"default\" onClick={resetForm}>\n                            Zurücksetzen\n                        </Button>\n                    }\n                </Space>\n            </Form.Item>\n        </Form>\n    );\n}","import { Button, Divider, Typography } from 'antd';\nimport React, { useContext } from 'react';\n\nimport { RegisterForm } from './RegisterForm';\nimport { authContext } from '../AuthContext';\nimport styles from './MyAccountPage.module.css';\n\nexport function MyAccountPage() {\n\n    const { user: { name, mail } } = useContext(authContext);\n\n    return (\n        <div className={styles.wrapper}>\n            <h1>Benutzerkonto</h1>\n\n            <RegisterForm\n                currentMail={mail}\n                currentName={name}\n                reset\n            />\n\n            <Divider />\n\n            <h1>Datenschutz</h1>\n            <div className={styles.buttonWrapper}>\n                <Button>\n                    Datenauskunft anfordern\n                </Button>\n                <div>Sie erhalten eine Mail mit einer Übersicht über alle Ihre gespeicherten Daten.</div>\n            </div>\n            <div className={styles.buttonWrapper}>\n                <Button>\n                    Alle Daten löschen\n                </Button>\n                <Typography.Text type=\"danger\">Diese Aktion kann nicht rückgängig gemacht werden.</Typography.Text>\n                <div>Es werden alle Ihre Daten (Reservierungen und Benutzerkonto) endgültig gelöscht.</div>\n            </div>\n\n        </div>\n    );\n}","import { DeleteOutlined, EditOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext } from 'react';\n\nimport { Button } from 'antd';\nimport { ReservationDetails } from './ReservationDetails';\nimport { appContext } from '../AppContext';\nimport styles from './ReservationDetailsCard.module.css';\n\nexport function ReservationDetailsCard({\n    groupDates,\n    reservation,\n    onEditClick,\n}) {\n    const { courts } = useContext(appContext);\n\n    const { date, courtId, name, customName } = reservation;\n\n    const courtName = courts.find(c => c.courtId === courtId)?.name;\n\n    const handleEditClick = useCallback(() => {\n        onEditClick(reservation);\n    }, [reservation, onEditClick]);\n\n    return (\n        <div className={styles.card}>\n            <Button\n                className={styles.editButton}\n                type=\"primary\"\n                onClick={handleEditClick}\n            >\n                <EditOutlined /> | <DeleteOutlined />\n            </Button>\n\n            <ReservationDetails\n                small\n                date={date}\n                courtName={courtName}\n                groupDates={groupDates}\n                name={customName || name}\n                showAllDates\n            />\n        </div>\n    );\n}","import React, { useCallback, useContext, useState } from 'react';\n\nimport { Empty } from 'antd';\nimport { ReservationDetailsCard } from './ReservationDetailsCard';\nimport { ReservationModal } from './ReservationModal';\nimport { authContext } from '../AuthContext';\nimport styles from './MyReservationsPage.module.css';\nimport { useTime } from './useTime';\nimport { useUserReservations } from './useReservations';\n\nfunction getGroupDates(myReservations, reservation) {\n    if (!reservation?.groupId)\n        return null;\n    return myReservations\n        .filter(r => r.groupId === reservation.groupId)\n        .map(r => r.date);\n}\n\nexport function MyReservationsPage() {\n\n    const { user: { userId } } = useContext(authContext);\n\n    const today = useTime('day');\n    const [selectedReservation, setSelectedReservation] = useState();\n\n    const myReservations = useUserReservations(today, userId);\n\n    const handleEditClick = useCallback(reservation => {\n        setSelectedReservation(reservation);\n    }, []);\n\n    const handleReservationEditFinish = useCallback(() => {\n        setSelectedReservation(null);\n    }, []);\n\n    return (\n        <div className={styles.wrapper}>\n            {!myReservations?.length &&\n                <div className={styles.content}>\n                    <Empty\n                        className={styles.empty}\n                        description=\"Keine Reservierungen\"\n                    />\n                </div>\n            }\n\n            {myReservations?.length > 0 &&\n                <>\n                    <h1>Nächster Termin</h1>\n                    <div className={styles.content}>\n                        <ReservationDetailsCard\n                            key={myReservations[0].id}\n                            reservation={myReservations[0]}\n                            groupDates={getGroupDates(myReservations, myReservations[0])}\n                            onEditClick={handleEditClick}\n                        />\n                    </div>\n                </>\n            }\n\n            {myReservations?.length > 1 &&\n                <>\n                    <h1>Weitere Termine</h1>\n                    <div className={styles.content}>\n                        {myReservations.map((reservation, i) => {\n                            if (i === 0)\n                                return null;\n                            return (\n                                <ReservationDetailsCard\n                                    key={reservation.id}\n                                    reservation={reservation}\n                                    groupDates={getGroupDates(myReservations, reservation)}\n                                    onEditClick={handleEditClick}\n                                />\n                            );\n                        })}\n                    </div>\n                </>\n            }\n\n            {selectedReservation &&\n                <ReservationModal\n                    date={selectedReservation?.date}\n                    courtId={selectedReservation?.courtId}\n                    reservation={selectedReservation}\n                    onFinish={handleReservationEditFinish}\n                />\n            }\n        </div>\n    );\n}","import { Redirect, Route } from 'react-router-dom';\n\nimport React from 'react';\n\nexport function ProtectedRoute({ condition, children, ...rest }) {\n    return (\n        <Route\n            {...rest}\n            render={({ location }) =>\n                condition\n                    ? children\n                    : <Redirect to={{ pathname: \"/login\", state: { from: location } }} />\n            }\n        />\n    );\n}","import { Link } from 'react-router-dom';\nimport React from 'react';\nimport { RegisterForm } from './RegisterForm';\nimport styles from './RegisterPage.module.css';\n\nexport function RegisterPage() {\n\n    // const onFinish = values => {\n    //     console.log('Success:', values);\n    // };\n\n    // const onFinishFailed = errorInfo => {\n    //     console.log('Failed:', errorInfo);\n    // };\n\n    return (\n        <div className={styles.wrapper}>\n\n            <h1>\n                Registrieren\n                <div className={styles.loginItem}>\n                    <span>Bereits registriert? </span>\n                    <Link to=\"/login\">Anmelden</Link>\n                </div>\n            </h1>\n\n            <RegisterForm\n                newUser\n            />\n        </div>\n    );\n}","import { Card, Col, List, Radio, Row, Statistic } from 'antd';\nimport React, { useCallback, useState } from 'react';\n\nimport styles from './StatsPage.module.css';\n\nexport function StatsPage() {\n\n    const [timePeriod, setTimePeriod] = useState(30);\n\n    const [stats, setStats] = useState({\n        perPage: [\n            ['/', 62],\n            ['/myreservations', 42],\n            ['/myaccount', 6],\n        ],\n        browser: [\n            ['Chrome', 62],\n        ],\n        os: [\n            ['Android', 20],\n            ['Windows 10', 19],\n            ['Mac OS', 18],\n        ],\n        referrer: [\n            ['google', 20],\n        ],\n    });\n\n    const handleTimePeriodChange = useCallback(e => {\n        setTimePeriod(e.target.value);\n    }, []);\n\n    return (\n        <div className={styles.wrapper}>\n\n            <Row gutter={[16, 16]} align=\"middle\" justify=\"space-between\">\n                <Col>\n                    <h1>Nutzungstatistiken</h1>\n                </Col>\n                <Col>\n                    <Radio.Group\n                        onChange={handleTimePeriodChange}\n                        value={timePeriod}\n                        buttonStyle=\"solid\"\n                    >\n                        <Radio.Button value={7}>7 Tage</Radio.Button>\n                        <Radio.Button value={30}>30 Tage</Radio.Button>\n                        <Radio.Button value={365}>1 Jahr</Radio.Button>\n                        <Radio.Button value={0}>Alle</Radio.Button>\n                    </Radio.Group>\n                </Col>\n            </Row>\n\n            <br />\n\n            <Row gutter={[16, 16]}>\n                <Col xs={12} md={8}>\n                    <Statistic\n                        title=\"Neue Reservierungen\"\n                        value={234}\n                    />\n                </Col>\n\n                <Col xs={12} md={8}>\n                    <Statistic\n                        title=\"Stornierte Reservierungen\"\n                        value={6}\n                    />\n                </Col>\n\n                <Col xs={12} md={8}>\n                    <Statistic\n                        title=\"Gesamte Reservierungen\"\n                        value={82}\n                        suffix=\" in Zeitraum\"\n                    />\n                </Col>\n\n                <Col xs={12} md={8}>\n                    <Statistic\n                        title=\"Seitenaufrufe\"\n                        value={1234}\n                    />\n                </Col>\n\n                <Col xs={12} md={8}>\n                    <Statistic\n                        title=\"Besucher\"\n                        value={123}\n                        prefix=\"&#177;\"\n                    />\n                </Col>\n\n                <Col xs={12} md={8}>\n                    <Statistic\n                        title=\"Anteil Mobilgeräte\"\n                        value={24}\n                        suffix=\"%\"\n                    />\n                </Col>\n            </Row>\n\n            <Row gutter={[16, 16]}>\n\n                <Col xs={24} md={12}>\n                    <Card title={<h3>Pro Seite</h3>} bordered={true}>\n                        <List>\n                            {stats.perPage.map(([page, views]) => (\n                                <List.Item key={page}>\n                                    <span>{page}</span>\n                                    <span className={styles.spacer} />\n                                    <span>{views} Aufrufe</span>\n                                </List.Item>\n                            ))}\n                        </List>\n                    </Card>\n                </Col>\n\n                <Col xs={24} md={12}>\n                    <Card title={<h3>Referrer</h3>} bordered={true}>\n                        <List>\n                            {stats.referrer.map(([referrer, user]) => (\n                                <List.Item key={referrer}>\n                                    <span>{referrer}</span>\n                                    <span className={styles.spacer} />\n                                    <span>{user} Benutzer</span>\n                                </List.Item>\n                            ))}\n                        </List>\n                    </Card>\n                </Col>\n\n                <Col xs={24} md={12}>\n                    <Card title={<h3>Browser</h3>} bordered={true}>\n                        <List>\n                            {stats.browser.map(([browser, user]) => (\n                                <List.Item key={browser}>\n                                    <span>{browser}</span>\n                                    <span className={styles.spacer} />\n                                    <span>{user} Benutzer</span>\n                                </List.Item>\n                            ))}\n                        </List>\n                    </Card>\n                </Col>\n\n                <Col xs={24} md={12}>\n                    <Card title={<h3>Betriebssysteme</h3>} bordered={true}>\n                        <List>\n                            {stats.os.map(([os, user]) => (\n                                <List.Item key={os}>\n                                    <span>{os}</span>\n                                    <span className={styles.spacer} />\n                                    <span>{user} Benutzer</span>\n                                </List.Item>\n                            ))}\n                        </List>\n                    </Card>\n                </Col>\n\n            </Row>\n\n        </div>\n    );\n}","import { BtnBold, BtnBulletList, BtnClearFormatting, BtnItalic, BtnLink, BtnNumberedList, BtnRedo, BtnUnderline, BtnUndo, Button, Editor, Separator, Toolbar } from 'react-simple-wysiwyg';\nimport React, { useCallback, useMemo, useState } from 'react';\n\nimport { Input } from 'antd';\nimport styles from './HtmlEditor.module.css';\nimport { withEditorContext } from 'react-simple-wysiwyg/lib/Editor';\n\nfunction createButton(\n    title,\n    content,\n    command,\n    commandArgument,\n) {\n    ButtonFactory.displayName = title.replace(/\\s/g, '');\n\n    return withEditorContext(ButtonFactory);\n\n    function ButtonFactory(props) {\n        const { selection, ...buttonProps } = props;\n\n        let active = false;\n        if (typeof command === 'string') {\n            active = !!selection && document.queryCommandState(command);\n        }\n\n        return (\n            <Button title={title} {...buttonProps} onMouseDown={action} active={active}>\n                {content}\n            </Button>\n        );\n\n        function action() {\n            if (typeof command === 'function') {\n                command(selection);\n            } else if (commandArgument) {\n                document.execCommand(command, false, commandArgument);\n            } else {\n                document.execCommand(command);\n            }\n        }\n    }\n}\n\nconst BtnH1 = createButton('H1', '𝗛1', 'formatBlock', 'H1');\nconst BtnH2 = createButton('H2', '𝗛2', 'formatBlock', 'H2');\nconst BtnBlock = createButton('Block', 'Block', 'formatBlock', 'div');\nconst BtnParagraph = createButton('Absatz', 'Absatz', 'formatBlock', 'p');\n\nconst defaultValue = '';\n\nexport function HtmlEditor({\n    value,\n    onChange,\n}) {\n    const [showHtml, setShowHtml] = useState(false);\n\n    const handleChange = useCallback(e => {\n        onChange(e.target.value);\n    }, [onChange]);\n\n    const BtnShowHtml = useMemo(() => {\n        const title = showHtml ? 'HTML ausblenden' : 'HTML-Editor';\n        return createButton(title, title, () => {\n            setShowHtml(!showHtml);\n        });\n    }, [showHtml]);\n\n    return (\n        <div>\n            <Editor\n                value={value || defaultValue}\n                onChange={handleChange}\n            >\n                <Toolbar className={styles.toolbar}>\n\n                    <BtnUndo />\n                    <BtnRedo />\n\n                    <Separator />\n\n                    <BtnBold />\n                    <BtnItalic />\n                    <BtnUnderline />\n\n                    <Separator />\n\n                    <BtnNumberedList />\n                    <BtnBulletList />\n\n                    <Separator />\n\n                    <BtnLink />\n                    <BtnClearFormatting />\n\n                    <Separator />\n\n                    <BtnBlock className={styles.varWidth} />\n                    <BtnParagraph className={styles.varWidth} />\n                    <BtnH1 />\n                    <BtnH2 />\n\n                    <Separator />\n\n                    <BtnShowHtml className={styles.varWidth} />\n\n                </Toolbar>\n            </Editor>\n\n            {showHtml &&\n                <Input.TextArea\n                    value={value || defaultValue}\n                    onChange={handleChange}\n                    autoSize\n                />\n            }\n        </div>\n    );\n}","import { Button, Input, Space } from 'antd';\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\n\nimport { HtmlEditor } from './HtmlEditor';\nimport { appContext } from '../AppContext';\nimport styles from './TemplateEditor.module.css';\n\nconst wrapperStyle = { display: 'flex' };\n\nexport function TemplateEditor({\n    textKey,\n    mailKey,\n    extra,\n    replacements,\n}) {\n\n    const { texts, mailTemplates } = useContext(appContext);\n    const [value, setValue] = useState();\n    const [subject, setSubject] = useState();\n\n    const save = useCallback(() => {\n        setValue(value => {\n            setSubject(subject => {\n                // check if value only consists of empty tags\n                const cleanValue = value.match(/<.*?>([^<>]+)<.*?>/gim) ? value : '';\n                console.log('save', { value: cleanValue, subject });\n                return subject;\n            });\n            return value;\n        });\n    }, []);\n\n    const reset = useCallback(() => {\n        if (mailKey) {\n            const { body, subject } = (mailTemplates[mailKey] || {});\n            setValue(body);\n            setSubject(subject);\n        } else if (textKey) {\n            setValue(texts[textKey]);\n        }\n    }, [texts, mailTemplates, textKey, mailKey]);\n\n    useEffect(() => {\n        reset();\n    }, [reset, texts, mailTemplates])\n\n    const handleSubjectChange = useCallback(e => {\n        setSubject(e.target.value);\n    }, []);\n\n    return (\n        <Space direction=\"vertical\" style={wrapperStyle}>\n\n            {mailKey &&\n                <Input addonBefore=\"Betreff:\" value={subject} onChange={handleSubjectChange} />\n            }\n\n            <HtmlEditor\n                value={value}\n                onChange={setValue}\n            />\n\n            {replacements &&\n                <div>\n                    <h3>Automatische Ersetzungen</h3>\n                    <ul>\n                        {replacements.map(({ key, description }) => (\n                            <li key={key}>\n                                <span className={styles.key}>{key}</span>\n                                {' - '}\n                                <span>{description}</span>\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            }\n\n            <div>\n                {extra}\n            </div>\n\n            <Space>\n                <Button type=\"primary\" onClick={save}>\n                    Speichern\n                </Button>\n                <Button onClick={reset}>\n                    Zurücksetzen\n                </Button>\n            </Space>\n        </Space>\n    );\n}","import { Divider, Tabs } from 'antd';\n\nimport React from 'react';\nimport { TemplateEditor } from './TemplateEditor';\nimport styles from './TextBlocksPage.module.css';\n\nexport function TextBlocksPage() {\n\n    return (\n        <div className={styles.wrapper}>\n            <Tabs className={styles.tabs} type=\"card\">\n\n                <Tabs.TabPane tab=\"Hinweis-Seite\" key=\"2\">\n                    <div className={styles.content}>\n\n                        <TemplateEditor textKey='infoPage' />\n\n                    </div>\n                </Tabs.TabPane>\n\n                <Tabs.TabPane tab=\"Impressum / Datenschutz\" key=\"i\">\n                    <div className={styles.content}>\n\n                        <TemplateEditor \n                            textKey='legalPrivacy' \n                            extra={\n                                <>\n                                    <h2>Rechtliche Informationen</h2>\n                                    <div>\n                                        <div>Folgende Informationen sollten in die Datenschutzerklärung eingebracht werden.</div>\n                                        <ul>\n                                            <li>\n                                                Das System verwendet eine zu Cookies ähnliche Technologie, \n                                                um Basisfunktionen wie die Nutzeranmeldung zu ermöglichen.\n                                            </li>\n                                            <li>\n                                                Es werden keinerlei Daten mit Dritten ausgetauscht.\n                                            </li>\n                                            <li>\n                                                Es werden keine Tracking Cookies gesetzt.\n                                            </li>\n                                            <li>\n                                                Das System hat ein eingebautes Tracking-System,\n                                                um Seitenaufrufe, etc. zu zählen. \n                                                <br/>\n                                                Dazu werden Anfragen an den Server ausgewertet.\n                                                Aus den Informationen der Anfrage wird für jeden Nutzer\n                                                ein Fingerprint erstellt, um die Anzahl der Aufrufe in Abhängigkeit unterschiedliche Nutzer zählen zu können. \n                                                Dabei werden keine personenbezogenen Daten gespeichert oder weitergegeben. \n                                                Der Fingerprint erneuert sich täglich, damit keine Nutzerprofile erstellt werden können. \n                                            </li>\n                                        </ul>\n                                    </div>\n                                </>\n                            }\n                        />\n\n                    </div>\n                </Tabs.TabPane>\n\n                <Tabs.TabPane tab=\"Reservierungsdialog\" key=\"1\">\n                    <div className={styles.content}>\n\n                        <h1>Preis</h1>\n                        <TemplateEditor\n                            textKey='reservationPrice'\n                            extra='Ein leerer Wert deaktiviert diesen Textblock.'\n                        />\n\n                        <Divider />\n\n                        <h1>Nutzungsordnung</h1>\n                        <TemplateEditor\n                            textKey='reservationTos'\n                            extra={\n                                <>\n                                    <div>Der Nutzer muss diese Nutzungsordnung akzeptieren, um eine Reservierung durchzuführen.</div>\n                                    <div>Ein leerer Wert deaktviert diesen Textblock.</div>\n                                </>\n                            }\n                        />\n\n                    </div>\n                </Tabs.TabPane>\n\n                <Tabs.TabPane tab=\"Registrierung\" key=\"7\">\n                    <div className={styles.content}>\n\n                        <h1>Nutzungsbedingungen</h1>\n                        <TemplateEditor\n                            textKey='systemTos'\n                            extra='Der Nutzer muss diese Nutzungsbedingungen akzeptieren, um sich Registrieren zu können.'\n                        />\n\n                    </div>\n                </Tabs.TabPane>\n\n                <Tabs.TabPane tab=\"E-Mail Vorlagen\" key=\"3\">\n                    <div className={styles.content}>\n\n                        <h1>Reservierungsbestätigung</h1>\n                        <TemplateEditor\n                            mailKey='reservationConfirmation'\n                            replacements={[\n                                { \n                                    key: '{{name}}',\n                                    description: 'Wird durch den Namen des Benutzers ersetzt',\n                                },\n                                { \n                                    key: '{{reservierung}}',\n                                    description: 'Wird durch die Angaben zur getätigen Reservierung ersetzt',\n                                }\n                            ]}\n                        />\n\n                        <Divider />\n\n                        <h1>Stornierung</h1>\n                        <TemplateEditor\n                            mailKey='reservationCancelled'\n                            replacements={[\n                                { \n                                    key: '{{name}}',\n                                    description: 'Wird durch den Namen des Benutzers ersetzt',\n                                },\n                                { \n                                    key: '{{reservierung}}',\n                                    description: 'Wird durch die Angaben zur stornierten Reservierung ersetzt',\n                                },\n                                { \n                                    key: '{{grund}}',\n                                    description: 'Wird durch den Grund der Stornierung ersetzt',\n                                }\n                            ]}\n                        />\n\n                        <Divider />\n\n                        <h1>Registrierung: E-Mail bestätigen</h1>\n                        <TemplateEditor\n                            mailKey='confirmMail'\n                            replacements={[\n                                { \n                                    key: '{{name}}',\n                                    description: 'Wird durch den Namen des Benutzers ersetzt',\n                                },\n                                { \n                                    key: '{{link}}',\n                                    description: 'Wird durch den Bestätigungslink ersetzt',\n                                },\n                            ]}\n                        />\n\n                        <Divider />\n\n                        <h1>Registrierung: Passwort vergessen</h1>\n                        <TemplateEditor\n                            mailKey='resetPassword'\n                            replacements={[\n                                { \n                                    key: '{{name}}',\n                                    description: 'Wird durch den Namen des Benutzers ersetzt',\n                                },\n                                { \n                                    key: '{{link}}',\n                                    description: 'Wird durch den Link zum Passwort-Reset ersetzt',\n                                },\n                            ]}\n                        />\n\n                    </div>\n                </Tabs.TabPane>\n\n            </Tabs>\n        </div>\n    );\n}","import { Button, Modal, Space, Table, Tooltip } from 'antd';\nimport { DeleteOutlined, EditOutlined, ExclamationCircleOutlined, MailOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\n\nimport { authContext } from '../AuthContext';\nimport dayjs from 'dayjs';\nimport styles from './UserManagementPage.module.css';\n\nexport function UserManagementPage() {\n\n    const { user: { userId } } = useContext(authContext);\n\n    const [userList, setUserList] = useState([]);\n\n    const refreshUserList = useCallback(() => {\n        setUserList([\n            {\n                key: '3', // required by antd table\n                userId: '3',\n                name: 'Jürgen M.',\n                mail: 'juergen@example.com',\n                admin: true,\n                lastActivity: dayjs().subtract(4, 'days'),\n                upcomingReservationCount: 3,\n                totalReservationCount: 41,\n            },\n            {\n                key: '1', // required by antd table\n                userId: 1,\n                name: 'Müller',\n                mail: 'mueller@example.com',\n                admin: true,\n                lastActivity: dayjs().subtract(1, 'm'),\n                upcomingReservationCount: 3,\n                totalReservationCount: 41,\n            },\n            {\n                key: '41', // required by antd table\n                userId: '41',\n                name: 'Franz Test',\n                mail: 'test.franz.mein.mail@franz.de',\n                admin: false,\n                lastActivity: dayjs().subtract(3, 'h'),\n                upcomingReservationCount: 0,\n                totalReservationCount: 140,\n            }\n        ])\n    }, []);\n\n    // const deleteUser = useCallback(userId => {\n    //     console.log('delete user', userId);\n    //     refreshUserList()\n    // }, [refreshUserList]);\n\n    useEffect(() => {\n        refreshUserList();\n    }, [refreshUserList]);\n\n\n    const columns = [\n        {\n            title: 'UserId',\n            dataIndex: 'userId',\n            key: 'userId',\n            width: '5%',\n            sorter: (a, b) => a.userId < b.userId ? -1 : 1,\n        },\n        {\n            title: 'Admin',\n            dataIndex: 'admin',\n            key: 'admin',\n            width: '10%',\n            sorter: (a, b) => a.admin === b.admin ? 0 : (a.admin ? -1 : 1),\n            render: (_, record) => (\n                <div>\n                    {record.admin ? \"Ja\" : \"Nein\"}\n                    <Tooltip title=\"Adminstatus ändern\">\n                        <Button\n                            disabled={record.userId === userId}\n                            type=\"link\"\n                            icon={<EditOutlined />}\n                            onClick={() => {\n                                Modal.confirm({\n                                    title: record.admin ? 'Adminrechte entziehen?' : 'Adminrechte vergeben?',\n                                    icon: <ExclamationCircleOutlined />,\n                                    content: (\n                                        <div>\n                                            Der Nutzer\n                                            <br />\n                                            <strong>{record.name} ({record.mail})</strong>\n                                            <br />\n                                            wird durch diese Aktion {record.admin ? 'zu einem normalen Nutzer herabgestuft.' : 'zum Admin befördert.'}\n                                        </div>\n                                    ),\n                                    okText: record.admin ? 'Rechte entziehen' : 'Zum Admin machen',\n                                    okType: 'danger',\n                                    cancelText: 'Abbrechen',\n                                    onOk() {\n                                        console.log('OK');\n                                    },\n                                    onCancel() {\n                                        console.log('Cancel');\n                                    },\n                                });\n                            }}\n                        />\n                    </Tooltip>\n                </div>\n            )\n        },\n        {\n            title: 'Name',\n            dataIndex: 'name',\n            key: 'name',\n            width: '20%',\n            sorter: (a, b) => a.name.localeCompare(b.name),\n        },\n        {\n            title: 'E-Mail',\n            dataIndex: 'mail',\n            key: 'mail',\n            width: '25%',\n            sorter: (a, b) => a.mail.localeCompare(b.mail),\n        },\n        {\n            title: 'Letzte Aktivität',\n            dataIndex: 'lastActivity',\n            key: 'lastActivity',\n            width: '20%',\n            sorter: (a, b) => a.lastActivity - b.lastActivity,\n            render: (_, record) => record.lastActivity?.format('L LT')\n        },\n        {\n            title: 'Reservierungen (offen)',\n            dataIndex: 'upcomingReservationCount',\n            key: 'upcomingReservationCount',\n            width: '5%',\n            sorter: (a, b) => a.upcomingReservationCount - b.upcomingReservationCount,\n        },\n        {\n            title: 'Reservierungen (gesamt)',\n            dataIndex: 'totalReservationCount',\n            key: 'totalReservationCount',\n            width: '5%',\n            sorter: (a, b) => a.totalReservationCount - b.totalReservationCount,\n        },\n        {\n            title: 'Aktionen',\n            key: 'action',\n            render: (_, record) => (\n                <Space key={record._id}>\n                    <Tooltip title=\"E-Mail senden\">\n                        <Button\n                            type=\"link\"\n                            icon={<MailOutlined />}\n                            onClick={() => {\n                                window.location.href = `mailto:${record.mail}`;\n                            }}\n                        />\n                    </Tooltip>\n                    <Tooltip title=\"Nutzer löschen\">\n                        <Button\n                            type=\"link\"\n                            danger\n                            icon={<DeleteOutlined />}\n                            onClick={() => {\n                                Modal.confirm({\n                                    title: 'Nutzer löschen?',\n                                    icon: <ExclamationCircleOutlined />,\n                                    content: (\n                                        <>\n                                            <div>Diese Aktion kann nicht rückgängig gemacht werden.</div>\n                                            <div>Es werden alle Daten sowie Reservierungen unwiderruflich gelöscht.</div>\n                                            <br />\n                                            <div>\n                                                <strong>\n                                                    Nutzer: {record.name}\n                                                    <br />\n                                                    E-Mail: {record.mail}\n                                                </strong>\n                                            </div>\n                                        </>\n                                    ),\n                                    okText: 'Unwiderruflich Löschen',\n                                    okType: 'danger',\n                                    cancelText: 'Abbrechen',\n                                    onOk() {\n                                        console.log('OK');\n                                    },\n                                    onCancel() {\n                                        console.log('Cancel');\n                                    },\n                                });\n                            }}\n                        />\n                    </Tooltip>\n                </Space>\n            ),\n        },\n    ];\n\n    return (\n\n        <div className={styles.wrapper}>\n            <h1>Nutzerverwaltung</h1>\n            <Table\n                columns={columns}\n                dataSource={userList}\n                scroll={{ x: 1300 }}\n            />\n        </div>\n    )\n}","import React, { useContext } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\n\nimport { CalendarPage } from '../calendar/CalendarPage';\nimport { GeneralSettingsPage } from '../admin/GeneralSettingsPage';\nimport { InfoPage } from '../other/InfoPage';\nimport { LegalPrivacyPage } from '../other/LegalPrivacyPage';\nimport { LoginPage } from '../user/LoginPage';\nimport { LogoutPage } from '../user/LogoutPage';\nimport { MyAccountPage } from '../user/MyAccountPage';\nimport { MyReservationsPage } from '../calendar/MyReservationsPage';\nimport { ProtectedRoute } from './ProtectedRoute';\nimport { RegisterPage } from '../user/RegisterPage';\nimport { StatsPage } from '../admin/StatsPage';\nimport { TextBlocksPage } from '../admin/TextBlocksPage';\nimport { UserManagementPage } from '../admin/UserManagementPage';\nimport { authContext } from '../AuthContext';\n\nexport function RouterSwitch() {\n\n    const { user } = useContext(authContext);\n\n    return (\n        <Switch>\n\n            <Route exact path=\"/\">\n                <CalendarPage />\n            </Route>\n\n            <Route exact path=\"/info\">\n                <InfoPage />\n            </Route>\n\n            <Route exact path=\"/legalnotice-privacy\">\n                <LegalPrivacyPage />\n            </Route>\n\n            <Route exact path=\"/logout\">\n                <LogoutPage />\n            </Route>\n\n            <Route exact path=\"/login\">\n                <LoginPage />\n            </Route>\n\n            <Route exact path=\"/register\"\n                render={() =>\n                    user\n                        ? <Redirect to=\"/\" />\n                        : <RegisterPage />\n                }\n            />\n\n            <ProtectedRoute condition={user?.admin} exact path=\"/admin/general\">\n                <GeneralSettingsPage />\n            </ProtectedRoute>\n\n            <ProtectedRoute condition={user?.admin} exact path=\"/admin/stats\">\n                <StatsPage />\n            </ProtectedRoute>\n\n            <ProtectedRoute condition={user?.admin} exact path=\"/admin/users\">\n                <UserManagementPage />\n            </ProtectedRoute>\n\n            <ProtectedRoute condition={user?.admin} exact path=\"/admin/texts\">\n                <TextBlocksPage />\n            </ProtectedRoute>\n\n            <ProtectedRoute condition={user} exact path=\"/myreservations\">\n                <MyReservationsPage />\n            </ProtectedRoute>\n\n            <ProtectedRoute condition={user} exact path=\"/myaccount\">\n                <MyAccountPage />\n            </ProtectedRoute>\n\n            <Route path=\"*\">\n                <Redirect to=\"/\" />\n            </Route>\n\n        </Switch>\n    );\n}","import React, { useContext } from 'react';\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom';\n\nimport { Ball } from './Ball';\nimport { CookieNotice } from './CookieNotice';\nimport { Footer } from './Footer';\nimport { KioskPage } from './kiosk/KioskPage';\nimport { Layout } from 'antd';\nimport { NavBar } from './navigation/NavBar';\nimport { RouterSwitch } from './navigation/RouterSwitch';\nimport { appContext } from './AppContext';\nimport styles from './App.module.css';\n\nfunction App() {\n    const appData = useContext(appContext);\n\n    const basename = process.env.PUBLIC_URL;\n\n    if (!appData)\n        return (\n            <Ball\n                visible={!appData}\n                preloader\n                spin\n            />\n        );\n\n    return (\n        <>\n            <Router basename={basename}>\n                <Layout>\n                    <Switch>\n\n                        <Route exact path=\"/kiosk\">\n                            <Layout.Content className={styles.content}>\n                                <KioskPage />\n                            </Layout.Content>\n                            <Layout.Footer className={styles.footer}>\n                                <Footer noLinks />\n                            </Layout.Footer>\n                        </Route>\n\n                        <Route path=\"*\">\n\n                            <NavBar />\n                            <Layout.Content className={styles.content}>\n                                <RouterSwitch />\n                            </Layout.Content>\n                            <Layout.Footer className={styles.footer}>\n                                <Footer />\n                            </Layout.Footer>\n                            <CookieNotice />\n\n                        </Route>\n\n                    </Switch>\n                </Layout>\n            </Router>\n        </>\n    );\n}\n\nexport default App;\n","import 'antd/dist/antd.css';\nimport './index.css';\nimport 'dayjs/locale/de';\nimport 'fontsource-inter/latin-400.css';\nimport 'fontsource-inter/latin-600.css';\n\nimport * as serviceWorker from './serviceWorker';\n\nimport App from './App';\nimport { AppContextProvider } from './AppContext';\nimport { AuthContextProvider } from './AuthContext';\nimport { ConfigProvider } from 'antd';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport dayjs from 'dayjs';\nimport isBetween from 'dayjs/plugin/isBetween';\nimport isSameOrAfter from 'dayjs/plugin/isSameOrAfter';\nimport locale from 'antd/lib/locale/de_DE';\nimport localizedFormat from 'dayjs/plugin/localizedFormat';\nimport weekOfYear from 'dayjs/plugin/weekOfYear';\nimport weekYear from 'dayjs/plugin/weekYear';\n\ndayjs.locale('de');\ndayjs.extend(weekOfYear);\ndayjs.extend(weekYear);\ndayjs.extend(localizedFormat);\ndayjs.extend(isBetween);\ndayjs.extend(isSameOrAfter);\n\nReactDOM.render((\n    <ConfigProvider locale={locale}>\n        <AppContextProvider>\n            <AuthContextProvider>\n                <App />\n            </AuthContextProvider>\n        </AppContextProvider>\n    </ConfigProvider>\n), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"GroupDatesForm_wrapper__1y-OM\",\"enableCheckbox\":\"GroupDatesForm_enableCheckbox__9VLNU\",\"repeatSettings\":\"GroupDatesForm_repeatSettings__3UxuW\",\"repeatTypes\":\"GroupDatesForm_repeatTypes__1Gm6y\",\"dates\":\"GroupDatesForm_dates__3x0zy\",\"extra\":\"GroupDatesForm_extra__1E_ct\",\"danger\":\"GroupDatesForm_danger__3ndEw\",\"unchecked\":\"GroupDatesForm_unchecked__uXvUe\",\"date\":\"GroupDatesForm_date__2ixOV\",\"buttons\":\"GroupDatesForm_buttons__2ffBH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"KioskPage_wrapper__2lwpn\",\"top\":\"KioskPage_top__1rY1B\",\"title\":\"KioskPage_title__uTtKZ\",\"linkQr\":\"KioskPage_linkQr__6q4Tf\",\"orgName\":\"KioskPage_orgName__26BvU\",\"subTitle\":\"KioskPage_subTitle__1tHUZ\",\"alert\":\"KioskPage_alert__1zypA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"WeekPicker_wrapper__gW-q4\",\"middlePicker\":\"WeekPicker_middlePicker__1K4lw\",\"outerThisWeekButton\":\"WeekPicker_outerThisWeekButton__3-TVK\",\"picker\":\"WeekPicker_picker__1eBe4\",\"pickerPanel\":\"WeekPicker_pickerPanel__ItcDL\",\"leftButton\":\"WeekPicker_leftButton__2mGJ3\",\"rightButton\":\"WeekPicker_rightButton__1yWle\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"TextBlocksPage_wrapper__1ipRn\",\"tabs\":\"TextBlocksPage_tabs__1NJRP\",\"content\":\"TextBlocksPage_content__3pb-E\"};"],"sourceRoot":""}