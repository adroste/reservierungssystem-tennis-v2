{"version":3,"sources":["demo/DemoControls.js"],"names":["demoControl","DemoControls","useContext","authContext","user","setUser","useState","open","setOpen","useApi","postLoginApi","login","history","useHistory","location","useLocation","useEffect","notification","info","style","zIndex","key","message","duration","placement","onClose","description","direction","pathname","size","onClick","push","userId","type","mail","password","close","position","bottom","right"],"mappings":"sUAQaA,EAAc,GAEpB,SAASC,IAAgB,IAAD,EAEDC,qBAAWC,KAA7BC,EAFmB,EAEnBA,KAAMC,EAFa,EAEbA,QAFa,EAGHC,oBAAS,GAHN,mBAGpBC,EAHoB,KAGdC,EAHc,OAITC,YAAOC,IAAcL,GAA9BM,EAJkB,oBAMrBC,EAAUC,cAChBb,EAAYY,QAAUA,EACtB,IAAME,EAAWC,cAwDjB,OAtDAC,qBAAU,WACDT,EAKLU,IAAaC,KAAK,CACdC,MAAO,CAAEC,OAAQ,KACjBC,IAAK,OACLC,QAAS,aACTC,SAAU,EACVC,UAAW,cACXC,QAAS,kBAAMjB,GAAQ,IACvBkB,YACI,qCACI,kFACA,cAAC,IAAD,CAAOC,UAAU,WAAjB,SAC2B,WAAtBb,EAASc,SAEF,cAAC,IAAD,CAAQC,KAAK,SAASC,QAAS,kBAAMlB,EAAQmB,KAAK,MAAlD,mCAIA,qCACI,cAAC,IAAD,CAAQF,KAAK,SAASC,QAAS,kBAAMlB,EAAQmB,KAAK,WAAlD,yBAGkB,KAAb,OAAJ3B,QAAI,IAAJA,OAAA,EAAAA,EAAM4B,SACH,cAAC,IAAD,CAAQH,KAAK,SAASC,QAAS,kBAAMnB,EAAM,KAAM,CAC7CsB,KAAM,QACNC,KAAM,mBACNC,SAAU,UAHd,uCAQc,KAAb,OAAJ/B,QAAI,IAAJA,OAAA,EAAAA,EAAM4B,SACH,cAAC,IAAD,CAAQH,KAAK,SAASC,QAAS,kBAAMnB,EAAM,KAAM,CAC7CsB,KAAM,QACNC,KAAM,kBACNC,SAAU,UAHd,iDAnC5BlB,IAAamB,MAAM,UAkDxB,CAAC7B,EAAMK,EAASE,EAAUV,EAAMO,IAE9BJ,EAWE,KATC,cAAC,IAAD,CACIY,MAAO,CAAEkB,SAAU,QAASC,OAAQ,EAAGC,MAAO,GAC9CN,KAAK,UACLH,QAAS,kBAAMtB,GAAQ,IAH3B","file":"static/js/28.bb8d54f2.chunk.js","sourcesContent":["import { Button, Space, notification } from 'antd';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nimport { authContext } from '../AuthContext';\nimport { postLoginApi } from '../api';\nimport { useApi } from '../useApi';\n\nexport const demoControl = {};\n\nexport function DemoControls() {\n\n    const { user, setUser } = useContext(authContext);\n    const [open, setOpen] = useState(true);\n    const [, login] = useApi(postLoginApi, setUser);\n\n    const history = useHistory();\n    demoControl.history = history;\n    const location = useLocation();\n\n    useEffect(() => {\n        if (!open) {\n            notification.close('demo');\n            return;\n        }\n\n        notification.info({\n            style: { zIndex: 200},\n            key: 'demo',\n            message: 'Demo Modus',\n            duration: 0,\n            placement: 'bottomRight',\n            onClose: () => setOpen(false),\n            description: (\n                <>\n                    <p>Dies ist eine Demo, gefüllt mit Beispieldaten.</p>\n                    <Space direction=\"vertical\">\n                        {location.pathname === '/kiosk' ?\n                            (\n                                <Button size=\"middle\" onClick={() => history.push('/')}>\n                                    Kiosk Modus verlassen\n                                </Button>\n                            ) : (\n                                <>\n                                    <Button size=\"middle\" onClick={() => history.push('/kiosk')}>\n                                        Kiosk Modus\n                                    </Button>\n                                    {user?.userId !== 2 &&\n                                        <Button size=\"middle\" onClick={() => login(null, {\n                                            type: 'plain',\n                                            mail: 'otto@example.com',\n                                            password: 'demo',\n                                        })}>\n                                            Als Admin (Otto) anmelden\n                                        </Button>\n                                    }\n                                    {user?.userId !== 9 &&\n                                        <Button size=\"middle\" onClick={() => login(null, {\n                                            type: 'plain',\n                                            mail: 'max@example.com',\n                                            password: 'demo',\n                                        })}>\n                                            Als Nutzer (Max) anmelden\n                                        </Button>\n                                    }\n                                </>\n                            )\n                        }\n                    </Space>\n                </>\n            ),\n        });\n    }, [open, history, location, user, login]);\n\n    if (!open)\n        return (\n            <Button \n                style={{ position: 'fixed', bottom: 5, right: 5 }}\n                type=\"primary\" \n                onClick={() => setOpen(true)}\n            >\n                Demosteuerung öffnen\n            </Button>\n        );\n\n    return null;\n}"],"sourceRoot":""}