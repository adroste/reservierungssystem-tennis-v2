{"version":3,"sources":["calendar/useTime.js","calendar/DatePicker.js","calendar/ReservationDetails.js","calendar/ReservationGroupModal.module.css","user/LoginForm.js","user/LoginForm.module.css","calendar/DatePicker.module.css","calendar/DateTimeRangeSelect.module.css","calendar/ReservationDetails.module.css","calendar/ScrollRadioGroup.module.css","calendar/RepeatReservationForm.module.css","calendar/ReservationDetailsForm.module.css","user/VerifyMailModal.module.css","calendar/DateTimeRangeSelect.js","calendar/ScrollRadioGroup.js","calendar/DisableReservationGroupModal.js","user/LoginModal.js","calendar/RepeatReservationForm.js","calendar/ReservationTimeSelect.js","calendar/ReservationDetailsForm.js","calendar/ReservationGroupModal.js","user/VerifyMailModal.js","calendar/ReservationModal.js","calendar/SlotCell.module.css","calendar/DayTable.module.css","calendar/HoursTable.module.css","calendar/ReservationCalendar.module.css","calendar/SlotCell.js","calendar/DayTable.js","calendar/HoursTable.js","calendar/ReservationCalendar.js","../node_modules/qr.js/lib/mode.js","../node_modules/qr.js/lib/ErrorCorrectLevel.js","../node_modules/qr.js/lib/Polynomial.js","../node_modules/qr.js/lib/math.js","kiosk/DateClock.module.css","../node_modules/qrcode.react/lib/index.js","../node_modules/qr.js/lib/QRCode.js","../node_modules/qr.js/lib/8BitByte.js","../node_modules/qr.js/lib/RSBlock.js","../node_modules/qr.js/lib/BitBuffer.js","../node_modules/qr.js/lib/util.js","kiosk/SystemLinkQr.module.css","kiosk/KioskPage.module.css","kiosk/DateClock.js","kiosk/SystemLinkQr.js","kiosk/KioskPage.js"],"names":["useTime","unit","useState","dayjs","time","setTime","useEffect","interval","setInterval","newTime","isSame","clearInterval","AntDatePicker","generatePicker","dayjsGenerateConfig","DatePicker","props","inputReadOnly","size","panelRender","panel","className","styles","pickerPanel","cn","classNames","bind","ReservationDetails","court","date","inline","name","repeat","wrapper","item","title","content","module","exports","LoginForm","useContext","authContext","autoLoginState","setUser","setRememberLogin","useApi","postLoginApi","loginState","login","loading","valStatus","error","undefined","onFinish","useCallback","mail","password","rememberLogin","type","layout","Item","message","rules","required","validateStatus","autoComplete","prefix","style","color","placeholder","disabled","Password","valuePropName","noStyle","forgotLink","to","htmlType","loginButton","text","registerItem","DateTimeRangeSelect","from","onFromChange","onToChange","hours","useMemo","Array","keys","updateTimes","newFrom","newTo","isAfter","tmp","add","handleFromDateChange","newFromDate","hour","handleToDateChange","newToDate","handleFromHourChange","newFromHour","handleToHourChange","newToHour","allowClear","bordered","datePicker","format","onChange","showToday","suffixIcon","DownOutlined","value","map","Option","ScrollRadioGroup","children","rest","innerRef","useRef","leftScroll","setLeftScroll","rightScroll","setRightScroll","updateStops","current","scrollLeft","scrollWidth","offsetWidth","handleClick","e","offsetLeft","target","parentNode","requestAnimationFrame","Math","max","outer","inner","onClick","onScroll","ref","Group","buttonStyle","DisableReservationGroupModal","initialFrom","initialCourtId","reservation","setOuterReservations","setReservations","appContext","visibleHours","config","courts","reason","setReason","startOf","setFrom","setTo","courtId","setCourtId","prevErrorRef","postReservationGroupApi","postState","postReservationGroup","patchReservationGroupApi","patchState","patchReservationGroup","changed","unavailableReservations","uaRes","handleChangeReason","handleCourtIdChange","handleDisableCourt","checkDate","isSameOrAfter","Modal","icon","width","centered","confirm","okText","okType","onOk","path","groupId","reservations","success","RESERVATION_TYPES","DISABLE","handleRemoveDisable","post","patch","getCourtName","visible","onCancel","footer","ErrorResult","StatusText","Button","label","changeReasonHint","LoginModal","onClose","defaultRepeatValuesMap","1","7","14","RepeatReservationForm","currentReservations","defaultAddCount","repeatValuesMap","user","reservationDaysInAdvance","now","repeatValue","setRepeatValue","visibleDates","setVisibleDates","selectedDates","_setSelectedDates","fromToHourDiff","abs","diff","dateToReservation","checkIfTooFarAhead","checkIfNotAvailable","r1","some","r2","reservationOverlap","setSelectedDates","_selectedDates","dates","filter","d","s","length","r","sort","a","b","valueOf","Number","MAX_SAFE_INTEGER","i","min","toString","allowedValues","Object","includes","first","last","count","push","addDate","handleRepeatValueChange","newRepeatValue","handleCheckedChange","checked","newSelection","newVisibleDates","pop","reserved","cr","sd","change","past","isBefore","notAvailable","tooFarAhead","dateButton","unchecked","danger","admin","LockOutlined","DeleteOutlined","PlusOutlined","extra","buttons","ReservationTimeSelect","visibleHoursToHoursArray","toHours","reduce","h","handleFromChange","handleToChange","direction","ReservationDetailsForm","onCourtIdChange","onReservationsChange","onTextChange","readOnly","editName","setEditName","handleEditName","handleCancelEditName","handleDateChange","handleTextChange","plain","nameInput","EditOutlined","ReservationGroupModal","reservationTos","templates","changeReason","setChangeReason","setText","groupReservations","setGroupReservations","getReservationsApi","state","getGroupReservations","adminEdit","userId","canEdit","newReservations","gr","cancelReservations","changeText","query","handleChangeChangeReason","handlePostReservation","dangerouslySetInnerHTML","__html","body","NORMAL","handleChangeReservation","ExclamationCircleOutlined","heading","cancelText","handleCancelReservation","cancelType","doDelete","reqParams","cancelRadioGroup","defaultValue","Ball","spin","large","TextArea","autoSize","VerifyMailModal","history","useHistory","handleChangeMailClick","handleResendMail","status","ReservationModal","verified","SlotCell","alwaysClickable","courtName","rowSpan","maxRowSpan","indexOf","cell","enabled","padding","slot","mine","height","CELL_PADDING_PX","data-free-text","data-free-text-hover","singleLine","DayTable","onDisableCourtClick","onSlotClick","disableOverlay","setDisableOverlay","isToday","reservableAsOf","subtract","showInfoOverlay","handleDisableOverlayClick","renderRowSlots","findReservation","colSpan","today","blur","adminActions","infoOverlay","linkButton","HoursTable","highlightHour","hoursTableWrapper","hoursTable","highlight","ReservationCalendar","kiosk","selectedDate","selectedSlot","setSelectedSlot","scrollerRef","getReservations","updateReservations","start","toISOString","end","endOf","useUpdateEffect","UPDATE_INTERVALS_SEC","RESERVATIONS","_","index","handleSlotClicked","handleDisableCourtClicked","handleReservationFinish","tableWrapper","tableScroller","MODE_NUMBER","MODE_ALPHA_NUM","MODE_8BIT_BYTE","MODE_KANJI","L","M","Q","H","math","require","QRPolynomial","num","shift","Error","offset","this","prototype","get","getLength","multiply","j","gexp","glog","mod","ratio","QRMath","n","LOG_TABLE","EXP_TABLE","_typeof","obj","Symbol","iterator","constructor","_extends","assign","arguments","source","key","hasOwnProperty","call","apply","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","React","QRCodeImpl","ErrorCorrectLevel","convertStr","str","out","charcode","charCodeAt","String","fromCharCode","DEFAULT_PROPS","level","bgColor","fgColor","includeMargin","generatePath","modules","margin","ops","row","y","x","concat","join","excavateModules","excavation","slice","w","getImageSettings","cells","imageSettings","numCells","defaultSize","floor","scale","excavate","floorX","floorY","ceil","SUPPORTS_PATH2D","Path2D","addPath","QRCodeCanvas","_React$PureComponent","_getPrototypeOf2","_this","_len","args","_key","imgLoaded","setState","update","_this$props","qrcode","addData","make","_canvas","canvas","ctx","getContext","calculatedImageSettings","pixelRatio","window","devicePixelRatio","fillStyle","fillRect","fill","rdx","cdx","_image","drawImage","_this2","_this$props2","otherProps","canvasStyle","img","imgSrc","src","createElement","display","onLoad","handleImageLoad","_ref","Fragment","_ref2","PureComponent","QRCodeSVG","_React$PureComponent2","_this$props3","image","xlinkHref","preserveAspectRatio","fgPath","shapeRendering","viewBox","QRCode","renderAs","Component","defaultProps","BitByte","RSBlock","BitBuffer","util","Polynomial","typeNumber","errorCorrectLevel","moduleCount","dataCache","dataList","proto","data","newData","isDark","col","getModuleCount","rsBlocks","getRSBlocks","buffer","totalDataCount","dataCount","put","mode","getLengthInBits","write","makeImpl","getBestMaskPattern","test","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","c","minLostPoint","pattern","lostPoint","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","bits","getBCHTypeNumber","getBCHTypeInfo","inc","bitIndex","byteIndex","dark","getMask","PAD0","PAD1","putBit","createBytes","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","rsPoly","getErrorCorrectPolynomial","modPoly","modIndex","totalCodeCount","QR8bitByte","ECL","QRRSBlock","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","QRBitBuffer","bufIndex","bit","Mode","QRMaskPattern","QRUtil","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","getBCHDigit","digit","errorCorrectLength","qrCode","sameCount","darkCount","DateClock","dateTime","setDateTime","int","clockDots","SystemLinkQr","url","qr","replace","KioskPage","announcement","orgName","search","useLocation","params","parseQuery","updateInterval","parseInt","console","BASE_DATA","setDefaultUpdateIntervals","top","subTitle","linkQr","alert","showIcon"],"mappings":"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","file":"static/js/9.5301a218.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\n\nimport dayjs from 'dayjs';\n\nconst checkIntervalMs = 60000; // minute\n\nexport function useTime(unit) {\n    const [time, setTime] = useState(() => dayjs());\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            const newTime = dayjs();\n            if (!time.isSame(newTime, unit))\n                setTime(newTime);\n        }, checkIntervalMs);\n\n        return () => clearInterval(interval);\n    }, [time, unit]);\n\n    return time;\n}","import dayjsGenerateConfig from 'rc-picker/lib/generate/dayjs';\nimport generatePicker from 'antd/es/date-picker/generatePicker';\nimport styles from './DatePicker.module.css';\n\nconst AntDatePicker = generatePicker(dayjsGenerateConfig);\n\nexport function DatePicker(props) {\n    return (\n        <AntDatePicker\n            inputReadOnly\n            size=\"large\"\n            panelRender={panel => \n                <div className={styles.pickerPanel}>\n                    {panel}\n                </div>\n            }\n            {...props}\n        />\n    );\n}","import { CalendarOutlined, ClockCircleOutlined, EnvironmentOutlined, RedoOutlined, UserOutlined } from '@ant-design/icons';\n\nimport React from 'react';\nimport classNames from 'classnames/bind';\nimport styles from './ReservationDetails.module.css';\n\nconst cn = classNames.bind(styles);\n\nexport function ReservationDetails({\n    court,\n    date,\n    inline = false,\n    name,\n    repeat,\n    time,\n}) {\n    return (\n        <div className={cn({\n            wrapper: true,\n            inline\n        })}>\n            {name &&\n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <UserOutlined />&nbsp;Name\n                    </div>\n                    <div className={styles.content}>\n                        {name}\n                    </div>\n                </div>\n            }\n\n            {date && \n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <CalendarOutlined />&nbsp;Datum\n                    </div>\n                    <div className={styles.content}>\n                        {date}\n                    </div>\n                </div>\n            }\n\n            {time &&\n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <ClockCircleOutlined />&nbsp;Uhrzeit\n                    </div>\n                    <div className={styles.content}>\n                        {time}\n                    </div>\n                </div>\n            }\n\n            {court &&\n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <EnvironmentOutlined />&nbsp;Platz\n                    </div>\n                    <div className={styles.content}>\n                        {court}\n                    </div>\n                </div>\n            }\n\n            {repeat &&\n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <RedoOutlined />&nbsp;Wiederholung\n                    </div>\n                    <div className={styles.content}>\n                        {repeat}\n                    </div>\n                </div>\n            }\n        </ div>\n    );\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ReservationGroupModal_wrapper__2fAcz\",\"footer\":\"ReservationGroupModal_footer__1O-So\",\"heading\":\"ReservationGroupModal_heading__3HVFg\",\"changeReasonHint\":\"ReservationGroupModal_changeReasonHint__IWCAI\",\"cancelRadioGroup\":\"ReservationGroupModal_cancelRadioGroup__joJ8_\"};","import { Alert, Button, Checkbox, Form, Input } from 'antd';\nimport { LockOutlined, MailOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext } from 'react';\n\nimport { Link } from 'react-router-dom';\nimport { StatusText } from '../admin/StatusText';\nimport { authContext } from '../AuthContext';\nimport { postLoginApi } from '../api';\nimport styles from './LoginForm.module.css';\nimport { useApi } from '../useApi';\n\nexport function LoginForm() {\n\n    const { autoLoginState, setUser, setRememberLogin } = useContext(authContext);\n    const [loginState, login] = useApi(postLoginApi, setUser);\n\n    const loading = loginState.loading || autoLoginState.loading;\n    const valStatus = loginState.error ? 'error' : undefined;\n\n    const onFinish = useCallback(({ mail, password, rememberLogin }) => {\n        setRememberLogin(rememberLogin);\n        login(null, {\n            type: 'plain',\n            mail,\n            password,\n        });\n    }, [login, setRememberLogin]);\n\n    return (\n        <Form\n            layout=\"vertical\"\n            onFinish={onFinish}\n        >\n            {loginState.error &&\n                <Form.Item>\n                    <Alert\n                        type=\"error\"\n                        message=\"Login fehlgeschlagen.\"\n                    />\n                </Form.Item>\n            }\n\n            <Form.Item\n                name=\"mail\"\n                rules={[{ required: true, message: 'E-Mail Adresse ist erforderlich' }]}\n                validateStatus={valStatus}\n            >\n                <Input\n                    autoComplete=\"email\"\n                    prefix={<MailOutlined style={{ color: '#aaa' }} />}\n                    placeholder=\"E-Mail\"\n                    disabled={loading}\n                />\n            </Form.Item>\n\n            <Form.Item\n                name=\"password\"\n                rules={[{ required: true, message: 'Passwort ist erforderlich' }]}\n                validateStatus={valStatus}\n            >\n                <Input.Password\n                    autoComplete=\"current-password\"\n                    prefix={<LockOutlined style={{ color: '#aaa' }} />}\n                    placeholder=\"Passwort\"\n                    disabled={loading}\n                />\n            </Form.Item>\n\n            <Form.Item>\n                <Form.Item name=\"rememberLogin\" valuePropName=\"checked\" noStyle>\n                    <Checkbox\n                        disabled={loading}\n                    >\n                        Angemeldet bleiben\n                    </Checkbox>\n                </Form.Item>\n\n                {/* TODO */}\n                <Link className={styles.forgotLink} to=\"/reset-password\">\n                    Password vergessen\n                </Link>\n            </Form.Item>\n\n            <Form.Item>\n                <Button\n                    type=\"primary\"\n                    htmlType=\"submit\"\n                    className={styles.loginButton}\n                    disabled={loading}\n                >\n                    <StatusText\n                        loading={loading}\n                        text={loading ? 'Anmeldung...' : 'Anmelden'}\n                    />\n                </Button>\n            </Form.Item>\n\n\n            <Form.Item className={styles.registerItem}>\n                <span>oder </span>\n                <Link to=\"/register\">Kostenlos Registrieren</Link>\n            </Form.Item>\n        </Form>\n    );\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginButton\":\"LoginForm_loginButton__ECun6\",\"forgotLink\":\"LoginForm_forgotLink__3TG3V\",\"registerItem\":\"LoginForm_registerItem__32Qy-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pickerPanel\":\"DatePicker_pickerPanel__jgKnn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"datePicker\":\"DateTimeRangeSelect_datePicker__1Fzuj\",\"to\":\"DateTimeRangeSelect_to__3kFPy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inline\":\"ReservationDetails_inline__3Zvud\",\"wrapper\":\"ReservationDetails_wrapper__3oaB0\",\"item\":\"ReservationDetails_item__3c9da\",\"title\":\"ReservationDetails_title__30qxj\",\"content\":\"ReservationDetails_content__3o1oW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"outer\":\"ScrollRadioGroup_outer__2bjrJ\",\"inner\":\"ScrollRadioGroup_inner__1IIQl\",\"leftScroll\":\"ScrollRadioGroup_leftScroll__sR-on\",\"rightScroll\":\"ScrollRadioGroup_rightScroll__2FgOg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"RepeatReservationForm_wrapper__q6uz0\",\"dates\":\"RepeatReservationForm_dates__1dD0l\",\"extra\":\"RepeatReservationForm_extra__2m-4n\",\"unchecked\":\"RepeatReservationForm_unchecked__dAyq1\",\"date\":\"RepeatReservationForm_date__3wvGK\",\"dateButton\":\"RepeatReservationForm_dateButton__2XPFl\",\"danger\":\"RepeatReservationForm_danger__3-oIh\",\"buttons\":\"RepeatReservationForm_buttons__IeXBV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nameInput\":\"ReservationDetailsForm_nameInput__20wfd\",\"plain\":\"ReservationDetailsForm_plain__VkUtA\",\"datePicker\":\"ReservationDetailsForm_datePicker__jvGx4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttons\":\"VerifyMailModal_buttons__2ZzQz\"};","import React, { useCallback, useMemo } from 'react';\n\nimport { DatePicker } from './DatePicker';\nimport { DownOutlined } from '@ant-design/icons';\nimport { Select } from 'antd';\nimport styles from './DateTimeRangeSelect.module.css';\n\nexport function DateTimeRangeSelect({\n    disabled = false,\n    from,\n    to,\n    onFromChange,\n    onToChange,\n}) {\n    const hours = useMemo(() => [...Array(24).keys()], []);\n\n    const updateTimes = useCallback(({ newFrom = from, newTo = to }) => {\n        if (newFrom.isAfter(newTo)) {\n            const tmp = newFrom;\n            newFrom = newTo;\n            newTo = tmp;\n        } else if (newFrom.isSame(newTo)) {\n            newTo = newFrom.add(1, 'hour'); // minimal diff 1 hour\n        }\n\n        if (!newFrom.isSame(from))\n            onFromChange(newFrom);\n        if (!newTo.isSame(to))\n            onToChange(newTo);\n    }, [from, onFromChange, onToChange, to]);\n\n    const handleFromDateChange = useCallback(newFromDate => {\n        updateTimes({\n            newFrom: newFromDate.hour(from.hour())\n        });\n    }, [from, updateTimes]);\n\n    const handleToDateChange = useCallback(newToDate => {\n        updateTimes({\n            newTo: newToDate.hour(to.hour())\n        });\n    }, [to, updateTimes]);\n\n    const handleFromHourChange = useCallback(newFromHour => {\n        updateTimes({\n            newFrom: from.hour(newFromHour)\n        });\n    }, [from, updateTimes]);\n\n    const handleToHourChange = useCallback(newToHour => {\n        updateTimes({\n            newTo: to.hour(newToHour)\n        });\n    }, [to, updateTimes]);\n\n    return (\n        <div>\n            <div>\n                <DatePicker\n                    allowClear={false}\n                    bordered={false}\n                    className={styles.datePicker}\n                    disabled={disabled}\n                    format=\"L\"\n                    onChange={handleFromDateChange}\n                    showToday={false}\n                    suffixIcon={<DownOutlined />}\n                    value={from}\n                />\n\n                <Select\n                    size=\"large\"\n                    bordered={false}\n                    value={from.hour()}\n                    onChange={handleFromHourChange}\n                >\n                    {hours.map(hour => (\n                        <Select.Option\n                            key={hour}\n                            value={hour}\n                        >\n                            {hour} Uhr\n                        </Select.Option>\n                    ))}\n                </Select>\n\n            </div>\n\n            <div>\n                <span className={styles.to}>bis</span>\n\n                <DatePicker\n                    allowClear={false}\n                    bordered={false}\n                    className={styles.datePicker}\n                    disabled={disabled}\n                    format=\"L\"\n                    onChange={handleToDateChange}\n                    showToday={false}\n                    suffixIcon={<DownOutlined />}\n                    value={to}\n                />\n\n                <Select\n                    size=\"large\"\n                    bordered={false}\n                    value={to.hour()}\n                    onChange={handleToHourChange}\n                >\n                    {hours.map(hour => (\n                        <Select.Option\n                            key={hour}\n                            value={hour}\n                        >\n                            {hour % 24} Uhr\n                        </Select.Option>\n                    ))}\n                </Select>\n            </div>\n        </div>\n    );\n}","import React, { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { Radio } from 'antd';\nimport classNames from 'classnames/bind';\nimport styles from './ScrollRadioGroup.module.css';\n\nconst cn = classNames.bind(styles);\n\nconst SCROLL_OFFSET_PX = -50;\nconst SCROLL_TRESHOLD_PX = 5; // needed for iOS overscoll\n\nexport function ScrollRadioGroup({\n    children,\n    ...rest\n}) {\n    const innerRef = useRef();\n    const [leftScroll, setLeftScroll] = useState(false);\n    const [rightScroll, setRightScroll] = useState(false);\n\n    const updateStops = useCallback(() => {\n        if (!innerRef.current)\n            return;\n        const { scrollLeft, scrollWidth, offsetWidth } = innerRef.current;\n        setLeftScroll(scrollLeft > SCROLL_TRESHOLD_PX);\n        setRightScroll((scrollWidth - offsetWidth - scrollLeft) > SCROLL_TRESHOLD_PX);\n    }, []);\n\n    useEffect(updateStops, [updateStops]);\n\n    const handleClick = useCallback(e => {\n        if (!innerRef.current)\n            return;\n        const offsetLeft = e?.target?.parentNode?.parentNode?.offsetLeft || 0;\n        requestAnimationFrame(() => {\n            innerRef.current.scrollLeft = Math.max(offsetLeft + SCROLL_OFFSET_PX, 0);\n        });\n    }, []);\n\n    return (\n        <div className={cn({\n            outer: true,\n            leftScroll,\n            rightScroll,\n        })}>\n            <div\n                className={styles.inner}\n                onClick={handleClick}\n                onScroll={updateStops}\n                ref={innerRef}\n            >\n                <Radio.Group\n                    buttonStyle=\"solid\"\n                    size=\"large\"\n                    {...rest}\n                >\n                    {children}\n                </Radio.Group>\n            </div>\n        </div>\n    );\n}","import { Button, Form, Input, Modal, Radio, message } from 'antd';\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { patchReservationGroupApi, postReservationGroupApi } from '../api';\n\nimport { DateTimeRangeSelect } from './DateTimeRangeSelect';\nimport { ErrorResult } from '../ErrorResult';\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { ReservationDetails } from './ReservationDetails';\nimport { ScrollRadioGroup } from './ScrollRadioGroup';\nimport { StatusText } from '../admin/StatusText';\nimport { appContext } from '../AppContext';\nimport dayjs from 'dayjs';\nimport { getCourtName } from '../helper';\nimport styles from './ReservationGroupModal.module.css';\nimport { useApi } from '../useApi';\n\nexport function DisableReservationGroupModal({\n    initialFrom,\n    initialCourtId,\n    reservation,\n    onFinish,\n    setReservations: setOuterReservations,\n}) {\n    const { config: { visibleHours }, courts } = useContext(appContext);\n\n    const [reason, setReason] = useState(reservation?.text || '');\n    const [from, setFrom] = useState(() => reservation?.from || initialFrom.startOf('day'));\n    const [to, setTo] = useState(() => reservation?.to || initialFrom.add(1, 'day').startOf('day'));\n    const [courtId, setCourtId] = useState(reservation?.courtId || initialCourtId);\n    const prevErrorRef = useRef({});\n\n    const [postState, postReservationGroup] = useApi(postReservationGroupApi, setOuterReservations);\n    const [patchState, patchReservationGroup] = useApi(patchReservationGroupApi, setOuterReservations);\n\n    const loading = postState.loading || patchState.loading;\n    const changed = reservation && (\n        reservation.from !== from\n        || reservation.to !== to\n        || reservation.text !== reason\n        || reservation.courtId !== courtId\n    );\n\n    const unavailableReservations = useMemo(() => {\n        let uaRes = postState.error?.unavailableReservations || patchState.error?.unavailableReservations;\n        if (uaRes)\n            uaRes = uaRes.map(({ courtId, from, to }) => ({\n                courtId,\n                from: dayjs(from),\n                to: dayjs(to),\n            }));\n        return uaRes;\n    }, [patchState.error?.unavailableReservations, postState.error?.unavailableReservations]);\n\n    const handleChangeReason = useCallback(e => {\n        setReason(e.target.value);\n    }, []);\n\n    const handleCourtIdChange = useCallback(e => {\n        setCourtId(e.target.value);\n    }, []);\n\n    const handleDisableCourt = useCallback(() => {\n        const doDisable = () => {\n            if (!reservation) {\n                postReservationGroup(null, {\n                    reservations: [{ courtId, from, to }],\n                    text: reason,\n                    type: RESERVATION_TYPES.DISABLE,\n                }, () => {\n                    message.success(\"Sperren erfolgreich\");\n                    onFinish();\n                });\n            } else {\n                patchReservationGroup({\n                    path: {\n                        groupId: reservation.groupId\n                    }\n                }, {\n                    reservations: [{ courtId, from, to }],\n                    text: reason,\n                }, () => {\n                    message.success(\"Sperren erfolgreich\");\n                    onFinish();\n                });\n            }\n        };\n\n        let checkDate;\n        if (from.hour() <= visibleHours[0])\n            checkDate = from.hour(visibleHours[0]);\n        else if (from.hour() >= visibleHours[1])\n            checkDate = from.add(1, 'day').hour(visibleHours[0]);\n\n        if (checkDate?.isSameOrAfter(to, 'hour')) {\n            Modal.error({\n                icon: false,\n                title: 'Sperrung unzulässig',\n                width: 530,\n                centered: true,\n                content: 'Die Sperrung liegt außerhalb des angezeigten Zeitraums.',\n            });\n        } else {\n            Modal.confirm({\n                icon: false,\n                title: 'Wirklich sperren?',\n                okText: 'Sperren',\n                okType: 'danger',\n                width: 530,\n                centered: true,\n                content: 'Bestehende Reservierungen, die mit der Sperrung in Konflikt stehen, werden automatisch storniert. Die Inhaber der Reservierungen werden darüber per E-Mail informiert.',\n                onOk: doDisable,\n            });\n        }\n    }, [courtId, from, onFinish, patchReservationGroup, postReservationGroup, reason, reservation, to, visibleHours]);\n\n    const handleRemoveDisable = useCallback(() => {\n        patchReservationGroup({\n            path: {\n                groupId: reservation.groupId\n            }\n        }, {\n            reservations: [],\n        }, () => {\n            message.success(\"Sperrung aufgehoben\");\n            onFinish();\n        });\n    }, [onFinish, patchReservationGroup, reservation?.groupId]);\n\n    useEffect(() => {\n        if (prevErrorRef.current.post === postState.error\n            && prevErrorRef.current.patch === patchState.error)\n            return;\n        prevErrorRef.current.post = postState.error;\n        prevErrorRef.current.patch = patchState.error;\n\n        if (unavailableReservations) {\n            Modal.error({\n                centered: true,\n                title: 'Sperren fehlgeschlagen',\n                content: (\n                    <div>\n                        <div>\n                            Für folgende Zeiträume liegt bereits eine Sperrung vor:\n                        </div>\n                        <ul>\n                            {unavailableReservations.map(({ courtId, from, to }) => (\n                                <li key={from}>{from.format('dd[\\xa0]L,[\\xa0]H[\\xa0][Uhr]')} bis {to.format('dd[\\xa0]L,[\\xa0]H[\\xa0][Uhr]')}, {getCourtName(courts, courtId)}</li>\n                            ))}\n                        </ul>\n                    </div>\n                )\n            });\n        }\n    }, [courts, patchState.error, postState.error, unavailableReservations])\n\n    if (\n        (postState.error && !postState.error.unavailableReservations)\n        || (patchState.error && !patchState.error.unavailableReservations)\n    ) {\n        return (\n            <Modal\n                title=\"Sperren fehlgeschlagen\"\n                visible={true}\n                centered\n                onCancel={onFinish}\n                onOk={onFinish}\n                footer={\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            Abbrechen\n                        </Button>\n                    </div>\n                }\n            >\n                <div className={styles.wrapper}>\n                    <ErrorResult />\n                </div>\n            </Modal>\n        );\n    }\n\n    return (\n        <Modal\n            title=\"Platz Sperren\"\n            visible={true}\n            width={530}\n            centered\n            onCancel={onFinish}\n            onOk={onFinish}\n            footer={loading ?\n                (\n                    <StatusText\n                        loading\n                        text=\"Bitte warten...\"\n                    />\n                ) : (\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            Abbrechen\n                        </Button>\n                        {reservation &&\n                            <Button\n                                type=\"primary\"\n                                onClick={handleRemoveDisable}\n                            >\n                                Sperrung Aufheben\n                            </Button>\n                        }\n                        <Button\n                            disabled={reservation && !changed}\n                            type=\"danger\"\n                            onClick={handleDisableCourt}\n                        >\n                            Sperren\n                        </Button>\n                    </div>\n                )\n            }\n        >\n            <div className={styles.wrapper}>\n                <ReservationDetails\n                    court={\n                        <ScrollRadioGroup\n                            disabled={loading}\n                            onChange={handleCourtIdChange}\n                            value={courtId}\n                        >\n                            {courts.map(({ courtId, name }) => (\n                                <Radio.Button key={courtId} value={courtId}>{name}</Radio.Button>\n                            ))}\n                        </ScrollRadioGroup>\n                    }\n                    date={\n                        <DateTimeRangeSelect\n                            disabled={loading}\n                            from={from}\n                            to={to}\n                            onFromChange={setFrom}\n                            onToChange={setTo}\n                        />\n                    }\n                />\n\n                <Form layout=\"vertical\">\n                    <Form.Item\n                        label=\"Grund der Sperrung\"\n                    >\n                        <Input\n                            disabled={loading}\n                            onChange={handleChangeReason}\n                            placeholder=\"Kein Grund\"\n                            value={reason}\n                        />\n                        <div className={styles.changeReasonHint}>\n                            Bestehende Reservierungen werden storniert.\n                        </div>\n                    </Form.Item>\n                </Form>\n            </div>\n        </Modal>\n    );\n}","import { LoginForm } from './LoginForm';\nimport { Modal } from 'antd';\nimport React from 'react';\n\nexport function LoginModal({\n    onClose\n}) {\n    return (\n        <Modal\n            title=\"Anmeldung erforderlich\"\n            visible={true}\n            width={400}\n            centered\n            onCancel={onClose}\n            onOk={onClose}\n            footer={null}\n        >\n            <LoginForm />\n        </Modal>\n    );\n}","import { Button, Radio } from 'antd';\nimport { DeleteOutlined, LockOutlined, PlusOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext, useEffect, useMemo, useState } from 'react';\n\nimport { ScrollRadioGroup } from './ScrollRadioGroup';\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport classNames from 'classnames/bind';\nimport { reservationOverlap } from '../helper';\nimport styles from './RepeatReservationForm.module.css';\nimport { useTime } from './useTime';\n\nconst cn = classNames.bind(styles);\n\nconst defaultRepeatValuesMap = {\n    1: 'Täglich',\n    7: 'Wöchentlich',\n    14: '2-Wöchentlich',\n};\n\nexport function RepeatReservationForm({\n    courtId,\n    currentReservations,\n    defaultAddCount = 2,\n    disabled = false,\n    from,\n    onChange,\n    repeatValuesMap = defaultRepeatValuesMap,\n    to,\n    unavailableReservations,\n}) {\n    const { user } = useContext(authContext);\n    const { config: { reservationDaysInAdvance } } = useContext(appContext);\n\n    const now = useTime('hour');\n\n    const [repeatValue, setRepeatValue] = useState(0);\n    const [visibleDates, setVisibleDates] = useState([]);\n    const [selectedDates, _setSelectedDates] = useState([]);\n\n    const fromToHourDiff = useMemo(() => Math.abs(to.diff(from, 'hour')), [from, to]);\n    const dateToReservation = useCallback(from => ({\n        courtId,\n        from,\n        to: from.add(fromToHourDiff, 'hour'),\n    }), [courtId, fromToHourDiff]);\n\n    const checkIfTooFarAhead = useCallback(date => (\n        date.isAfter(now.add(reservationDaysInAdvance, 'day'), 'day')\n    ), [now, reservationDaysInAdvance]);\n\n    const checkIfNotAvailable = useCallback(date => {\n        if (!unavailableReservations)\n            return false;\n        const r1 = dateToReservation(date);\n        return unavailableReservations.some(r2 => reservationOverlap(r1, r2));\n    }, [unavailableReservations, dateToReservation]);\n\n    const setSelectedDates = useCallback(selectedDates => {\n        _setSelectedDates(_selectedDates => {\n            let dates = selectedDates;\n            if (typeof selectedDates === 'function')\n                dates = selectedDates(_selectedDates);\n            return dates.filter(d => !checkIfNotAvailable(d));\n        });\n    }, [checkIfNotAvailable]);\n\n    useEffect(() => {\n        onChange(selectedDates.map(dateToReservation));\n    }, [selectedDates, onChange, dateToReservation]);\n\n    // automatically unchecks unavailable dates if unavailableDates changes\n    useEffect(() => setSelectedDates(s => s), [setSelectedDates]);\n\n    useEffect(() => {\n        let selectedDates = [];\n        let visibleDates = [];\n\n        if (currentReservations?.length > 1) {\n            selectedDates = currentReservations.map(r => r.from.hour(from.hour()));\n            selectedDates.sort((a, b) => a.valueOf() - b.valueOf());\n            let repeatValue = Number.MAX_SAFE_INTEGER;\n\n            if (selectedDates.length > 1) {\n                for (let i = 1; i < selectedDates.length; ++i) {\n                    const diff = selectedDates[i - 1].diff(selectedDates[i], 'day');\n                    repeatValue = Math.min(repeatValue, Math.abs(diff));\n                }\n            }\n\n            repeatValue = repeatValue.toString();\n            const allowedValues = Object.keys(repeatValuesMap);\n            if (!allowedValues.includes(repeatValue))\n                repeatValue = allowedValues[0];\n            setRepeatValue(repeatValue);\n\n            const first = selectedDates[0];\n            const last = selectedDates[selectedDates.length - 1];\n            const count = Math.abs(first.diff(last, 'day') / repeatValue);\n            visibleDates = [];\n            for (let i = 0; i <= count; ++i)\n                visibleDates.push(first.add(i * repeatValue, 'day'));\n        } else if (repeatValue > 0) {\n            for (let i = 0; i <= defaultAddCount; ++i) {\n                const date = from.add(i * repeatValue, 'day');\n                visibleDates.push(date);\n                if (!checkIfNotAvailable(date))\n                    selectedDates.push(date);\n            }\n        } else {\n            selectedDates = [from];\n            visibleDates = [from];\n        }\n\n        setVisibleDates(visibleDates);\n        _setSelectedDates(selectedDates);\n    }, [\n        checkIfNotAvailable,\n        courtId, \n        currentReservations, \n        defaultAddCount, \n        from, \n        repeatValue, \n        repeatValuesMap, \n        to, \n    ]);\n\n    const addDate = useCallback(() => {\n        setVisibleDates(visibleDates => {\n            const last = visibleDates[visibleDates.length - 1];\n            const add = last.add(repeatValue, 'day');\n            if (!checkIfTooFarAhead(add))\n                setSelectedDates(selectedDates => [...selectedDates, add]);\n            return [...visibleDates, add];\n        });\n    }, [repeatValue, setSelectedDates, checkIfTooFarAhead]);\n\n    const handleRepeatValueChange = useCallback(e => {\n        const newRepeatValue = e.target.value;\n        setRepeatValue(newRepeatValue);\n    }, []);\n\n    const handleCheckedChange = useCallback((date, checked) => {\n        setSelectedDates(selectedDates => {\n            // change checked state\n            const newSelection = selectedDates.filter(d => !d.isSame(date, 'day'));\n            if (checked)\n                newSelection.push(date);\n            newSelection.sort((a, b) => a.valueOf() - b.valueOf());\n\n            // remove unchecked visible dates at end\n            setVisibleDates(visibleDates => {\n                const newVisibleDates = [...visibleDates];\n                // i > 0: make sure at least one item is visible\n                for (let i = newVisibleDates.length - 1; i > 0; --i) {\n                    if (\n                        currentReservations?.some(r => r.from.isSame(newVisibleDates[i], 'day'))\n                        || newSelection.some(d => d.isSame(newVisibleDates[i], 'day'))\n                    ) {\n                        break;\n                    }\n                    newVisibleDates.pop();\n                }\n                return newVisibleDates;\n            });\n\n            return newSelection;\n        });\n    }, [currentReservations, setSelectedDates]);\n\n    const dates = useMemo(() => {\n        return visibleDates.map(d => {\n            const r = dateToReservation(d);\n            const reserved = currentReservations?.some(cr => \n                cr.from.isSame(r.from, 'hour') && cr.to.isSame(r.to, 'hour'));\n            const checked = selectedDates.some(sd => sd.isSame(d, 'day'));\n            return {\n                date: d,\n                checked,\n                change: !reserved && currentReservations?.some(r => r.from.isSame(d, 'day')),\n                reserved,\n                past: d.isBefore(now, 'hour'),\n                notAvailable: checkIfNotAvailable(d),\n                tooFarAhead: checkIfTooFarAhead(d),\n                onClick: () => handleCheckedChange(d, !checked),\n            };\n        });\n    }, [\n        checkIfNotAvailable, \n        checkIfTooFarAhead, \n        currentReservations, \n        dateToReservation, \n        handleCheckedChange,\n        now, \n        selectedDates, \n        visibleDates, \n    ]);\n\n\n    return (\n        <div className={styles.wrapper}>\n            <div>\n                <ScrollRadioGroup\n                    disabled={currentReservations?.length > 1 || disabled}\n                    onChange={handleRepeatValueChange}\n                    value={repeatValue}\n                >\n                    <Radio.Button key={0} value={0}>Einzeltermin</Radio.Button>\n                    {Object.keys(repeatValuesMap).map(value => (\n                        <Radio.Button key={value} value={value}>{repeatValuesMap[value]}</Radio.Button>\n                    ))}\n                </ScrollRadioGroup>\n            </div>\n\n            {repeatValue > 0 &&\n                <>\n                    <div className={styles.dates}>\n                        {dates.map(({ date, checked, change, reserved, past, notAvailable, tooFarAhead, onClick }) => (\n                            <Button\n                                key={date}\n                                className={cn({\n                                    dateButton: true,\n                                    unchecked: !checked,\n                                    danger: (reserved && !checked) || notAvailable,\n                                })}\n                                disabled={(!user?.admin && (past || tooFarAhead)) || notAvailable || disabled}\n                                onClick={onClick}\n                                type=\"link\"\n                                icon={\n                                    ((!user?.admin && (past || tooFarAhead)) || notAvailable || disabled) \n                                        ? <LockOutlined />\n                                        : checked ? <DeleteOutlined /> : <PlusOutlined />\n                                }\n                            >\n                                <span className={styles.date}>{date.format('dd[\\xa0]L')}</span>\n                                {!past && reserved && checked && <span className={styles.extra}>Aktuell reserviert</span>}\n                                {!past && reserved && !checked && <span className={styles.extra}>Wird storniert</span>}\n                                {!notAvailable && past && <span className={styles.extra}>Bereits vergangen</span>}\n                                {!notAvailable && tooFarAhead && <span className={styles.extra}>Zu weit in der Zukunft</span>}\n                                {!notAvailable && change && <span className={styles.extra}>Wird geändert</span>}\n                                {notAvailable && <span className={styles.extra}>Nicht verfügbar</span>}\n                            </Button>\n                        ))}\n                    </div>\n                    <div className={styles.buttons}>\n                        <Button\n                            disabled={disabled}\n                            icon={<PlusOutlined />}\n                            onClick={addDate}\n                            type=\"dashed\"\n                        />\n                    </div>\n                </>\n            }\n        </div>\n    );\n}","import React, { useCallback, useContext, useMemo } from 'react';\nimport { Select, Space } from 'antd';\n\nimport { appContext } from '../AppContext';\nimport { visibleHoursToHoursArray } from '../helper';\n\nexport function ReservationTimeSelect({\n    disabled = false,\n    from,\n    to,\n    onFromChange,\n    onToChange,\n}) {\n    const { config: { visibleHours } } = useContext(appContext);\n\n    const hours = useMemo(() => visibleHoursToHoursArray(visibleHours), [visibleHours]);\n\n    const toHours = useMemo(() => hours.reduce((toHours, h) => {\n        if (h >= from.hour())\n            toHours.push(h + 1);\n        return toHours;\n    }, []), [from, hours]);\n\n    const handleFromChange = useCallback(newFromHour => {\n        const diff = Math.abs(to.diff(from, 'hour'));\n        let newToHour = newFromHour + diff;\n        if (!hours.includes(newToHour))\n            newToHour = hours[hours.length - 1] + 1;\n        onFromChange(from.hour(newFromHour));\n        onToChange(to.hour(newToHour));\n    }, [from, to, onFromChange, onToChange, hours]);\n\n    const handleToChange = useCallback(newToHour => {\n        onToChange(to.hour(newToHour));\n    }, [to, onToChange]);\n\n    return (\n        <Space direction=\"horizontal\" size=\"middle\">\n            <Select\n                bordered={false}\n                disabled={disabled}\n                onChange={handleFromChange}\n                size=\"large\"\n                value={from.hour()}\n            >\n                {hours.map(hour => (\n                    <Select.Option\n                        key={hour}\n                        value={hour}\n                    >\n                        {hour} Uhr\n                    </Select.Option>\n                ))}\n            </Select>\n\n            <span>bis</span>\n\n            <Select\n                bordered={false}\n                disabled={disabled}\n                onChange={handleToChange}\n                size=\"large\"\n                value={to.hour()}\n            >\n                {toHours.map(hour => (\n                    <Select.Option\n                        key={hour}\n                        value={hour}\n                    >\n                        {hour % 24} Uhr\n                    </Select.Option>\n                ))}\n            </Select>\n        </Space>\n    );\n}","import { Button, Input, Radio } from 'antd';\nimport { DownOutlined, EditOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext, useState } from 'react';\n\nimport { DatePicker } from './DatePicker';\nimport { RepeatReservationForm } from './RepeatReservationForm';\nimport { ReservationDetails } from './ReservationDetails';\nimport { ReservationTimeSelect } from './ReservationTimeSelect';\nimport { ScrollRadioGroup } from './ScrollRadioGroup';\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport { getCourtName } from '../helper';\nimport styles from './ReservationDetailsForm.module.css';\n\nexport function ReservationDetailsForm({\n    courtId,\n    currentReservations,\n    disabled,\n    from,\n    onCourtIdChange,\n    onFromChange,\n    onReservationsChange,\n    onTextChange,\n    onToChange,\n    readOnly,\n    text,\n    to,\n    unavailableReservations,\n}) {\n    const { courts } = useContext(appContext);\n    const { user } = useContext(authContext);\n\n    const [editName, setEditName] = useState(false);\n    const handleEditName = useCallback(() => {\n        setEditName(true);\n    }, []);\n\n    const handleCancelEditName = useCallback(() => {\n        setEditName(false);\n        onTextChange(null);\n    }, [onTextChange]);\n\n    const handleDateChange = useCallback(date => {\n        const diff = Math.abs(to.diff(from, 'hour'));\n        const newFrom = date.hour(from.hour());\n        const newTo = newFrom.add(diff, 'hour');\n        onFromChange(newFrom);\n        onToChange(newTo);\n    }, [from, to, onFromChange, onToChange]);\n\n    const handleTextChange = useCallback(e => {\n        onTextChange(e.target.value);\n    }, [onTextChange]);\n\n    const handleCourtIdChange = useCallback(e => {\n        onCourtIdChange(e.target.value);\n    }, [onCourtIdChange]);\n\n    if (readOnly)\n        return (\n            <ReservationDetails\n                court={\n                    <div className={styles.plain}>\n                        {getCourtName(courts, courtId)}\n                    </div>\n                }\n                date={\n                    <div className={styles.plain}>\n                        {from.format('dd[\\xa0]L')}\n                    </div>\n                }\n                time={\n                    <div className={styles.plain}>\n                        {from.format('H')} Uhr bis {to.format('H')} Uhr\n                    </div>\n                }\n                name={\n                    <div className={styles.plain}>\n                        {currentReservations?.[0]?.text || currentReservations?.[0]?.name || user.name}\n                    </div>\n                }\n            />\n\n        );\n\n    return (\n        <ReservationDetails\n            court={\n                <ScrollRadioGroup\n                    disabled={disabled}\n                    onChange={handleCourtIdChange}\n                    value={courtId}\n                >\n                    {courts.map(({ courtId, name }) => (\n                        <Radio.Button key={courtId} value={courtId}>{name}</Radio.Button>\n                    ))}\n                </ScrollRadioGroup>\n            }\n            date={\n                <DatePicker\n                    allowClear={false}\n                    bordered={false}\n                    className={styles.datePicker}\n                    disabled={currentReservations?.length > 1 || disabled}\n                    format=\"L\"\n                    onChange={handleDateChange}\n                    showToday={false}\n                    suffixIcon={<DownOutlined />}\n                    value={from}\n                />\n            }\n            time={\n                <ReservationTimeSelect\n                    disabled={disabled}\n                    from={from}\n                    to={to}\n                    onFromChange={onFromChange}\n                    onToChange={onToChange}\n                />\n            }\n            name={editName ?\n                (\n                    <>\n                        <Input\n                            className={styles.nameInput}\n                            disabled={disabled}\n                            onChange={handleTextChange}\n                            placeholder=\"z.B. Training, ...\"\n                            value={text}\n                            size=\"large\"\n                        />\n                        <Button\n                            disabled={disabled}\n                            onClick={handleCancelEditName}\n                            type='link'\n                        >\n                            abbrechen\n                        </Button>\n                    </>\n                ) : (\n                    <>\n                        <div className={styles.plain}>\n                            <span>\n                                {currentReservations?.[0]?.text || currentReservations?.[0]?.name || user.name}\n                            </span>\n                        </div>\n                        {user.admin &&\n                            <Button\n                                disabled={disabled}\n                                onClick={handleEditName}\n                                type='link'\n                            >\n                                <EditOutlined /> bearbeiten\n                            </Button>\n                        }\n                    </>\n                )\n            }\n            repeat={\n                <RepeatReservationForm\n                    courtId={courtId}\n                    currentReservations={currentReservations}\n                    disabled={disabled}\n                    from={from}\n                    onChange={onReservationsChange}\n                    to={to}\n                    unavailableReservations={unavailableReservations}\n                />\n            }\n        />\n    );\n}","import { Button, Form, Input, Modal, Radio, message } from 'antd';\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { getReservationsApi, patchReservationGroupApi, postReservationGroupApi } from '../api';\n\nimport { Ball } from '../Ball';\nimport { ErrorResult } from '../ErrorResult';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { ReservationDetailsForm } from './ReservationDetailsForm';\nimport { StatusText } from '../admin/StatusText';\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport dayjs from 'dayjs';\nimport { getCourtName } from '../helper';\nimport styles from './ReservationGroupModal.module.css';\nimport { useApi } from '../useApi';\n\nconst INITIAL_TO_HOUR_ADD = 1;\n\nexport function ReservationGroupModal({\n    initialFrom,\n    initialCourtId,\n    reservation,\n    onFinish,\n    setReservations: setOuterReservations,\n}) {\n    const { courts, templates: { reservationTos } } = useContext(appContext);\n    const { user } = useContext(authContext);\n\n    const [changeReason, setChangeReason] = useState('');\n    const [text, setText] = useState(null);\n    const [reservations, setReservations] = useState(null);\n    const [from, setFrom] = useState(reservation?.from || initialFrom);\n    const [to, setTo] = useState(() => reservation?.to || initialFrom.add(INITIAL_TO_HOUR_ADD, 'hour'));\n    const [courtId, setCourtId] = useState(reservation?.courtId || initialCourtId);\n    const prevErrorRef = useRef({});\n\n    const [groupReservations, setGroupReservations] = useState([]);\n    const [state, getGroupReservations] = useApi(getReservationsApi, setGroupReservations);\n\n    const [postState, postReservationGroup] = useApi(postReservationGroupApi, setOuterReservations);\n    const [patchState, patchReservationGroup] = useApi(patchReservationGroupApi, setOuterReservations);\n\n    const loading = state.loading || postState.loading || patchState.loading;\n\n    const adminEdit = reservation && user.admin && reservation?.userId !== user.userId;\n    const canEdit = user.admin || !reservation || reservation.userId === user.userId;\n\n    const newReservations = useMemo(() => reservations?.filter(\n        r => !groupReservations.some(gr => gr.from.isSame(r.from, 'hour') && gr.to.isSame(r.to, 'hour'))\n    ), [reservations, groupReservations]);\n    const cancelReservations = useMemo(() => reservations && groupReservations.filter(\n        gr => !reservations.some(r => r.from.isSame(gr.from, 'hour') && r.to.isSame(gr.to, 'hour'))\n    ), [reservations, groupReservations]);\n    const changeText = !!(groupReservations && text);\n\n    const unavailableReservations = useMemo(() => {\n        let uaRes = postState.error?.unavailableReservations || patchState.error?.unavailableReservations;\n        if (uaRes)\n            uaRes = uaRes.map(({ courtId, from, to }) => ({\n                courtId,\n                from: dayjs(from),\n                to: dayjs(to),\n            }));\n        return uaRes;\n    }, [patchState.error?.unavailableReservations, postState.error?.unavailableReservations]);\n\n    useEffect(() => {\n        if (reservation?.groupId)\n            getGroupReservations({ query: { 'group-id': reservation?.groupId } });\n    }, [reservation, getGroupReservations]);\n\n    const handleChangeChangeReason = useCallback(e => {\n        setChangeReason(e.target.value);\n    }, []);\n\n    const handlePostReservation = useCallback(() => {\n        const doPost = () => {\n            postReservationGroup(null, {\n                reservations,\n                text,\n                type: RESERVATION_TYPES.NORMAL,\n            }, () => {\n                message.success(\"Reservierung erfolgreich\");\n                onFinish();\n            });\n        };\n\n        Modal.confirm({\n            icon: false,\n            okText: 'Akzeptieren',\n            width: 530,\n            centered: true,\n            content: (\n                <div dangerouslySetInnerHTML={{ __html: reservationTos.body }} />\n            ),\n            onOk: doPost,\n        });\n    }, [\n        onFinish,\n        postReservationGroup,\n        reservations,\n        reservationTos,\n        text,\n    ]);\n\n    const handleChangeReservation = useCallback(() => {\n        const doChange = () => {\n            patchReservationGroup({\n                path: {\n                    groupId: reservation.groupId\n                }\n            }, {\n                reason: adminEdit ? changeReason : undefined,\n                reservations,\n                text,\n            }, () => {\n                message.success(\"Speichern erfolgreich\");\n                onFinish();\n            });\n        };\n\n        Modal.confirm({\n            title: 'Wirklich speichern?',\n            icon: <ExclamationCircleOutlined />,\n            centered: true,\n            content: (\n                <div className={styles.wrapper}>\n\n                    {newReservations.length > 0 &&\n                        <>\n                            <div className={styles.heading}>Neue Termine</div>\n                            <ul>\n                                {newReservations.map(({ courtId, from, to }) => (\n                                    <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                                ))}\n                            </ul>\n                        </>\n                    }\n\n                    {cancelReservations.length > 0 &&\n                        <>\n                            <div className={styles.heading}>Zu Stornieren</div>\n                            <ul>\n                                {cancelReservations.map(({ courtId, from, to }) => (\n                                    <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                                ))}\n                            </ul>\n                        </>\n                    }\n\n                    {changeText &&\n                        <>\n                            <div className={styles.heading}>Änderungen</div>\n                            <ul>\n                                <li>Name: <strong>{text}</strong></li>\n                            </ul>\n                        </>\n                    }\n\n                </div>\n            ),\n            okText: 'Bestätigen',\n            okType: 'danger',\n            cancelText: 'Abbrechen',\n            onOk: doChange\n        });\n    }, [\n        adminEdit,\n        cancelReservations,\n        changeReason,\n        changeText,\n        courts,\n        newReservations,\n        onFinish,\n        patchReservationGroup,\n        reservation,\n        reservations,\n        text,\n    ]);\n\n\n    const handleCancelReservation = useCallback(() => {\n        let cancelType = 'single';\n\n        const handleCancelTypeChange = e => (cancelType = e.target.value);\n\n        const doDelete = () => {\n            const reqParams = {\n                path: {\n                    groupId: reservation.groupId\n                }\n            };\n            const cb = () => {\n                message.success(\"Stornierung erfolgreich\");\n                onFinish();\n            }\n\n            let reservations;\n            if (cancelType === 'single') {\n                reservations = groupReservations.filter(r => !r.from.isSame(reservation.from, 'day'));\n            } else if (cancelType === 'allActive') {\n                reservations = groupReservations.filter(r => r.from.isBefore(dayjs(), 'hour'));\n            } else {\n                reservations = [];\n            }\n\n            patchReservationGroup(reqParams, {\n                reason: adminEdit ? changeReason : undefined,\n                reservations,\n            }, cb);\n        };\n\n        if (groupReservations.length <= 1) {\n            doDelete();\n        } else {\n            Modal.confirm({\n                title: 'Termine stornieren',\n                icon: <ExclamationCircleOutlined />,\n                centered: true,\n                content: (\n                    <Radio.Group \n                        className={styles.cancelRadioGroup}\n                        onChange={handleCancelTypeChange}\n                        defaultValue={cancelType}\n                    >\n                        <Radio value=\"single\">Nur diesen Termin</Radio>\n                        <ul>\n                            <li key={reservation.from}>{reservation.from.format('dd[\\xa0]L')}, {reservation.from.hour()}&nbsp;bis&nbsp;{reservation.to.hour()}&nbsp;Uhr, {getCourtName(courts, reservation.courtId)}</li>\n                        </ul>\n                        <Radio value=\"allActive\">Alle offenen Termine</Radio>\n                        <ul>\n                            {groupReservations.filter(r => !r.from.isBefore(dayjs(), 'hour')).map(({ courtId, from, to }) => (\n                                <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                            ))}\n                        </ul>\n                        {user?.admin &&\n                            <>\n                                <Radio value=\"all\">Alle Termine</Radio>\n                                <ul>\n                                    {groupReservations.map(({ courtId, from, to }) => (\n                                        <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                                    ))}\n                                </ul>\n                            </>\n                        }\n                    </Radio.Group>\n                ),\n                okText: 'Stornieren',\n                okType: 'danger',\n                cancelText: 'Abbrechen',\n                onOk: doDelete,\n            });\n        }\n    }, [\n        adminEdit,\n        changeReason,\n        courts,\n        groupReservations,\n        onFinish,\n        patchReservationGroup,\n        reservation,\n        user?.admin,\n    ]);\n\n    useEffect(() => {\n        if (prevErrorRef.current.post === postState.error\n            && prevErrorRef.current.patch === patchState.error)\n            return;\n        prevErrorRef.current.post = postState.error;\n        prevErrorRef.current.patch = patchState.error;\n\n        const message = postState.error?.message || patchState.error?.message;\n        if (unavailableReservations) {\n            Modal.error({\n                centered: true,\n                title: 'Reservierung fehlgeschlagen',\n                content: (\n                    <div>\n                        <div>\n                            Folgende Termine sind nicht verfügbar:\n                        </div>\n                        <ul>\n                            {unavailableReservations.map(({ courtId, from, to }) => (\n                                <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                            ))}\n                        </ul>\n                    </div>\n                )\n            });\n        } else if (message === 'too many active reservations') {\n            const value = postState.error?.value || patchState.error?.value;\n            const max = postState.error?.max || patchState.error?.max;\n            const diff = Math.abs(value - max);\n            Modal.error({\n                centered: true,\n                title: 'Reservierungslimit erreicht',\n                content: (\n                    <div>\n                        {reservations?.length > diff ?\n                            (\n                                <p>\n                                    Bitte entfernen Sie mindestens <strong>{diff}</strong> Termine.\n                                </p>\n                            ) : (\n                                <p>\n                                    Sie können aktuell keine weiteren Termine reservieren.\n                                </p>\n                            )\n                        }\n                        <p>\n                            Es können maximal {max} Reservierungen im voraus getätigt werden. Bereits vergangene Termine werden dabei nicht angerechnet.\n                        </p>\n                    </div>\n                )\n            });\n        }\n    }, [courts, reservations?.length, postState.error, patchState.error, unavailableReservations])\n\n    if (\n        state.error\n        || (postState.error && !postState.error.unavailableReservations && postState.error.message !== 'too many active reservations')\n        || (patchState.error && !patchState.error.unavailableReservations && patchState.error.message !== 'too many active reservations')\n    ) {\n        return (\n            <Modal\n                title=\"Reservierung\"\n                visible={true}\n                centered\n                onCancel={onFinish}\n                onOk={onFinish}\n                footer={\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            Abbrechen\n                        </Button>\n                    </div>\n                }\n            >\n                <div className={styles.wrapper}>\n                    <ErrorResult />\n                </div>\n            </Modal>\n        );\n    }\n\n    return (\n        <Modal\n            visible={true}\n            width={530}\n            centered\n            onCancel={onFinish}\n            onOk={onFinish}\n            footer={loading ?\n                (\n                    <StatusText\n                        loading\n                        text=\"Bitte warten...\"\n                    />\n                ) : (\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            {canEdit ? 'Abbrechen' : 'Schließen'}\n                        </Button>\n                        {canEdit && (reservation ?\n                            (\n                                <>\n                                    <Button\n                                        type=\"danger\"\n                                        onClick={handleCancelReservation}\n                                        disabled={adminEdit && !changeReason}\n                                    >\n                                        Stornieren\n                                    </Button>\n                                    <Button\n                                        type=\"primary\"\n                                        onClick={handleChangeReservation}\n                                        disabled={\n                                            !(newReservations?.length || cancelReservations?.length || changeText)\n                                            || (adminEdit && !changeReason)\n                                        }\n                                    >\n                                        Speichern\n                                    </Button>\n                                </>\n                            ) : (\n                                <Button\n                                    disabled={!newReservations?.length}\n                                    type=\"primary\"\n                                    onClick={handlePostReservation}\n                                >\n                                    Reservieren\n                                </Button>\n                            )\n                        )}\n                    </div>\n                )\n            }\n        >\n            <div className={styles.wrapper}>\n                {state.loading ?\n                    (\n                        <Ball visible spin centered large />\n                    ) : (\n\n                        <ReservationDetailsForm\n                            courtId={courtId}\n                            currentReservations={groupReservations}\n                            disabled={loading}\n                            from={from}\n                            onCourtIdChange={setCourtId}\n                            onFromChange={setFrom}\n                            onReservationsChange={setReservations}\n                            onTextChange={setText}\n                            onToChange={setTo}\n                            readOnly={!canEdit}\n                            text={text}\n                            to={to}\n                            unavailableReservations={unavailableReservations}\n                        />\n                    )\n                }\n\n                {adminEdit &&\n                    <Form layout=\"vertical\">\n                        <Form.Item \n                            label=\"Grund der Änderung\"\n                            required\n                        >\n                            <Input.TextArea\n                                autoSize\n                                disabled={loading}\n                                onChange={handleChangeChangeReason}\n                                placeholder=\"Erforderlich\"\n                                required\n                                value={changeReason}\n                            />\n                            <div className={styles.changeReasonHint}>\n                                Der Inhaber der Reservierung wird über die Änderungen sowie dessen Grund per E-Mail informiert.\n                            </div>\n                        </Form.Item>\n                    </Form>\n                }\n            </div>\n        </Modal>\n    );\n}","import { Button, Modal, Result } from 'antd';\nimport React, { useCallback, useContext } from 'react';\n\nimport { authContext } from '../AuthContext';\nimport styles from './VerifyMailModal.module.css';\nimport { useHistory } from 'react-router-dom';\n\nexport function VerifyMailModal({\n    onClose\n}) {\n    const { user } = useContext(authContext);\n    const history = useHistory();\n\n    const handleChangeMailClick = useCallback(() => {\n        history.push('/profile');\n    }, [history]);\n    \n    const handleResendMail = useCallback(() => {\n        history.push('/verify-mail/send');\n    }, [history]);\n\n    return (\n        <Modal\n            title=\"E-Mail nicht verifiziert\"\n            visible={true}\n            centered\n            width={580}\n            onCancel={onClose}\n            onOk={onClose}\n            footer={null}\n        >\n            <Result\n                status=\"warning\"\n                title=\"Bitte bestätigen Sie Ihre E-Mail Adresse\"\n                extra={\n                    <div>\n                        <div>\n                            Klicken Sie auf den Bestätigungslink, den Sie bei Ihrer Registrierung an <strong>{user?.mail}</strong> erhalten haben.\n                        </div>\n                        <div className={styles.buttons}>\n                            <Button type=\"primary\" onClick={handleResendMail}>\n                                Bestätigungslink erneut senden\n                            </Button>\n                            <Button type=\"link\" onClick={handleChangeMailClick}>\n                                E-Mail Adresse ändern\n                            </Button>\n                        </div>\n                    </div>\n                }\n            />\n        </Modal>\n    );\n}","import React, { useContext } from 'react';\n\nimport { DisableReservationGroupModal } from './DisableReservationGroupModal';\nimport { LoginModal } from '../user/LoginModal';\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { ReservationGroupModal } from './ReservationGroupModal';\nimport { VerifyMailModal } from '../user/VerifyMailModal';\nimport { authContext } from '../AuthContext';\n\nexport function ReservationModal(props) {\n    \n    const { user } = useContext(authContext);\n    const { onFinish, reservation, type } = props;\n\n    if (!user)\n        return <LoginModal onClose={onFinish} />\n\n    if (!user.verified)\n        return <VerifyMailModal onClose={onFinish} />\n\n    if (reservation?.type === RESERVATION_TYPES.DISABLE || type === RESERVATION_TYPES.DISABLE)\n        return <DisableReservationGroupModal {...props} />;\n\n    return <ReservationGroupModal {...props} />;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cell\":\"SlotCell_cell__10BAl\",\"enabled\":\"SlotCell_enabled__3WkTf\",\"alwaysClickable\":\"SlotCell_alwaysClickable__9sej8\",\"slot\":\"SlotCell_slot__2KRoY\",\"text\":\"SlotCell_text__1xoLV\",\"singleLine\":\"SlotCell_singleLine__22a8x\",\"reserved\":\"SlotCell_reserved__1oREX\",\"mine\":\"SlotCell_mine__Fe5AN\",\"loading\":\"SlotCell_loading__19J7J\",\"load\":\"SlotCell_load__YLQlz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DayTable_wrapper__1Hl5M\",\"date\":\"DayTable_date__3HnYm\",\"today\":\"DayTable_today__3s1dj\",\"court\":\"DayTable_court__3mDRl\",\"blur\":\"DayTable_blur__1Rzxw\",\"infoOverlay\":\"DayTable_infoOverlay__2JlXg\",\"linkButton\":\"DayTable_linkButton__3jjgW\",\"adminActions\":\"DayTable_adminActions__p2SPY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hoursTableWrapper\":\"HoursTable_hoursTableWrapper__2oqN9\",\"hoursTable\":\"HoursTable_hoursTable__1GyQk\",\"hour\":\"HoursTable_hour__2iAsO\",\"to\":\"HoursTable_to__U0x1y\",\"highlight\":\"HoursTable_highlight__16BlN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ReservationCalendar_wrapper__r-AWI\",\"tableWrapper\":\"ReservationCalendar_tableWrapper__Zzm8d\",\"tableScroller\":\"ReservationCalendar_tableScroller__1fVFR\"};","import React, { useCallback, useContext } from 'react';\n\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { authContext } from '../AuthContext';\nimport classNames from 'classnames/bind';\nimport styles from './SlotCell.module.css';\n\nconst cn = classNames.bind(styles);\n\nconst SLOT_HEIGHT_PX = 32;\nconst CELL_PADDING_PX = 3;\n\nexport function SlotCell({\n    alwaysClickable = false,\n    courtId,\n    courtName,\n    date,\n    disabled = false,\n    hours,\n    loading = false,\n    onClick,\n    reservation,\n}) {\n    const { user } = useContext(authContext);\n\n    const handleClick = useCallback(() => {\n        if (alwaysClickable || (!disabled && reservation?.type !== RESERVATION_TYPES.DISABLE))\n            onClick({ courtId, date, reservation });\n    }, [alwaysClickable, courtId, date, disabled, onClick, reservation]);\n\n    let rowSpan = 1;\n    if (reservation) {\n        if (reservation.from.isBefore(date, 'hour') && date.hour() !== hours[0]) {\n            rowSpan = 0;\n        } else {\n            const maxRowSpan = hours.length - hours.indexOf(date.hour());\n            rowSpan = Math.min(reservation.to.diff(date, 'hour'), maxRowSpan);\n        }\n    }\n\n    if (rowSpan === 0)\n        return null;\n\n    return (\n        <td\n            className={cn({\n                alwaysClickable,\n                cell: true,\n                enabled: !disabled && reservation?.type !== RESERVATION_TYPES.DISABLE,\n            })}\n            style={{ padding: CELL_PADDING_PX }}\n            rowSpan={rowSpan}\n            onClick={handleClick}\n        >\n            <div\n                className={cn({\n                    slot: true,\n                    loading,\n                    reserved: reservation?.type === RESERVATION_TYPES.NORMAL,\n                    mine: user && user?.userId === reservation?.userId,\n                })}\n                style={{ height: SLOT_HEIGHT_PX * rowSpan + CELL_PADDING_PX * 2 * (rowSpan - 1) }}\n                data-free-text=\"Frei\"\n                data-free-text-hover={`${date.hour()} Uhr, ${courtName}`}\n            >\n                <div className={cn({\n                    text: true,\n                    singleLine: rowSpan === 1,\n                })}>\n                    {reservation && (reservation.type === RESERVATION_TYPES.DISABLE ?\n                        (\n                            <>\n                                <div>Gesperrt</div>\n                                <div>{reservation.text}</div>\n                            </>\n                        ) : (\n                            <div>{reservation.text || reservation.name}</div>\n                        )\n                    )}\n                </div>\n            </div>\n        </td>\n    );\n}\n","import React, { useCallback, useContext, useEffect, useMemo, useState } from 'react';\n\nimport { Button } from 'antd';\nimport { SlotCell } from './SlotCell';\nimport { authContext } from '../AuthContext';\nimport classNames from 'classnames/bind';\nimport { findReservation } from '../helper';\nimport styles from './DayTable.module.css';\nimport { useTime } from './useTime';\n\nconst cn = classNames.bind(styles);\n\nexport function DayTable({\n    courts,\n    date,\n    hours,\n    loading,\n    onDisableCourtClick,\n    onSlotClick,\n    reservationDaysInAdvance,\n    reservations,\n}) {\n    const { user } = useContext(authContext);\n    const [disableOverlay, setDisableOverlay] = useState(false);\n    useEffect(() => setDisableOverlay(false), [user]);\n\n    const now = useTime('hour');\n\n    const isToday = useMemo(() => now.isSame(date, 'day'), [date, now]);\n    const tooFarAhead = useMemo(() =>\n        date.isAfter(now.add(reservationDaysInAdvance, 'day'), 'day'), [date, now, reservationDaysInAdvance]);\n    const reservableAsOf = useMemo(() => date.subtract(reservationDaysInAdvance, 'day').format('L'), [date, reservationDaysInAdvance]);\n\n    const showInfoOverlay = !disableOverlay && tooFarAhead;\n\n    const handleDisableOverlayClick = useCallback(() => setDisableOverlay(true), []);\n\n    const renderRowSlots = useCallback((date) => courts.map(({ courtId, name }) => (\n        <SlotCell\n            alwaysClickable={user?.admin}\n            courtId={courtId}\n            courtName={name}\n            date={date}\n            disabled={date.isBefore(now, 'hour')}\n            hours={hours}\n            key={courtId}\n            loading={loading}\n            onClick={onSlotClick}\n            reservation={findReservation(reservations, date, courtId)}\n        />\n    )), [user?.admin, courts, hours, loading, now, onSlotClick, reservations]);\n\n    return (\n        <div className={styles.wrapper}>\n            <table>\n                <thead>\n                    <tr>\n                        <th className={styles.date} colSpan={courts.length}>\n                            {isToday && <span className={styles.today}>Heute</span>}\n                            {date.format('dd[\\xa0]L')}\n                        </th>\n                    </tr>\n                    <tr>\n                        {courts.map(({ courtId, name }) => (\n                            <td key={courtId}>\n                                <div className={styles.court}>\n                                    {name}\n                                </div>\n                            </td>\n                        ))}\n                    </tr>\n                </thead>\n                <tbody\n                    className={cn({\n                        blur: showInfoOverlay\n                    })}\n                >\n                    {hours.map(hour => (\n                        <tr key={hour}>\n                            {renderRowSlots(date.hour(hour))}\n                        </tr>\n                    ))}\n                    {user?.admin &&\n                        <tr className={styles.adminActions}>\n                            {courts.map(({ courtId }) => (\n                                <td key={courtId}>\n                                    <Button\n                                        type=\"link\"\n                                        onClick={() => onDisableCourtClick({ courtId, date })}\n                                    >\n                                        Sperren\n                                    </Button>\n                                </td>\n                            ))}\n                        </tr>\n                    }\n                </tbody>\n            </table>\n\n            {showInfoOverlay &&\n                <div className={styles.infoOverlay}>\n                    <div>Reservierbar<br />ab {reservableAsOf}</div>\n                    {user?.admin &&\n                        <Button\n                            className={styles.linkButton}\n                            type=\"link\"\n                            onClick={handleDisableOverlayClick}\n                        >\n                            Trotzdem reservieren<br />(Trainer/Admin)\n                        </Button>\n                    }\n                </div>\n            }\n        </div>\n    );\n}\n","import React from 'react';\nimport classNames from 'classnames/bind';\nimport styles from './HoursTable.module.css';\n\nconst cn = classNames.bind(styles);\n\nexport function HoursTable({\n    hours,\n    highlightHour,\n}) {\n    return (\n        <div className={styles.hoursTableWrapper}>\n            <table className={styles.hoursTable}>\n                <tbody>\n                    {hours.map(hour => (\n                        <tr key={hour} className={cn({ highlight: highlightHour === hour })}>\n                            <th>\n                                <div className={styles.hour}>\n                                    {hour} Uhr<br />\n                                    <span className={styles.to}>bis {(hour + 1) % 24} Uhr</span>\n                                </div>\n                            </th>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    );\n}","import React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\n\nimport { DayTable } from './DayTable';\nimport { ErrorResult } from '../ErrorResult';\nimport { HoursTable } from './HoursTable';\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { ReservationModal } from './ReservationModal';\nimport { UPDATE_INTERVALS_SEC } from '../updateIntervals';\nimport { appContext } from '../AppContext';\nimport { getReservationsApi } from '../api';\nimport styles from './ReservationCalendar.module.css';\nimport { useApi } from '../useApi';\nimport { useTime } from './useTime';\nimport { useUpdateEffect } from '../useUpdateEffect';\nimport { visibleHoursToHoursArray } from '../helper';\n\nconst VISIBLE_DATES_COUNT = 7; // week\n\nexport function ReservationCalendar({\n    highlightHour,\n    kiosk = false,\n    selectedDate,\n}) {\n    const { courts, config: { visibleHours, reservationDaysInAdvance } } = useContext(appContext);\n\n    const today = useTime('day');\n\n    const [selectedSlot, setSelectedSlot] = useState();\n    const scrollerRef = useRef();\n\n    const [reservations, setReservations] = useState(null);\n    const [state, getReservations] = useApi(getReservationsApi, setReservations); \n\n    const updateReservations = useCallback(() => getReservations({\n        query: {\n            start: selectedDate.startOf('week').toISOString(),\n            end: selectedDate.endOf('week').toISOString(),\n        }\n    }), [selectedDate, getReservations]);\n\n    useUpdateEffect(updateReservations, UPDATE_INTERVALS_SEC.RESERVATIONS);\n\n    useEffect(() => {\n        setReservations(null);\n        updateReservations();\n    }, [updateReservations]);\n\n    const hours = useMemo(() => visibleHoursToHoursArray(visibleHours), [visibleHours]);\n\n    const visibleDates = useMemo(() => Array.from(Array(VISIBLE_DATES_COUNT)).map((_, i) =>\n        selectedDate.startOf('week').add(i, 'day') // startOf also sets hours, mins, secs to zero\n    ), [selectedDate]);\n\n    // scroll automatically to today's date\n    useEffect(() => {\n        if (!scrollerRef.current)\n            return;\n        if (selectedDate.isSame(today, 'week')) {\n            const index = Math.abs(today.startOf('week').diff(today, 'day'));\n            requestAnimationFrame(() => {\n                scrollerRef.current.scrollLeft\n                    = ((scrollerRef.current.scrollWidth) / VISIBLE_DATES_COUNT) * index;\n            });\n        } else {\n            requestAnimationFrame(() => {\n                scrollerRef.current.scrollLeft = 0;\n            });\n        }\n    }, [selectedDate, today]);\n\n    const handleSlotClicked = useCallback(selectedSlot => {\n        if (!kiosk)\n            setSelectedSlot(selectedSlot);\n    }, [kiosk]);\n\n    const handleDisableCourtClicked = useCallback(selectedSlot => {\n        setSelectedSlot({ \n            ...selectedSlot,\n            type: RESERVATION_TYPES.DISABLE,\n        });\n    }, []);\n\n    const handleReservationFinish = useCallback(() => {\n        setSelectedSlot(null);\n    }, []);\n\n    if (state.error)\n        return (\n            <div className={styles.tableWrapper}>\n                <ErrorResult />\n            </div>\n        );\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.tableWrapper}>\n                <HoursTable\n                    hours={hours}\n                    highlightHour={highlightHour}\n                />\n\n                <div className={styles.tableScroller} ref={scrollerRef}>\n                    {visibleDates.map(date => (\n                        <DayTable\n                            courts={courts}\n                            date={date}\n                            hours={hours}\n                            key={date}\n                            loading={!reservations}\n                            onDisableCourtClick={handleDisableCourtClicked}\n                            onSlotClick={handleSlotClicked}\n                            reservationDaysInAdvance={reservationDaysInAdvance}\n                            reservations={reservations}\n                        />\n                    ))}\n                </div>\n            </div>\n\n            {selectedSlot &&\n                <ReservationModal\n                    initialFrom={selectedSlot?.date}\n                    initialCourtId={selectedSlot?.courtId}\n                    reservation={selectedSlot?.reservation}\n                    type={selectedSlot?.type}\n                    onFinish={handleReservationFinish}\n                    setReservations={setReservations}\n                />\n            }\n        </div>\n    );\n}","module.exports = {\n\tMODE_NUMBER :\t\t1 << 0,\n\tMODE_ALPHA_NUM : \t1 << 1,\n\tMODE_8BIT_BYTE : \t1 << 2,\n\tMODE_KANJI :\t\t1 << 3\n};\n","module.exports = {\n\tL : 1,\n\tM : 0,\n\tQ : 3,\n\tH : 2\n};\n\n","var math = require('./math');\n\nfunction QRPolynomial(num, shift) {\n\n\tif (num.length == undefined) {\n\t\tthrow new Error(num.length + \"/\" + shift);\n\t}\n\n\tvar offset = 0;\n\n\twhile (offset < num.length && num[offset] == 0) {\n\t\toffset++;\n\t}\n\n\tthis.num = new Array(num.length - offset + shift);\n\tfor (var i = 0; i < num.length - offset; i++) {\n\t\tthis.num[i] = num[i + offset];\n\t}\n}\n\nQRPolynomial.prototype = {\n\n\tget : function(index) {\n\t\treturn this.num[index];\n\t},\n\t\n\tgetLength : function() {\n\t\treturn this.num.length;\n\t},\n\t\n\tmultiply : function(e) {\n\t\n\t\tvar num = new Array(this.getLength() + e.getLength() - 1);\n\t\n\t\tfor (var i = 0; i < this.getLength(); i++) {\n\t\t\tfor (var j = 0; j < e.getLength(); j++) {\n\t\t\t\tnum[i + j] ^= math.gexp(math.glog(this.get(i) ) + math.glog(e.get(j) ) );\n\t\t\t}\n\t\t}\n\t\n\t\treturn new QRPolynomial(num, 0);\n\t},\n\t\n\tmod : function(e) {\n\t\n\t\tif (this.getLength() - e.getLength() < 0) {\n\t\t\treturn this;\n\t\t}\n\t\n\t\tvar ratio = math.glog(this.get(0) ) - math.glog(e.get(0) );\n\t\n\t\tvar num = new Array(this.getLength() );\n\t\t\n\t\tfor (var i = 0; i < this.getLength(); i++) {\n\t\t\tnum[i] = this.get(i);\n\t\t}\n\t\t\n\t\tfor (var i = 0; i < e.getLength(); i++) {\n\t\t\tnum[i] ^= math.gexp(math.glog(e.get(i) ) + ratio);\n\t\t}\n\t\n\t\t// recursive call\n\t\treturn new QRPolynomial(num, 0).mod(e);\n\t}\n};\n\nmodule.exports = QRPolynomial;\n","var QRMath = {\n\n\tglog : function(n) {\n\t\n\t\tif (n < 1) {\n\t\t\tthrow new Error(\"glog(\" + n + \")\");\n\t\t}\n\t\t\n\t\treturn QRMath.LOG_TABLE[n];\n\t},\n\t\n\tgexp : function(n) {\n\t\n\t\twhile (n < 0) {\n\t\t\tn += 255;\n\t\t}\n\t\n\t\twhile (n >= 256) {\n\t\t\tn -= 255;\n\t\t}\n\t\n\t\treturn QRMath.EXP_TABLE[n];\n\t},\n\t\n\tEXP_TABLE : new Array(256),\n\t\n\tLOG_TABLE : new Array(256)\n\n};\n\t\nfor (var i = 0; i < 8; i++) {\n\tQRMath.EXP_TABLE[i] = 1 << i;\n}\nfor (var i = 8; i < 256; i++) {\n\tQRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4]\n\t\t^ QRMath.EXP_TABLE[i - 5]\n\t\t^ QRMath.EXP_TABLE[i - 6]\n\t\t^ QRMath.EXP_TABLE[i - 8];\n}\nfor (var i = 0; i < 255; i++) {\n\tQRMath.LOG_TABLE[QRMath.EXP_TABLE[i] ] = i;\n}\n\nmodule.exports = QRMath;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DateClock_wrapper__2wdCe\",\"time\":\"DateClock_time__1UaS1\",\"date\":\"DateClock_date__2fu_M\",\"clockDots\":\"DateClock_clockDots__1qZO2\",\"blink\":\"DateClock_blink__dDypK\"};","'use strict';\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar React = require('react');\n\nvar PropTypes = require('prop-types'); // qr.js doesn't handle error level of zero (M) so we need to do it right,\n// thus the deep require.\n\n\nvar QRCodeImpl = require('qr.js/lib/QRCode');\n\nvar ErrorCorrectLevel = require('qr.js/lib/ErrorCorrectLevel'); // TODO: pull this off of the QRCode class type so it matches.\n\n\n// Convert from UTF-16, forcing the use of byte-mode encoding in our QR Code.\n// This allows us to encode Hanji, Kanji, emoji, etc. Ideally we'd do more\n// detection and not resort to byte-mode if possible, but we're trading off\n// a smaller library for a smaller amount of data we can potentially encode.\n// Based on http://jonisalonen.com/2012/from-utf-16-to-utf-8-in-javascript/\nfunction convertStr(str) {\n  var out = '';\n\n  for (var i = 0; i < str.length; i++) {\n    var charcode = str.charCodeAt(i);\n\n    if (charcode < 0x0080) {\n      out += String.fromCharCode(charcode);\n    } else if (charcode < 0x0800) {\n      out += String.fromCharCode(0xc0 | charcode >> 6);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    } else if (charcode < 0xd800 || charcode >= 0xe000) {\n      out += String.fromCharCode(0xe0 | charcode >> 12);\n      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    } else {\n      // This is a surrogate pair, so we'll reconsitute the pieces and work\n      // from that\n      i++;\n      charcode = 0x10000 + ((charcode & 0x3ff) << 10 | str.charCodeAt(i) & 0x3ff);\n      out += String.fromCharCode(0xf0 | charcode >> 18);\n      out += String.fromCharCode(0x80 | charcode >> 12 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    }\n  }\n\n  return out;\n}\n\nvar DEFAULT_PROPS = {\n  size: 128,\n  level: 'L',\n  bgColor: '#FFFFFF',\n  fgColor: '#000000',\n  includeMargin: false\n};\nvar PROP_TYPES = process.env.NODE_ENV !== 'production' ? {\n  value: PropTypes.string.isRequired,\n  size: PropTypes.number,\n  level: PropTypes.oneOf(['L', 'M', 'Q', 'H']),\n  bgColor: PropTypes.string,\n  fgColor: PropTypes.string,\n  includeMargin: PropTypes.bool,\n  imageSettings: PropTypes.shape({\n    src: PropTypes.string.isRequired,\n    height: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    excavate: PropTypes.bool,\n    x: PropTypes.number,\n    y: PropTypes.number\n  })\n} : {};\nvar MARGIN_SIZE = 4; // This is *very* rough estimate of max amount of QRCode allowed to be covered.\n// It is \"wrong\" in a lot of ways (area is a terrible way to estimate, it\n// really should be number of modules covered), but if for some reason we don't\n// get an explicit height or width, I'd rather default to something than throw.\n\nvar DEFAULT_IMG_SCALE = 0.1;\n\nfunction generatePath(modules) {\n  var margin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var ops = [];\n  modules.forEach(function (row, y) {\n    var start = null;\n    row.forEach(function (cell, x) {\n      if (!cell && start !== null) {\n        // M0 0h7v1H0z injects the space with the move and drops the comma,\n        // saving a char per operation\n        ops.push(\"M\".concat(start + margin, \" \").concat(y + margin, \"h\").concat(x - start, \"v1H\").concat(start + margin, \"z\"));\n        start = null;\n        return;\n      } // end of row, clean up or skip\n\n\n      if (x === row.length - 1) {\n        if (!cell) {\n          // We would have closed the op above already so this can only mean\n          // 2+ light modules in a row.\n          return;\n        }\n\n        if (start === null) {\n          // Just a single dark module.\n          ops.push(\"M\".concat(x + margin, \",\").concat(y + margin, \" h1v1H\").concat(x + margin, \"z\"));\n        } else {\n          // Otherwise finish the current line.\n          ops.push(\"M\".concat(start + margin, \",\").concat(y + margin, \" h\").concat(x + 1 - start, \"v1H\").concat(start + margin, \"z\"));\n        }\n\n        return;\n      }\n\n      if (cell && start === null) {\n        start = x;\n      }\n    });\n  });\n  return ops.join('');\n} // We could just do this in generatePath, except that we want to support\n// non-Path2D canvas, so we need to keep it an explicit step.\n\n\nfunction excavateModules(modules, excavation) {\n  return modules.slice().map(function (row, y) {\n    if (y < excavation.y || y >= excavation.y + excavation.h) {\n      return row;\n    }\n\n    return row.map(function (cell, x) {\n      if (x < excavation.x || x >= excavation.x + excavation.w) {\n        return cell;\n      }\n\n      return false;\n    });\n  });\n}\n\nfunction getImageSettings(props, cells) {\n  var imageSettings = props.imageSettings,\n      size = props.size,\n      includeMargin = props.includeMargin;\n\n  if (imageSettings == null) {\n    return null;\n  }\n\n  var margin = includeMargin ? MARGIN_SIZE : 0;\n  var numCells = cells.length + margin * 2;\n  var defaultSize = Math.floor(size * DEFAULT_IMG_SCALE);\n  var scale = numCells / size;\n  var w = (imageSettings.width || defaultSize) * scale;\n  var h = (imageSettings.height || defaultSize) * scale;\n  var x = imageSettings.x == null ? cells.length / 2 - w / 2 : imageSettings.x * scale;\n  var y = imageSettings.y == null ? cells.length / 2 - h / 2 : imageSettings.y * scale;\n  var excavation = null;\n\n  if (imageSettings.excavate) {\n    var floorX = Math.floor(x);\n    var floorY = Math.floor(y);\n    var ceilW = Math.ceil(w + x - floorX);\n    var ceilH = Math.ceil(h + y - floorY);\n    excavation = {\n      x: floorX,\n      y: floorY,\n      w: ceilW,\n      h: ceilH\n    };\n  }\n\n  return {\n    x: x,\n    y: y,\n    h: h,\n    w: w,\n    excavation: excavation\n  };\n} // For canvas we're going to switch our drawing mode based on whether or not\n// the environment supports Path2D. We only need the constructor to be\n// supported, but Edge doesn't actually support the path (string) type\n// argument. Luckily it also doesn't support the addPath() method. We can\n// treat that as the same thing.\n\n\nvar SUPPORTS_PATH2D = function () {\n  try {\n    new Path2D().addPath(new Path2D());\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n}();\n\nvar QRCodeCanvas =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(QRCodeCanvas, _React$PureComponent);\n\n  function QRCodeCanvas() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, QRCodeCanvas);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(QRCodeCanvas)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"_canvas\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_image\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      imgLoaded: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleImageLoad\", function () {\n      _this.setState({\n        imgLoaded: true\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(QRCodeCanvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.update();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.update();\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _this$props = this.props,\n          value = _this$props.value,\n          size = _this$props.size,\n          level = _this$props.level,\n          bgColor = _this$props.bgColor,\n          fgColor = _this$props.fgColor,\n          includeMargin = _this$props.includeMargin,\n          imageSettings = _this$props.imageSettings; // We'll use type===-1 to force QRCode to automatically pick the best type\n\n      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);\n      qrcode.addData(convertStr(value));\n      qrcode.make();\n\n      if (this._canvas != null) {\n        var canvas = this._canvas;\n        var ctx = canvas.getContext('2d');\n\n        if (!ctx) {\n          return;\n        }\n\n        var cells = qrcode.modules;\n\n        if (cells === null) {\n          return;\n        }\n\n        var margin = includeMargin ? MARGIN_SIZE : 0;\n        var numCells = cells.length + margin * 2;\n        var calculatedImageSettings = getImageSettings(this.props, cells);\n\n        if (imageSettings != null && calculatedImageSettings != null) {\n          if (calculatedImageSettings.excavation != null) {\n            cells = excavateModules(cells, calculatedImageSettings.excavation);\n          }\n        } // We're going to scale this so that the number of drawable units\n        // matches the number of cells. This avoids rounding issues, but does\n        // result in some potentially unwanted single pixel issues between\n        // blocks, only in environments that don't support Path2D.\n\n\n        var pixelRatio = window.devicePixelRatio || 1;\n        canvas.height = canvas.width = size * pixelRatio;\n        var scale = size / numCells * pixelRatio;\n        ctx.scale(scale, scale); // Draw solid background, only paint dark modules.\n\n        ctx.fillStyle = bgColor;\n        ctx.fillRect(0, 0, numCells, numCells);\n        ctx.fillStyle = fgColor;\n\n        if (SUPPORTS_PATH2D) {\n          // $FlowFixMe: Path2D c'tor doesn't support args yet.\n          ctx.fill(new Path2D(generatePath(cells, margin)));\n        } else {\n          cells.forEach(function (row, rdx) {\n            row.forEach(function (cell, cdx) {\n              if (cell) {\n                ctx.fillRect(cdx + margin, rdx + margin, 1, 1);\n              }\n            });\n          });\n        }\n\n        if (this.state.imgLoaded && this._image && calculatedImageSettings != null) {\n          ctx.drawImage(this._image, calculatedImageSettings.x + margin, calculatedImageSettings.y + margin, calculatedImageSettings.w, calculatedImageSettings.h);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          value = _this$props2.value,\n          size = _this$props2.size,\n          level = _this$props2.level,\n          bgColor = _this$props2.bgColor,\n          fgColor = _this$props2.fgColor,\n          style = _this$props2.style,\n          includeMargin = _this$props2.includeMargin,\n          imageSettings = _this$props2.imageSettings,\n          otherProps = _objectWithoutProperties(_this$props2, [\"value\", \"size\", \"level\", \"bgColor\", \"fgColor\", \"style\", \"includeMargin\", \"imageSettings\"]);\n\n      var canvasStyle = _objectSpread({\n        height: size,\n        width: size\n      }, style);\n\n      var img = null;\n      var imgSrc = imageSettings && imageSettings.src;\n\n      if (imageSettings != null && imgSrc != null) {\n        img = React.createElement(\"img\", {\n          src: imgSrc,\n          style: {\n            display: 'none'\n          },\n          onLoad: this.handleImageLoad,\n          ref: function ref(_ref) {\n            return _this2._image = _ref;\n          }\n        });\n      }\n\n      return React.createElement(React.Fragment, null, React.createElement(\"canvas\", _extends({\n        style: canvasStyle,\n        height: size,\n        width: size,\n        ref: function ref(_ref2) {\n          return _this2._canvas = _ref2;\n        }\n      }, otherProps)), img);\n    }\n  }]);\n\n  return QRCodeCanvas;\n}(React.PureComponent);\n\n_defineProperty(QRCodeCanvas, \"defaultProps\", DEFAULT_PROPS);\n\nif (process.env.NODE_ENV !== 'production') {\n  QRCodeCanvas.propTypes = PROP_TYPES;\n}\n\nvar QRCodeSVG =\n/*#__PURE__*/\nfunction (_React$PureComponent2) {\n  _inherits(QRCodeSVG, _React$PureComponent2);\n\n  function QRCodeSVG() {\n    _classCallCheck(this, QRCodeSVG);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(QRCodeSVG).apply(this, arguments));\n  }\n\n  _createClass(QRCodeSVG, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          value = _this$props3.value,\n          size = _this$props3.size,\n          level = _this$props3.level,\n          bgColor = _this$props3.bgColor,\n          fgColor = _this$props3.fgColor,\n          includeMargin = _this$props3.includeMargin,\n          imageSettings = _this$props3.imageSettings,\n          otherProps = _objectWithoutProperties(_this$props3, [\"value\", \"size\", \"level\", \"bgColor\", \"fgColor\", \"includeMargin\", \"imageSettings\"]); // We'll use type===-1 to force QRCode to automatically pick the best type\n\n\n      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);\n      qrcode.addData(convertStr(value));\n      qrcode.make();\n      var cells = qrcode.modules;\n\n      if (cells === null) {\n        return null;\n      }\n\n      var margin = includeMargin ? MARGIN_SIZE : 0;\n      var numCells = cells.length + margin * 2;\n      var calculatedImageSettings = getImageSettings(this.props, cells);\n      var image = null;\n\n      if (imageSettings != null && calculatedImageSettings != null) {\n        if (calculatedImageSettings.excavation != null) {\n          cells = excavateModules(cells, calculatedImageSettings.excavation);\n        }\n\n        image = React.createElement(\"image\", {\n          xlinkHref: imageSettings.src,\n          height: calculatedImageSettings.h,\n          width: calculatedImageSettings.w,\n          x: calculatedImageSettings.x + margin,\n          y: calculatedImageSettings.y + margin,\n          preserveAspectRatio: \"none\"\n        });\n      } // Drawing strategy: instead of a rect per module, we're going to create a\n      // single path for the dark modules and layer that on top of a light rect,\n      // for a total of 2 DOM nodes. We pay a bit more in string concat but that's\n      // way faster than DOM ops.\n      // For level 1, 441 nodes -> 2\n      // For level 40, 31329 -> 2\n\n\n      var fgPath = generatePath(cells, margin);\n      return React.createElement(\"svg\", _extends({\n        shapeRendering: \"crispEdges\",\n        height: size,\n        width: size,\n        viewBox: \"0 0 \".concat(numCells, \" \").concat(numCells)\n      }, otherProps), React.createElement(\"path\", {\n        fill: bgColor,\n        d: \"M0,0 h\".concat(numCells, \"v\").concat(numCells, \"H0z\")\n      }), React.createElement(\"path\", {\n        fill: fgColor,\n        d: fgPath\n      }), image);\n    }\n  }]);\n\n  return QRCodeSVG;\n}(React.PureComponent);\n\n_defineProperty(QRCodeSVG, \"defaultProps\", DEFAULT_PROPS);\n\nif (process.env.NODE_ENV !== 'production') {\n  QRCodeSVG.propTypes = PROP_TYPES;\n}\n\nvar QRCode = function QRCode(props) {\n  var renderAs = props.renderAs,\n      otherProps = _objectWithoutProperties(props, [\"renderAs\"]);\n\n  var Component = renderAs === 'svg' ? QRCodeSVG : QRCodeCanvas;\n  return React.createElement(Component, otherProps);\n};\n\nQRCode.defaultProps = _objectSpread({\n  renderAs: 'canvas'\n}, DEFAULT_PROPS);\nmodule.exports = QRCode;","var BitByte = require('./8BitByte');\nvar RSBlock = require('./RSBlock');\nvar BitBuffer = require('./BitBuffer');\nvar util = require('./util');\nvar Polynomial = require('./Polynomial');\n\nfunction QRCode(typeNumber, errorCorrectLevel) {\n\tthis.typeNumber = typeNumber;\n\tthis.errorCorrectLevel = errorCorrectLevel;\n\tthis.modules = null;\n\tthis.moduleCount = 0;\n\tthis.dataCache = null;\n\tthis.dataList = [];\n}\n\n// for client side minification\nvar proto = QRCode.prototype;\n\nproto.addData = function(data) {\n\tvar newData = new BitByte(data);\n\tthis.dataList.push(newData);\n\tthis.dataCache = null;\n};\n\nproto.isDark = function(row, col) {\n\tif (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {\n\t\tthrow new Error(row + \",\" + col);\n\t}\n\treturn this.modules[row][col];\n};\n\nproto.getModuleCount = function() {\n\treturn this.moduleCount;\n};\n\nproto.make = function() {\n\t// Calculate automatically typeNumber if provided is < 1\n\tif (this.typeNumber < 1 ){\n\t\tvar typeNumber = 1;\n\t\tfor (typeNumber = 1; typeNumber < 40; typeNumber++) {\n\t\t\tvar rsBlocks = RSBlock.getRSBlocks(typeNumber, this.errorCorrectLevel);\n\n\t\t\tvar buffer = new BitBuffer();\n\t\t\tvar totalDataCount = 0;\n\t\t\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\t\t\ttotalDataCount += rsBlocks[i].dataCount;\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < this.dataList.length; i++) {\n\t\t\t\tvar data = this.dataList[i];\n\t\t\t\tbuffer.put(data.mode, 4);\n\t\t\t\tbuffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber) );\n\t\t\t\tdata.write(buffer);\n\t\t\t}\n\t\t\tif (buffer.getLengthInBits() <= totalDataCount * 8)\n\t\t\t\tbreak;\n\t\t}\n\t\tthis.typeNumber = typeNumber;\n\t}\n\tthis.makeImpl(false, this.getBestMaskPattern() );\n};\n\nproto.makeImpl = function(test, maskPattern) {\n\t\n\tthis.moduleCount = this.typeNumber * 4 + 17;\n\tthis.modules = new Array(this.moduleCount);\n\t\n\tfor (var row = 0; row < this.moduleCount; row++) {\n\t\t\n\t\tthis.modules[row] = new Array(this.moduleCount);\n\t\t\n\t\tfor (var col = 0; col < this.moduleCount; col++) {\n\t\t\tthis.modules[row][col] = null;//(col + row) % 3;\n\t\t}\n\t}\n\n\tthis.setupPositionProbePattern(0, 0);\n\tthis.setupPositionProbePattern(this.moduleCount - 7, 0);\n\tthis.setupPositionProbePattern(0, this.moduleCount - 7);\n\tthis.setupPositionAdjustPattern();\n\tthis.setupTimingPattern();\n\tthis.setupTypeInfo(test, maskPattern);\n\t\n\tif (this.typeNumber >= 7) {\n\t\tthis.setupTypeNumber(test);\n\t}\n\n\tif (this.dataCache == null) {\n\t\tthis.dataCache = QRCode.createData(this.typeNumber, this.errorCorrectLevel, this.dataList);\n\t}\n\n\tthis.mapData(this.dataCache, maskPattern);\n};\n\nproto.setupPositionProbePattern = function(row, col)  {\n\t\n\tfor (var r = -1; r <= 7; r++) {\n\t\t\n\t\tif (row + r <= -1 || this.moduleCount <= row + r) continue;\n\t\t\n\t\tfor (var c = -1; c <= 7; c++) {\n\t\t\t\n\t\t\tif (col + c <= -1 || this.moduleCount <= col + c) continue;\n\t\t\t\n\t\t\tif ( (0 <= r && r <= 6 && (c == 0 || c == 6) )\n\t\t\t\t\t|| (0 <= c && c <= 6 && (r == 0 || r == 6) )\n\t\t\t\t\t|| (2 <= r && r <= 4 && 2 <= c && c <= 4) ) {\n\t\t\t\tthis.modules[row + r][col + c] = true;\n\t\t\t} else {\n\t\t\t\tthis.modules[row + r][col + c] = false;\n\t\t\t}\n\t\t}\t\t\n\t}\t\t\n};\n\nproto.getBestMaskPattern = function() {\n\n\tvar minLostPoint = 0;\n\tvar pattern = 0;\n\n\tfor (var i = 0; i < 8; i++) {\n\t\t\n\t\tthis.makeImpl(true, i);\n\n\t\tvar lostPoint = util.getLostPoint(this);\n\n\t\tif (i == 0 || minLostPoint >  lostPoint) {\n\t\t\tminLostPoint = lostPoint;\n\t\t\tpattern = i;\n\t\t}\n\t}\n\n\treturn pattern;\n};\n\nproto.createMovieClip = function(target_mc, instance_name, depth) {\n\n\tvar qr_mc = target_mc.createEmptyMovieClip(instance_name, depth);\n\tvar cs = 1;\n\n\tthis.make();\n\n\tfor (var row = 0; row < this.modules.length; row++) {\n\t\t\n\t\tvar y = row * cs;\n\t\t\n\t\tfor (var col = 0; col < this.modules[row].length; col++) {\n\n\t\t\tvar x = col * cs;\n\t\t\tvar dark = this.modules[row][col];\n\t\t\n\t\t\tif (dark) {\n\t\t\t\tqr_mc.beginFill(0, 100);\n\t\t\t\tqr_mc.moveTo(x, y);\n\t\t\t\tqr_mc.lineTo(x + cs, y);\n\t\t\t\tqr_mc.lineTo(x + cs, y + cs);\n\t\t\t\tqr_mc.lineTo(x, y + cs);\n\t\t\t\tqr_mc.endFill();\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn qr_mc;\n};\n\nproto.setupTimingPattern = function() {\n\t\n\tfor (var r = 8; r < this.moduleCount - 8; r++) {\n\t\tif (this.modules[r][6] != null) {\n\t\t\tcontinue;\n\t\t}\n\t\tthis.modules[r][6] = (r % 2 == 0);\n\t}\n\n\tfor (var c = 8; c < this.moduleCount - 8; c++) {\n\t\tif (this.modules[6][c] != null) {\n\t\t\tcontinue;\n\t\t}\n\t\tthis.modules[6][c] = (c % 2 == 0);\n\t}\n};\n\nproto.setupPositionAdjustPattern = function() {\n\n\tvar pos = util.getPatternPosition(this.typeNumber);\n\t\n\tfor (var i = 0; i < pos.length; i++) {\n\t\n\t\tfor (var j = 0; j < pos.length; j++) {\n\t\t\n\t\t\tvar row = pos[i];\n\t\t\tvar col = pos[j];\n\t\t\t\n\t\t\tif (this.modules[row][col] != null) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tfor (var r = -2; r <= 2; r++) {\n\t\t\t\n\t\t\t\tfor (var c = -2; c <= 2; c++) {\n\t\t\t\t\n\t\t\t\t\tif (r == -2 || r == 2 || c == -2 || c == 2\n\t\t\t\t\t\t\t|| (r == 0 && c == 0) ) {\n\t\t\t\t\t\tthis.modules[row + r][col + c] = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.modules[row + r][col + c] = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nproto.setupTypeNumber = function(test) {\n\n\tvar bits = util.getBCHTypeNumber(this.typeNumber);\n\n\tfor (var i = 0; i < 18; i++) {\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\tthis.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod;\n\t}\n\n\tfor (var i = 0; i < 18; i++) {\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\tthis.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n\t}\n};\n\nproto.setupTypeInfo = function(test, maskPattern) {\n\n\tvar data = (this.errorCorrectLevel << 3) | maskPattern;\n\tvar bits = util.getBCHTypeInfo(data);\n\n\t// vertical\t\t\n\tfor (var i = 0; i < 15; i++) {\n\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\n\t\tif (i < 6) {\n\t\t\tthis.modules[i][8] = mod;\n\t\t} else if (i < 8) {\n\t\t\tthis.modules[i + 1][8] = mod;\n\t\t} else {\n\t\t\tthis.modules[this.moduleCount - 15 + i][8] = mod;\n\t\t}\n\t}\n\n\t// horizontal\n\tfor (var i = 0; i < 15; i++) {\n\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\t\n\t\tif (i < 8) {\n\t\t\tthis.modules[8][this.moduleCount - i - 1] = mod;\n\t\t} else if (i < 9) {\n\t\t\tthis.modules[8][15 - i - 1 + 1] = mod;\n\t\t} else {\n\t\t\tthis.modules[8][15 - i - 1] = mod;\n\t\t}\n\t}\n\n\t// fixed module\n\tthis.modules[this.moduleCount - 8][8] = (!test);\n};\n\nproto.mapData = function(data, maskPattern) {\n\t\n\tvar inc = -1;\n\tvar row = this.moduleCount - 1;\n\tvar bitIndex = 7;\n\tvar byteIndex = 0;\n\t\n\tfor (var col = this.moduleCount - 1; col > 0; col -= 2) {\n\n\t\tif (col == 6) col--;\n\n\t\twhile (true) {\n\n\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\t\n\t\t\t\tif (this.modules[row][col - c] == null) {\n\t\t\t\t\t\n\t\t\t\t\tvar dark = false;\n\n\t\t\t\t\tif (byteIndex < data.length) {\n\t\t\t\t\t\tdark = ( ( (data[byteIndex] >>> bitIndex) & 1) == 1);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar mask = util.getMask(maskPattern, row, col - c);\n\n\t\t\t\t\tif (mask) {\n\t\t\t\t\t\tdark = !dark;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.modules[row][col - c] = dark;\n\t\t\t\t\tbitIndex--;\n\n\t\t\t\t\tif (bitIndex == -1) {\n\t\t\t\t\t\tbyteIndex++;\n\t\t\t\t\t\tbitIndex = 7;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\trow += inc;\n\n\t\t\tif (row < 0 || this.moduleCount <= row) {\n\t\t\t\trow -= inc;\n\t\t\t\tinc = -inc;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n};\n\nQRCode.PAD0 = 0xEC;\nQRCode.PAD1 = 0x11;\n\nQRCode.createData = function(typeNumber, errorCorrectLevel, dataList) {\n\t\n\tvar rsBlocks = RSBlock.getRSBlocks(typeNumber, errorCorrectLevel);\n\t\n\tvar buffer = new BitBuffer();\n\t\n\tfor (var i = 0; i < dataList.length; i++) {\n\t\tvar data = dataList[i];\n\t\tbuffer.put(data.mode, 4);\n\t\tbuffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber) );\n\t\tdata.write(buffer);\n\t}\n\n\t// calc num max data.\n\tvar totalDataCount = 0;\n\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\ttotalDataCount += rsBlocks[i].dataCount;\n\t}\n\n\tif (buffer.getLengthInBits() > totalDataCount * 8) {\n\t\tthrow new Error(\"code length overflow. (\"\n\t\t\t+ buffer.getLengthInBits()\n\t\t\t+ \">\"\n\t\t\t+  totalDataCount * 8\n\t\t\t+ \")\");\n\t}\n\n\t// end code\n\tif (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n\t\tbuffer.put(0, 4);\n\t}\n\n\t// padding\n\twhile (buffer.getLengthInBits() % 8 != 0) {\n\t\tbuffer.putBit(false);\n\t}\n\n\t// padding\n\twhile (true) {\n\t\t\n\t\tif (buffer.getLengthInBits() >= totalDataCount * 8) {\n\t\t\tbreak;\n\t\t}\n\t\tbuffer.put(QRCode.PAD0, 8);\n\t\t\n\t\tif (buffer.getLengthInBits() >= totalDataCount * 8) {\n\t\t\tbreak;\n\t\t}\n\t\tbuffer.put(QRCode.PAD1, 8);\n\t}\n\n\treturn QRCode.createBytes(buffer, rsBlocks);\n};\n\nQRCode.createBytes = function(buffer, rsBlocks) {\n\n\tvar offset = 0;\n\t\n\tvar maxDcCount = 0;\n\tvar maxEcCount = 0;\n\t\n\tvar dcdata = new Array(rsBlocks.length);\n\tvar ecdata = new Array(rsBlocks.length);\n\t\n\tfor (var r = 0; r < rsBlocks.length; r++) {\n\n\t\tvar dcCount = rsBlocks[r].dataCount;\n\t\tvar ecCount = rsBlocks[r].totalCount - dcCount;\n\n\t\tmaxDcCount = Math.max(maxDcCount, dcCount);\n\t\tmaxEcCount = Math.max(maxEcCount, ecCount);\n\t\t\n\t\tdcdata[r] = new Array(dcCount);\n\t\t\n\t\tfor (var i = 0; i < dcdata[r].length; i++) {\n\t\t\tdcdata[r][i] = 0xff & buffer.buffer[i + offset];\n\t\t}\n\t\toffset += dcCount;\n\t\t\n\t\tvar rsPoly = util.getErrorCorrectPolynomial(ecCount);\n\t\tvar rawPoly = new Polynomial(dcdata[r], rsPoly.getLength() - 1);\n\n\t\tvar modPoly = rawPoly.mod(rsPoly);\n\t\tecdata[r] = new Array(rsPoly.getLength() - 1);\n\t\tfor (var i = 0; i < ecdata[r].length; i++) {\n            var modIndex = i + modPoly.getLength() - ecdata[r].length;\n\t\t\tecdata[r][i] = (modIndex >= 0)? modPoly.get(modIndex) : 0;\n\t\t}\n\n\t}\n\t\n\tvar totalCodeCount = 0;\n\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\ttotalCodeCount += rsBlocks[i].totalCount;\n\t}\n\n\tvar data = new Array(totalCodeCount);\n\tvar index = 0;\n\n\tfor (var i = 0; i < maxDcCount; i++) {\n\t\tfor (var r = 0; r < rsBlocks.length; r++) {\n\t\t\tif (i < dcdata[r].length) {\n\t\t\t\tdata[index++] = dcdata[r][i];\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var i = 0; i < maxEcCount; i++) {\n\t\tfor (var r = 0; r < rsBlocks.length; r++) {\n\t\t\tif (i < ecdata[r].length) {\n\t\t\t\tdata[index++] = ecdata[r][i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn data;\n};\n\nmodule.exports = QRCode;\n\n","var mode = require('./mode');\n\nfunction QR8bitByte(data) {\n\tthis.mode = mode.MODE_8BIT_BYTE;\n\tthis.data = data;\n}\n\nQR8bitByte.prototype = {\n\n\tgetLength : function(buffer) {\n\t\treturn this.data.length;\n\t},\n\t\n\twrite : function(buffer) {\n\t\tfor (var i = 0; i < this.data.length; i++) {\n\t\t\t// not JIS ...\n\t\t\tbuffer.put(this.data.charCodeAt(i), 8);\n\t\t}\n\t}\n};\n\nmodule.exports = QR8bitByte;\n\n","// ErrorCorrectLevel\nvar ECL = require('./ErrorCorrectLevel');\n\nfunction QRRSBlock(totalCount, dataCount) {\n\tthis.totalCount = totalCount;\n\tthis.dataCount  = dataCount;\n}\n\nQRRSBlock.RS_BLOCK_TABLE = [\n\n\t// L\n\t// M\n\t// Q\n\t// H\n\n\t// 1\n\t[1, 26, 19],\n\t[1, 26, 16],\n\t[1, 26, 13],\n\t[1, 26, 9],\n\t\n\t// 2\n\t[1, 44, 34],\n\t[1, 44, 28],\n\t[1, 44, 22],\n\t[1, 44, 16],\n\n\t// 3\n\t[1, 70, 55],\n\t[1, 70, 44],\n\t[2, 35, 17],\n\t[2, 35, 13],\n\n\t// 4\t\t\n\t[1, 100, 80],\n\t[2, 50, 32],\n\t[2, 50, 24],\n\t[4, 25, 9],\n\t\n\t// 5\n\t[1, 134, 108],\n\t[2, 67, 43],\n\t[2, 33, 15, 2, 34, 16],\n\t[2, 33, 11, 2, 34, 12],\n\t\n\t// 6\n\t[2, 86, 68],\n\t[4, 43, 27],\n\t[4, 43, 19],\n\t[4, 43, 15],\n\t\n\t// 7\t\t\n\t[2, 98, 78],\n\t[4, 49, 31],\n\t[2, 32, 14, 4, 33, 15],\n\t[4, 39, 13, 1, 40, 14],\n\t\n\t// 8\n\t[2, 121, 97],\n\t[2, 60, 38, 2, 61, 39],\n\t[4, 40, 18, 2, 41, 19],\n\t[4, 40, 14, 2, 41, 15],\n\t\n\t// 9\n\t[2, 146, 116],\n\t[3, 58, 36, 2, 59, 37],\n\t[4, 36, 16, 4, 37, 17],\n\t[4, 36, 12, 4, 37, 13],\n\t\n\t// 10\t\t\n\t[2, 86, 68, 2, 87, 69],\n\t[4, 69, 43, 1, 70, 44],\n\t[6, 43, 19, 2, 44, 20],\n\t[6, 43, 15, 2, 44, 16],\n\n\t// 11\n\t[4, 101, 81],\n\t[1, 80, 50, 4, 81, 51],\n\t[4, 50, 22, 4, 51, 23],\n\t[3, 36, 12, 8, 37, 13],\n\n\t// 12\n\t[2, 116, 92, 2, 117, 93],\n\t[6, 58, 36, 2, 59, 37],\n\t[4, 46, 20, 6, 47, 21],\n\t[7, 42, 14, 4, 43, 15],\n\n\t// 13\n\t[4, 133, 107],\n\t[8, 59, 37, 1, 60, 38],\n\t[8, 44, 20, 4, 45, 21],\n\t[12, 33, 11, 4, 34, 12],\n\n\t// 14\n\t[3, 145, 115, 1, 146, 116],\n\t[4, 64, 40, 5, 65, 41],\n\t[11, 36, 16, 5, 37, 17],\n\t[11, 36, 12, 5, 37, 13],\n\n\t// 15\n\t[5, 109, 87, 1, 110, 88],\n\t[5, 65, 41, 5, 66, 42],\n\t[5, 54, 24, 7, 55, 25],\n\t[11, 36, 12],\n\n\t// 16\n\t[5, 122, 98, 1, 123, 99],\n\t[7, 73, 45, 3, 74, 46],\n\t[15, 43, 19, 2, 44, 20],\n\t[3, 45, 15, 13, 46, 16],\n\n\t// 17\n\t[1, 135, 107, 5, 136, 108],\n\t[10, 74, 46, 1, 75, 47],\n\t[1, 50, 22, 15, 51, 23],\n\t[2, 42, 14, 17, 43, 15],\n\n\t// 18\n\t[5, 150, 120, 1, 151, 121],\n\t[9, 69, 43, 4, 70, 44],\n\t[17, 50, 22, 1, 51, 23],\n\t[2, 42, 14, 19, 43, 15],\n\n\t// 19\n\t[3, 141, 113, 4, 142, 114],\n\t[3, 70, 44, 11, 71, 45],\n\t[17, 47, 21, 4, 48, 22],\n\t[9, 39, 13, 16, 40, 14],\n\n\t// 20\n\t[3, 135, 107, 5, 136, 108],\n\t[3, 67, 41, 13, 68, 42],\n\t[15, 54, 24, 5, 55, 25],\n\t[15, 43, 15, 10, 44, 16],\n\n\t// 21\n\t[4, 144, 116, 4, 145, 117],\n\t[17, 68, 42],\n\t[17, 50, 22, 6, 51, 23],\n\t[19, 46, 16, 6, 47, 17],\n\n\t// 22\n\t[2, 139, 111, 7, 140, 112],\n\t[17, 74, 46],\n\t[7, 54, 24, 16, 55, 25],\n\t[34, 37, 13],\n\n\t// 23\n\t[4, 151, 121, 5, 152, 122],\n\t[4, 75, 47, 14, 76, 48],\n\t[11, 54, 24, 14, 55, 25],\n\t[16, 45, 15, 14, 46, 16],\n\n\t// 24\n\t[6, 147, 117, 4, 148, 118],\n\t[6, 73, 45, 14, 74, 46],\n\t[11, 54, 24, 16, 55, 25],\n\t[30, 46, 16, 2, 47, 17],\n\n\t// 25\n\t[8, 132, 106, 4, 133, 107],\n\t[8, 75, 47, 13, 76, 48],\n\t[7, 54, 24, 22, 55, 25],\n\t[22, 45, 15, 13, 46, 16],\n\n\t// 26\n\t[10, 142, 114, 2, 143, 115],\n\t[19, 74, 46, 4, 75, 47],\n\t[28, 50, 22, 6, 51, 23],\n\t[33, 46, 16, 4, 47, 17],\n\n\t// 27\n\t[8, 152, 122, 4, 153, 123],\n\t[22, 73, 45, 3, 74, 46],\n\t[8, 53, 23, 26, 54, 24],\n\t[12, 45, 15, 28, 46, 16],\n\n\t// 28\n\t[3, 147, 117, 10, 148, 118],\n\t[3, 73, 45, 23, 74, 46],\n\t[4, 54, 24, 31, 55, 25],\n\t[11, 45, 15, 31, 46, 16],\n\n\t// 29\n\t[7, 146, 116, 7, 147, 117],\n\t[21, 73, 45, 7, 74, 46],\n\t[1, 53, 23, 37, 54, 24],\n\t[19, 45, 15, 26, 46, 16],\n\n\t// 30\n\t[5, 145, 115, 10, 146, 116],\n\t[19, 75, 47, 10, 76, 48],\n\t[15, 54, 24, 25, 55, 25],\n\t[23, 45, 15, 25, 46, 16],\n\n\t// 31\n\t[13, 145, 115, 3, 146, 116],\n\t[2, 74, 46, 29, 75, 47],\n\t[42, 54, 24, 1, 55, 25],\n\t[23, 45, 15, 28, 46, 16],\n\n\t// 32\n\t[17, 145, 115],\n\t[10, 74, 46, 23, 75, 47],\n\t[10, 54, 24, 35, 55, 25],\n\t[19, 45, 15, 35, 46, 16],\n\n\t// 33\n\t[17, 145, 115, 1, 146, 116],\n\t[14, 74, 46, 21, 75, 47],\n\t[29, 54, 24, 19, 55, 25],\n\t[11, 45, 15, 46, 46, 16],\n\n\t// 34\n\t[13, 145, 115, 6, 146, 116],\n\t[14, 74, 46, 23, 75, 47],\n\t[44, 54, 24, 7, 55, 25],\n\t[59, 46, 16, 1, 47, 17],\n\n\t// 35\n\t[12, 151, 121, 7, 152, 122],\n\t[12, 75, 47, 26, 76, 48],\n\t[39, 54, 24, 14, 55, 25],\n\t[22, 45, 15, 41, 46, 16],\n\n\t// 36\n\t[6, 151, 121, 14, 152, 122],\n\t[6, 75, 47, 34, 76, 48],\n\t[46, 54, 24, 10, 55, 25],\n\t[2, 45, 15, 64, 46, 16],\n\n\t// 37\n\t[17, 152, 122, 4, 153, 123],\n\t[29, 74, 46, 14, 75, 47],\n\t[49, 54, 24, 10, 55, 25],\n\t[24, 45, 15, 46, 46, 16],\n\n\t// 38\n\t[4, 152, 122, 18, 153, 123],\n\t[13, 74, 46, 32, 75, 47],\n\t[48, 54, 24, 14, 55, 25],\n\t[42, 45, 15, 32, 46, 16],\n\n\t// 39\n\t[20, 147, 117, 4, 148, 118],\n\t[40, 75, 47, 7, 76, 48],\n\t[43, 54, 24, 22, 55, 25],\n\t[10, 45, 15, 67, 46, 16],\n\n\t// 40\n\t[19, 148, 118, 6, 149, 119],\n\t[18, 75, 47, 31, 76, 48],\n\t[34, 54, 24, 34, 55, 25],\n\t[20, 45, 15, 61, 46, 16]\n];\n\nQRRSBlock.getRSBlocks = function(typeNumber, errorCorrectLevel) {\n\t\n\tvar rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);\n\t\n\tif (rsBlock == undefined) {\n\t\tthrow new Error(\"bad rs block @ typeNumber:\" + typeNumber + \"/errorCorrectLevel:\" + errorCorrectLevel);\n\t}\n\n\tvar length = rsBlock.length / 3;\n\t\n\tvar list = new Array();\n\t\n\tfor (var i = 0; i < length; i++) {\n\n\t\tvar count = rsBlock[i * 3 + 0];\n\t\tvar totalCount = rsBlock[i * 3 + 1];\n\t\tvar dataCount  = rsBlock[i * 3 + 2];\n\n\t\tfor (var j = 0; j < count; j++) {\n\t\t\tlist.push(new QRRSBlock(totalCount, dataCount) );\t\n\t\t}\n\t}\n\t\n\treturn list;\n}\n\nQRRSBlock.getRsBlockTable = function(typeNumber, errorCorrectLevel) {\n\n\tswitch(errorCorrectLevel) {\n\tcase ECL.L :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n\tcase ECL.M :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n\tcase ECL.Q :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n\tcase ECL.H :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n\tdefault :\n\t\treturn undefined;\n\t}\n}\n\nmodule.exports = QRRSBlock;\n","function QRBitBuffer() {\n\tthis.buffer = new Array();\n\tthis.length = 0;\n}\n\nQRBitBuffer.prototype = {\n\n\tget : function(index) {\n\t\tvar bufIndex = Math.floor(index / 8);\n\t\treturn ( (this.buffer[bufIndex] >>> (7 - index % 8) ) & 1) == 1;\n\t},\n\t\n\tput : function(num, length) {\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tthis.putBit( ( (num >>> (length - i - 1) ) & 1) == 1);\n\t\t}\n\t},\n\t\n\tgetLengthInBits : function() {\n\t\treturn this.length;\n\t},\n\t\n\tputBit : function(bit) {\n\t\n\t\tvar bufIndex = Math.floor(this.length / 8);\n\t\tif (this.buffer.length <= bufIndex) {\n\t\t\tthis.buffer.push(0);\n\t\t}\n\t\n\t\tif (bit) {\n\t\t\tthis.buffer[bufIndex] |= (0x80 >>> (this.length % 8) );\n\t\t}\n\t\n\t\tthis.length++;\n\t}\n};\n\nmodule.exports = QRBitBuffer;\n","var Mode = require('./mode');\nvar Polynomial = require('./Polynomial');\nvar math = require('./math');\n\nvar QRMaskPattern = {\n\tPATTERN000 : 0,\n\tPATTERN001 : 1,\n\tPATTERN010 : 2,\n\tPATTERN011 : 3,\n\tPATTERN100 : 4,\n\tPATTERN101 : 5,\n\tPATTERN110 : 6,\n\tPATTERN111 : 7\n};\n\nvar QRUtil = {\n\n    PATTERN_POSITION_TABLE : [\n\t    [],\n\t    [6, 18],\n\t    [6, 22],\n\t    [6, 26],\n\t    [6, 30],\n\t    [6, 34],\n\t    [6, 22, 38],\n\t    [6, 24, 42],\n\t    [6, 26, 46],\n\t    [6, 28, 50],\n\t    [6, 30, 54],\t\t\n\t    [6, 32, 58],\n\t    [6, 34, 62],\n\t    [6, 26, 46, 66],\n\t    [6, 26, 48, 70],\n\t    [6, 26, 50, 74],\n\t    [6, 30, 54, 78],\n\t    [6, 30, 56, 82],\n\t    [6, 30, 58, 86],\n\t    [6, 34, 62, 90],\n\t    [6, 28, 50, 72, 94],\n\t    [6, 26, 50, 74, 98],\n\t    [6, 30, 54, 78, 102],\n\t    [6, 28, 54, 80, 106],\n\t    [6, 32, 58, 84, 110],\n\t    [6, 30, 58, 86, 114],\n\t    [6, 34, 62, 90, 118],\n\t    [6, 26, 50, 74, 98, 122],\n\t    [6, 30, 54, 78, 102, 126],\n\t    [6, 26, 52, 78, 104, 130],\n\t    [6, 30, 56, 82, 108, 134],\n\t    [6, 34, 60, 86, 112, 138],\n\t    [6, 30, 58, 86, 114, 142],\n\t    [6, 34, 62, 90, 118, 146],\n\t    [6, 30, 54, 78, 102, 126, 150],\n\t    [6, 24, 50, 76, 102, 128, 154],\n\t    [6, 28, 54, 80, 106, 132, 158],\n\t    [6, 32, 58, 84, 110, 136, 162],\n\t    [6, 26, 54, 82, 110, 138, 166],\n\t    [6, 30, 58, 86, 114, 142, 170]\n    ],\n\n    G15 : (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0),\n    G18 : (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0),\n    G15_MASK : (1 << 14) | (1 << 12) | (1 << 10)\t| (1 << 4) | (1 << 1),\n\n    getBCHTypeInfo : function(data) {\n\t    var d = data << 10;\n\t    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {\n\t\t    d ^= (QRUtil.G15 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) ) ); \t\n\t    }\n\t    return ( (data << 10) | d) ^ QRUtil.G15_MASK;\n    },\n\n    getBCHTypeNumber : function(data) {\n\t    var d = data << 12;\n\t    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {\n\t\t    d ^= (QRUtil.G18 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) ) ); \t\n\t    }\n\t    return (data << 12) | d;\n    },\n\n    getBCHDigit : function(data) {\n\n\t    var digit = 0;\n\n\t    while (data != 0) {\n\t\t    digit++;\n\t\t    data >>>= 1;\n\t    }\n\n\t    return digit;\n    },\n\n    getPatternPosition : function(typeNumber) {\n\t    return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];\n    },\n\n    getMask : function(maskPattern, i, j) {\n\t    \n\t    switch (maskPattern) {\n\t\t    \n\t    case QRMaskPattern.PATTERN000 : return (i + j) % 2 == 0;\n\t    case QRMaskPattern.PATTERN001 : return i % 2 == 0;\n\t    case QRMaskPattern.PATTERN010 : return j % 3 == 0;\n\t    case QRMaskPattern.PATTERN011 : return (i + j) % 3 == 0;\n\t    case QRMaskPattern.PATTERN100 : return (Math.floor(i / 2) + Math.floor(j / 3) ) % 2 == 0;\n\t    case QRMaskPattern.PATTERN101 : return (i * j) % 2 + (i * j) % 3 == 0;\n\t    case QRMaskPattern.PATTERN110 : return ( (i * j) % 2 + (i * j) % 3) % 2 == 0;\n\t    case QRMaskPattern.PATTERN111 : return ( (i * j) % 3 + (i + j) % 2) % 2 == 0;\n\n\t    default :\n\t\t    throw new Error(\"bad maskPattern:\" + maskPattern);\n\t    }\n    },\n\n    getErrorCorrectPolynomial : function(errorCorrectLength) {\n\n\t    var a = new Polynomial([1], 0);\n\n\t    for (var i = 0; i < errorCorrectLength; i++) {\n\t\t    a = a.multiply(new Polynomial([1, math.gexp(i)], 0) );\n\t    }\n\n\t    return a;\n    },\n\n    getLengthInBits : function(mode, type) {\n\n\t    if (1 <= type && type < 10) {\n\n\t\t    // 1 - 9\n\n\t\t    switch(mode) {\n\t\t    case Mode.MODE_NUMBER \t: return 10;\n\t\t    case Mode.MODE_ALPHA_NUM \t: return 9;\n\t\t    case Mode.MODE_8BIT_BYTE\t: return 8;\n\t\t    case Mode.MODE_KANJI  \t: return 8;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else if (type < 27) {\n\n\t\t    // 10 - 26\n\n\t\t    switch(mode) {\n\t\t    case Mode.MODE_NUMBER \t: return 12;\n\t\t    case Mode.MODE_ALPHA_NUM \t: return 11;\n\t\t    case Mode.MODE_8BIT_BYTE\t: return 16;\n\t\t    case Mode.MODE_KANJI  \t: return 10;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else if (type < 41) {\n\n\t\t    // 27 - 40\n\n\t\t    switch(mode) {\n\t\t    case Mode.MODE_NUMBER \t: return 14;\n\t\t    case Mode.MODE_ALPHA_NUM\t: return 13;\n\t\t    case Mode.MODE_8BIT_BYTE\t: return 16;\n\t\t    case Mode.MODE_KANJI  \t: return 12;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else {\n\t\t    throw new Error(\"type:\" + type);\n\t    }\n    },\n\n    getLostPoint : function(qrCode) {\n\t    \n\t    var moduleCount = qrCode.getModuleCount();\n\t    \n\t    var lostPoint = 0;\n\t    \n\t    // LEVEL1\n\t    \n\t    for (var row = 0; row < moduleCount; row++) {\n\n\t\t    for (var col = 0; col < moduleCount; col++) {\n\n\t\t\t    var sameCount = 0;\n\t\t\t    var dark = qrCode.isDark(row, col);\n\n\t\t\t\tfor (var r = -1; r <= 1; r++) {\n\n\t\t\t\t    if (row + r < 0 || moduleCount <= row + r) {\n\t\t\t\t\t    continue;\n\t\t\t\t    }\n\n\t\t\t\t    for (var c = -1; c <= 1; c++) {\n\n\t\t\t\t\t    if (col + c < 0 || moduleCount <= col + c) {\n\t\t\t\t\t\t    continue;\n\t\t\t\t\t    }\n\n\t\t\t\t\t    if (r == 0 && c == 0) {\n\t\t\t\t\t\t    continue;\n\t\t\t\t\t    }\n\n\t\t\t\t\t    if (dark == qrCode.isDark(row + r, col + c) ) {\n\t\t\t\t\t\t    sameCount++;\n\t\t\t\t\t    }\n\t\t\t\t    }\n\t\t\t    }\n\n\t\t\t    if (sameCount > 5) {\n\t\t\t\t    lostPoint += (3 + sameCount - 5);\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL2\n\n\t    for (var row = 0; row < moduleCount - 1; row++) {\n\t\t    for (var col = 0; col < moduleCount - 1; col++) {\n\t\t\t    var count = 0;\n\t\t\t    if (qrCode.isDark(row,     col    ) ) count++;\n\t\t\t    if (qrCode.isDark(row + 1, col    ) ) count++;\n\t\t\t    if (qrCode.isDark(row,     col + 1) ) count++;\n\t\t\t    if (qrCode.isDark(row + 1, col + 1) ) count++;\n\t\t\t    if (count == 0 || count == 4) {\n\t\t\t\t    lostPoint += 3;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL3\n\n\t    for (var row = 0; row < moduleCount; row++) {\n\t\t    for (var col = 0; col < moduleCount - 6; col++) {\n\t\t\t    if (qrCode.isDark(row, col)\n\t\t\t\t\t    && !qrCode.isDark(row, col + 1)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 2)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 3)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 4)\n\t\t\t\t\t    && !qrCode.isDark(row, col + 5)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 6) ) {\n\t\t\t\t    lostPoint += 40;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    for (var col = 0; col < moduleCount; col++) {\n\t\t    for (var row = 0; row < moduleCount - 6; row++) {\n\t\t\t    if (qrCode.isDark(row, col)\n\t\t\t\t\t    && !qrCode.isDark(row + 1, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 2, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 3, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 4, col)\n\t\t\t\t\t    && !qrCode.isDark(row + 5, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 6, col) ) {\n\t\t\t\t    lostPoint += 40;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL4\n\t    \n\t    var darkCount = 0;\n\n\t    for (var col = 0; col < moduleCount; col++) {\n\t\t    for (var row = 0; row < moduleCount; row++) {\n\t\t\t    if (qrCode.isDark(row, col) ) {\n\t\t\t\t    darkCount++;\n\t\t\t    }\n\t\t    }\n\t    }\n\t    \n\t    var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n\t    lostPoint += ratio * 10;\n\n\t    return lostPoint;\t\t\n    }\n};\n\nmodule.exports = QRUtil;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"SystemLinkQr_wrapper__2CJMn\",\"qr\":\"SystemLinkQr_qr__ASBOr\",\"plain\":\"SystemLinkQr_plain__1yRC6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"KioskPage_wrapper__2lwpn\",\"top\":\"KioskPage_top__1rY1B\",\"title\":\"KioskPage_title__uTtKZ\",\"linkQr\":\"KioskPage_linkQr__6q4Tf\",\"orgName\":\"KioskPage_orgName__26BvU\",\"subTitle\":\"KioskPage_subTitle__1tHUZ\",\"alert\":\"KioskPage_alert__1zypA\"};","import React, { useEffect, useState } from 'react';\n\nimport dayjs from 'dayjs';\nimport styles from './DateClock.module.css';\n\nconst UPDATE_INTERVAL_MS = 5000;\n\nexport function DateClock() {\n\n    const [dateTime, setDateTime] = useState(() => dayjs());\n\n    useEffect(() => {\n        const int = setInterval(() => {\n            setDateTime(dayjs());\n        }, UPDATE_INTERVAL_MS);\n        return () => clearInterval(int);\n    }, []);\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.time}>\n                {dateTime.format('HH')}<span className={styles.clockDots}>:</span>{dateTime.format('mm')} Uhr\n            </div>\n            <div className={styles.date}>\n                {dateTime.format('dddd[\\xa0]LL')}\n            </div>\n        </div>\n    );\n}","import React, { useContext } from 'react';\n\nimport QrCode from 'qrcode.react';\nimport { appContext } from '../AppContext';\nimport styles from './SystemLinkQr.module.css';\n\nexport function SystemLinkQr({\n    bgColor,\n}) {\n\n    const { config: { url } } = useContext(appContext);\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.qr}>\n                <QrCode\n                    value={url}\n                    size={150}\n                    bgColor={bgColor}\n                />\n            </div>\n            <div className={styles.plain}>\n                {url.replace(/(http|https):\\/\\//, '')}\n            </div>\n        </div>\n    );\n}","import React, { useContext, useEffect } from 'react';\nimport { UPDATE_INTERVALS_SEC, setDefaultUpdateIntervals } from '../updateIntervals';\n\nimport { Alert } from 'antd';\nimport { DateClock } from './DateClock';\nimport { ReservationCalendar } from '../calendar/ReservationCalendar';\nimport { SystemLinkQr } from './SystemLinkQr';\nimport { appContext } from '../AppContext';\nimport { parseQuery } from '../helper';\nimport styles from './KioskPage.module.css';\nimport { useLocation } from 'react-router-dom';\nimport { useTime } from '../calendar/useTime';\n\nexport function KioskPage() {\n\n    const { config: { announcement, orgName } } = useContext(appContext);\n\n    const hour = useTime('hour');\n    const { search } = useLocation();\n\n    useEffect(() => {\n        const params = parseQuery(search);\n        let updateInterval = 60; // 1 minute, default value\n        try {\n            if (params['update'])\n                updateInterval = parseInt(params['update']);\n        } catch (e) { console.error(e); }\n\n        UPDATE_INTERVALS_SEC.RESERVATIONS = updateInterval;\n        UPDATE_INTERVALS_SEC.BASE_DATA = updateInterval * 10;\n        return setDefaultUpdateIntervals;\n    }, [search]);\n\n    return (\n        <div className={styles.wrapper}>\n\n            <div className={styles.top}>\n\n                <div className={styles.title}>\n                    <div className={styles.orgName}>\n                        {orgName}\n                    </div>\n                    <div className={styles.subTitle}>\n                        Reservierungssystem\n                    </div>\n                </div>\n                \n                <DateClock />\n\n                <div className={styles.linkQr}>\n                    <SystemLinkQr \n                        bgColor=\"#f0f2f5\"\n                    />\n                </div>\n\n            </div>\n\n            {announcement &&\n                <div className={styles.alert}>\n                    <Alert\n                        message={announcement}\n                        type=\"info\"\n                        showIcon\n                    />\n                </div>\n            }\n\n            <ReservationCalendar\n                highlightHour={hour.hour()}\n                kiosk\n                selectedDate={hour}\n                today={hour}\n            />\n        </div>\n    );\n}"],"sourceRoot":""}