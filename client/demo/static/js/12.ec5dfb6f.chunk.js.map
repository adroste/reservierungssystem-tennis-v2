{"version":3,"sources":["user/LoginForm.js","user/LoginForm.module.css","calendar/ReservationDetails.js","calendar/GroupDatesForm.module.css","calendar/ReservationDetails.module.css","calendar/ReservationModalInner.module.css","user/VerifyMailModal.module.css","calendar/useTime.js","../node_modules/antd/es/radio/context.js","../node_modules/antd/es/radio/radio.js","../node_modules/antd/es/radio/group.js","../node_modules/antd/es/radio/radioButton.js","../node_modules/antd/es/radio/index.js","user/LoginModal.js","calendar/GroupDatesForm.js","calendar/ReservationModalInner.js","user/VerifyMailModal.js","calendar/ReservationModal.js","../node_modules/antd/es/alert/ErrorBoundary.js","../node_modules/antd/es/alert/index.js","../node_modules/antd/es/_util/getDataOrAriaProps.js","../node_modules/@ant-design/icons-svg/es/asn/MailOutlined.js","../node_modules/@ant-design/icons/es/icons/MailOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/LockOutlined.js","../node_modules/@ant-design/icons/es/icons/LockOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/PlusOutlined.js","../node_modules/@ant-design/icons/es/icons/PlusOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/MinusOutlined.js","../node_modules/@ant-design/icons/es/icons/MinusOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/ClockCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/ClockCircleOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/EnvironmentOutlined.js","../node_modules/@ant-design/icons/es/icons/EnvironmentOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/RedoOutlined.js","../node_modules/@ant-design/icons/es/icons/RedoOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/DeleteOutlined.js","../node_modules/@ant-design/icons/es/icons/DeleteOutlined.js","calendar/ReservationDetailsCard.module.css","calendar/MyReservationsPage.module.css","../node_modules/@ant-design/icons-svg/es/asn/EditOutlined.js","../node_modules/@ant-design/icons/es/icons/EditOutlined.js","calendar/ReservationDetailsCard.js","calendar/MyReservationsPage.js"],"names":["LoginForm","useContext","authContext","autoLoginState","setUser","setRememberLogin","useApi","postLoginApi","loginState","login","loading","valStatus","error","undefined","onFinish","useCallback","mail","password","rememberLogin","type","layout","Item","message","name","rules","required","validateStatus","autoComplete","prefix","style","color","placeholder","disabled","Password","valuePropName","noStyle","className","styles","forgotLink","to","htmlType","loginButton","text","registerItem","module","exports","formatVal","ReservationDetails","courtName","date","groupDates","repeat","showAllDates","showDateRange","showFollowUpDate","dateStr","format","length","pastGroupEventsCount","useMemo","today","dayjs","reduce","count","isBefore","futureGroupEvents","filter","followUpReservation","sorted","sort","a","b","find","gd","isAfter","wrapper","item","add","allDates","dateList","map","d","useTime","unit","useState","time","setTime","useEffect","interval","setInterval","newTime","isSame","clearInterval","RadioGroupContext","React","RadioGroupContextProvider","Provider","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","propertyIsEnumerable","InternalRadio","props","ref","_classNames","context","_React$useContext","ConfigContext","getPrefixCls","direction","innerRef","mergedRef","composeRef","devWarning","customizePrefixCls","prefixCls","children","restProps","radioProps","_extends","onChange","checked","value","wrapperClassString","classNames","concat","_defineProperty","onMouseEnter","onMouseLeave","RcCheckbox","Radio","displayName","defaultProps","RadioGroup","size","SizeContext","_useMergedState","useMergedState","defaultValue","_useMergedState2","_slicedToArray","setValue","ev","lastValue","val","target","_props$className","options","optionType","buttonStyle","customizeSize","id","groupPrefixCls","childrenToRender","optionsPrefixCls","option","key","label","mergedSize","classString","renderGroup","RadioButton","radioGroupContext","Button","Group","LoginModal","onClose","title","visible","width","centered","onCancel","onOk","footer","cn","bind","defaultRepeatValuesMap","1","7","14","GroupDatesForm","courtId","currentGroupDates","defaultAddCount","onGroupDatesChange","repeatValuesMap","unavailableDates","user","appContext","courts","reservationDaysInAdvance","config","repeatValue","setRepeatValue","visibleDates","setVisibleDates","selectedDates","_setSelectedDates","courtDisabledFromTil","c","disabledFromTil","checkIfTooFarAhead","checkIfNotAvailable","isBetween","some","dates","findIndex","reserved","past","notAvailable","tooFarAhead","setSelectedDates","_selectedDates","valueOf","Number","MAX_SAFE_INTEGER","diff","Math","min","abs","toString","allowedValues","keys","includes","first","last","push","addDate","removeDate","slice","handleRepeatValueChange","newRepeatValue","newDates","handleCheckedChange","index","newSelection","repeatTypes","unchecked","danger","admin","extra","buttons","icon","PlusOutlined","onClick","MinusOutlined","ReservationModalInner","reservation","setReservations","templates","reservationPrice","reservationTos","changeReason","setChangeReason","tosAccepted","setTosAccepted","newCustomName","setNewCustomName","newGroupDates","setNewGroupDates","editName","setEditName","prevErrorRef","useRef","groupReservations","setGroupReservations","getReservationsApi","state","getGroupReservations","postReservationGroupApi","postState","postReservationGroup","deleteReservationGroupApi","deleteState","deleteReservationGroup","patchReservationGroupApi","patchState","patchReservationGroup","adminEdit","userId","canEdit","r","ngd","cancelDates","changeCustomName","groupId","query","handleGroupDatesChange","handleAcceptTos","handleEditName","handleCancelEditName","handleNewCustomNameChange","handleChangeChangeReason","handlePostReservation","customName","success","handleChangeReservation","Modal","confirm","ExclamationCircleOutlined","content","heading","okText","okType","cancelText","path","reason","handleCancelReservation","doDelete","reqParams","cb","current","post","patch","uaDates","max","ErrorResult","StatusText","body","nameInput","dangerouslySetInnerHTML","__html","TextArea","autoSize","changeReasonHint","VerifyMailModal","history","useHistory","handleChangeMailClick","handleResendMail","status","ReservationModal","verified","ErrorBoundary","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","this","apply","arguments","info","componentStack","_createClass","setState","_this$props","description","_this$state","errorMessage","errorDescription","Alert","iconMapFilled","CheckCircleFilled","InfoCircleFilled","CloseCircleFilled","warning","ExclamationCircleFilled","iconMapOutlined","CheckCircleOutlined","InfoCircleOutlined","CloseCircleOutlined","_a","_classNames2","banner","_a$className","afterClose","showIcon","closable","closeText","_React$useState","_React$useState2","closed","setClosed","handleClose","isClosable","getType","isShowIcon","alertCls","dataOrAriaProps","prev","substr","getDataOrAriaProps","CSSMotion","motionName","motionAppear","motionEnter","onLeaveStart","node","maxHeight","offsetHeight","onLeaveEnd","_ref","motionClassName","motionStyle","role","iconType","replaceElement","renderIconNode","tabIndex","CloseOutlined","MailOutlined","AntdIcon","assign","MailOutlinedSvg","LockOutlined","LockOutlinedSvg","PlusOutlinedSvg","MinusOutlinedSvg","ClockCircleOutlined","ClockCircleOutlinedSvg","EnvironmentOutlined","EnvironmentOutlinedSvg","RedoOutlined","RedoOutlinedSvg","DeleteOutlined","DeleteOutlinedSvg","EditOutlined","EditOutlinedSvg","ReservationDetailsCard","onEditClick","handleEditClick","card","editButton","autoHideName","getGroupDates","myReservations","MyReservationsPage","selectedReservation","setSelectedReservation","autoFetch","start","startOf","toISOString","reservations","sortedReservations","handleReservationEditFinish","Ball","spin","large","empty"],"mappings":"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","file":"static/js/12.ec5dfb6f.chunk.js","sourcesContent":["import { Alert, Button, Checkbox, Form, Input } from 'antd';\nimport { LockOutlined, MailOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext } from 'react';\n\nimport { Link } from 'react-router-dom';\nimport { StatusText } from '../admin/StatusText';\nimport { authContext } from '../AuthContext';\nimport { postLoginApi } from '../api';\nimport styles from './LoginForm.module.css';\nimport { useApi } from '../useApi';\n\nexport function LoginForm() {\n\n    const { autoLoginState, setUser, setRememberLogin } = useContext(authContext);\n    const [loginState, login] = useApi(postLoginApi, setUser);\n\n    const loading = loginState.loading || autoLoginState.loading;\n    const valStatus = loginState.error ? 'error' : undefined;\n\n    const onFinish = useCallback(({ mail, password, rememberLogin }) => {\n        setRememberLogin(rememberLogin);\n        login(null, {\n            type: 'plain',\n            mail,\n            password,\n        });\n    }, [login, setRememberLogin]);\n\n    return (\n        <Form\n            layout=\"vertical\"\n            onFinish={onFinish}\n        >\n            {loginState.error &&\n                <Form.Item>\n                    <Alert\n                        type=\"error\"\n                        message=\"Login fehlgeschlagen.\"\n                    />\n                </Form.Item>\n            }\n\n            <Form.Item\n                name=\"mail\"\n                rules={[{ required: true, message: 'E-Mail Adresse ist erforderlich' }]}\n                validateStatus={valStatus}\n            >\n                <Input\n                    autoComplete=\"email\"\n                    prefix={<MailOutlined style={{ color: '#aaa' }} />}\n                    placeholder=\"E-Mail\"\n                    disabled={loading}\n                />\n            </Form.Item>\n\n            <Form.Item\n                name=\"password\"\n                rules={[{ required: true, message: 'Passwort ist erforderlich' }]}\n                validateStatus={valStatus}\n            >\n                <Input.Password\n                    autoComplete=\"current-password\"\n                    prefix={<LockOutlined style={{ color: '#aaa' }} />}\n                    placeholder=\"Passwort\"\n                    disabled={loading}\n                />\n            </Form.Item>\n\n            <Form.Item>\n                <Form.Item name=\"rememberLogin\" valuePropName=\"checked\" noStyle>\n                    <Checkbox\n                        disabled={loading}\n                    >\n                        Angemeldet bleiben\n                    </Checkbox>\n                </Form.Item>\n\n                {/* TODO */}\n                <Link className={styles.forgotLink} to=\"/reset-password\">\n                    Password vergessen\n                </Link>\n            </Form.Item>\n\n            <Form.Item>\n                <Button\n                    type=\"primary\"\n                    htmlType=\"submit\"\n                    className={styles.loginButton}\n                    disabled={loading}\n                >\n                    <StatusText\n                        loading={loading}\n                        text={loading ? 'Anmeldung...' : 'Anmelden'}\n                    />\n                </Button>\n            </Form.Item>\n\n\n            <Form.Item className={styles.registerItem}>\n                <span>oder </span>\n                <Link to=\"/register\">Kostenlos Registrieren</Link>\n            </Form.Item>\n        </Form>\n    );\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginButton\":\"LoginForm_loginButton__ECun6\",\"forgotLink\":\"LoginForm_forgotLink__3TG3V\",\"registerItem\":\"LoginForm_registerItem__32Qy-\"};","import { CalendarOutlined, ClockCircleOutlined, EnvironmentOutlined, RedoOutlined, UserOutlined } from '@ant-design/icons';\nimport React, { useMemo } from 'react';\n\nimport dayjs from 'dayjs';\nimport styles from './ReservationDetails.module.css';\n\nconst formatVal = 'dd[\\xa0]L';\n\nexport function ReservationDetails({\n    courtName,\n    date,\n    groupDates,\n    name,\n    repeat,\n    showAllDates = false,\n    showDateRange = false,\n    showFollowUpDate = false,\n}) {\n    let dateStr = date.format(formatVal);\n    if (showDateRange && groupDates) {\n        dateStr = groupDates.length ? groupDates[0].format(formatVal) : '-';\n        if (groupDates.length > 1)\n            dateStr += ` bis ${groupDates[groupDates.length - 1].format(formatVal)}`;\n    }\n\n    const pastGroupEventsCount = useMemo(() => {\n        const today = dayjs();\n        return groupDates?.reduce((count, date) => {\n            if (date.isBefore(today, 'day'))\n                return count + 1;\n            return count;\n        }, 0);\n    }, [groupDates]);\n\n    const futureGroupEvents = useMemo(() => {\n        const today = dayjs();\n        return groupDates?.filter(date => !date.isBefore(today, 'day'));\n    }, [groupDates]);\n\n    const followUpReservation = useMemo(() => {\n        const sorted = [...groupDates];\n        sorted.sort((a, b) => a - b);\n        return sorted?.find(gd => gd.isAfter(date, 'day'));\n    }, [groupDates, date]);\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.item}>\n                <div><CalendarOutlined /></div>\n                <div>{dateStr}</div>\n            </div>\n\n            <div className={styles.item}>\n                <div><ClockCircleOutlined /></div>\n                <div>{`${date.format('H')} bis ${date.add(1, 'h').format('H')} Uhr`}</div>\n            </div>\n\n            <div className={styles.item}>\n                <div><EnvironmentOutlined /></div>\n                <div>{courtName}</div>\n            </div>\n\n            {name &&\n                <div className={styles.item}>\n                    <div><UserOutlined /></div>\n                    <div>{name}</div>\n                </div>\n            }\n            \n            {repeat &&\n                <div className={styles.item}>\n                    <div><RedoOutlined /></div>\n                    <div>{repeat}</div>\n                </div>\n            }\n\n            {showAllDates && groupDates?.length &&\n                <div className={styles.item}>\n                    <div><RedoOutlined /></div>\n                    <div className={styles.allDates}>\n                        <span>Wiederkehrender Termin</span>\n                        <div className={styles.dateList}>\n                            {pastGroupEventsCount === 1 && <span>Ein vergangener Termin</span>}\n                            {pastGroupEventsCount > 1 && <span>{pastGroupEventsCount} vergangene Termine</span>}\n                            {futureGroupEvents?.map(d => <span key={d}>{d.format(formatVal)}</span>)}\n                        </div>\n                    </div>\n                </div>\n            }\n\n            {showFollowUpDate && followUpReservation &&\n                <div className={styles.item}>\n                    <div><RedoOutlined /></div>\n                    <div className={styles.allDates}>\n                        <span>Folgetermin</span>\n                        <div className={styles.dateList}>\n                            <span>{followUpReservation.format(formatVal)}</span>\n                        </div>\n                    </div>\n                </div>\n            }\n        </ div>\n    );\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"GroupDatesForm_wrapper__1y-OM\",\"repeatTypes\":\"GroupDatesForm_repeatTypes__1Gm6y\",\"dates\":\"GroupDatesForm_dates__3x0zy\",\"extra\":\"GroupDatesForm_extra__1E_ct\",\"danger\":\"GroupDatesForm_danger__3ndEw\",\"date\":\"GroupDatesForm_date__2ixOV\",\"unchecked\":\"GroupDatesForm_unchecked__uXvUe\",\"buttons\":\"GroupDatesForm_buttons__2ffBH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ReservationDetails_wrapper__3oaB0\",\"item\":\"ReservationDetails_item__3c9da\",\"allDates\":\"ReservationDetails_allDates__19arH\",\"dateList\":\"ReservationDetails_dateList__2q866\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ReservationModalInner_wrapper__3v8b-\",\"nameInput\":\"ReservationModalInner_nameInput__1X-ne\",\"footer\":\"ReservationModalInner_footer__3lctT\",\"heading\":\"ReservationModalInner_heading__-GhuQ\",\"changeReasonHint\":\"ReservationModalInner_changeReasonHint__2rx3T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttons\":\"VerifyMailModal_buttons__2ZzQz\"};","import { useEffect, useState } from 'react';\n\nimport dayjs from 'dayjs';\n\nconst checkIntervalMs = 60000; // minute\n\nexport function useTime(unit) {\n    const [time, setTime] = useState(() => dayjs());\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            const newTime = dayjs();\n            if (!time.isSame(newTime, unit))\n                setTime(newTime);\n        }, checkIntervalMs);\n\n        return () => clearInterval(interval);\n    }, [time, unit]);\n\n    return time;\n}","import * as React from 'react';\nvar RadioGroupContext = /*#__PURE__*/React.createContext(null);\nexport var RadioGroupContextProvider = RadioGroupContext.Provider;\nexport default RadioGroupContext;","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcCheckbox from 'rc-checkbox';\nimport classNames from 'classnames';\nimport { ConfigContext } from '../config-provider';\nimport RadioGroupContext from './context';\nimport { composeRef } from '../_util/ref';\nimport devWarning from '../_util/devWarning';\n\nvar InternalRadio = function InternalRadio(props, ref) {\n  var _classNames;\n\n  var context = React.useContext(RadioGroupContext);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var innerRef = React.useRef();\n  var mergedRef = composeRef(ref, innerRef);\n  React.useEffect(function () {\n    devWarning(!('optionType' in props), 'Radio', '`optionType` is only support in Radio.Group.');\n  }, []);\n\n  var onChange = function onChange(e) {\n    if (props.onChange) {\n      props.onChange(e);\n    }\n\n    if (context === null || context === void 0 ? void 0 : context.onChange) {\n      context.onChange(e);\n    }\n  };\n\n  var customizePrefixCls = props.prefixCls,\n      className = props.className,\n      children = props.children,\n      style = props.style,\n      restProps = __rest(props, [\"prefixCls\", \"className\", \"children\", \"style\"]);\n\n  var prefixCls = getPrefixCls('radio', customizePrefixCls);\n\n  var radioProps = _extends({}, restProps);\n\n  if (context) {\n    radioProps.name = context.name;\n    radioProps.onChange = onChange;\n    radioProps.checked = props.value === context.value;\n    radioProps.disabled = props.disabled || context.disabled;\n  }\n\n  var wrapperClassString = classNames(\"\".concat(prefixCls, \"-wrapper\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-checked\"), radioProps.checked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-disabled\"), radioProps.disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-rtl\"), direction === 'rtl'), _classNames), className);\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/label-has-associated-control\n    React.createElement(\"label\", {\n      className: wrapperClassString,\n      style: style,\n      onMouseEnter: props.onMouseEnter,\n      onMouseLeave: props.onMouseLeave\n    }, /*#__PURE__*/React.createElement(RcCheckbox, _extends({}, radioProps, {\n      prefixCls: prefixCls,\n      ref: mergedRef\n    })), children !== undefined ? /*#__PURE__*/React.createElement(\"span\", null, children) : null)\n  );\n};\n\nvar Radio = /*#__PURE__*/React.forwardRef(InternalRadio);\nRadio.displayName = 'Radio';\nRadio.defaultProps = {\n  type: 'radio'\n};\nexport default Radio;","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport Radio from './radio';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\nimport { RadioGroupContextProvider } from './context';\nvar RadioGroup = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n\n  var _useMergedState = useMergedState(props.defaultValue, {\n    value: props.value\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      value = _useMergedState2[0],\n      setValue = _useMergedState2[1];\n\n  var onRadioChange = function onRadioChange(ev) {\n    var lastValue = value;\n    var val = ev.target.value;\n\n    if (!('value' in props)) {\n      setValue(val);\n    }\n\n    var onChange = props.onChange;\n\n    if (onChange && val !== lastValue) {\n      onChange(ev);\n    }\n  };\n\n  var renderGroup = function renderGroup() {\n    var _classNames;\n\n    var customizePrefixCls = props.prefixCls,\n        _props$className = props.className,\n        className = _props$className === void 0 ? '' : _props$className,\n        options = props.options,\n        optionType = props.optionType,\n        buttonStyle = props.buttonStyle,\n        disabled = props.disabled,\n        children = props.children,\n        customizeSize = props.size,\n        style = props.style,\n        id = props.id,\n        onMouseEnter = props.onMouseEnter,\n        onMouseLeave = props.onMouseLeave;\n    var prefixCls = getPrefixCls('radio', customizePrefixCls);\n    var groupPrefixCls = \"\".concat(prefixCls, \"-group\");\n    var childrenToRender = children; // 如果存在 options, 优先使用\n\n    if (options && options.length > 0) {\n      var optionsPrefixCls = optionType === 'button' ? \"\".concat(prefixCls, \"-button\") : prefixCls;\n      childrenToRender = options.map(function (option) {\n        if (typeof option === 'string') {\n          // 此处类型自动推导为 string\n          return /*#__PURE__*/React.createElement(Radio, {\n            key: option,\n            prefixCls: optionsPrefixCls,\n            disabled: disabled,\n            value: option,\n            checked: value === option\n          }, option);\n        } // 此处类型自动推导为 { label: string value: string }\n\n\n        return /*#__PURE__*/React.createElement(Radio, {\n          key: \"radio-group-value-options-\".concat(option.value),\n          prefixCls: optionsPrefixCls,\n          disabled: option.disabled || disabled,\n          value: option.value,\n          checked: value === option.value,\n          style: option.style\n        }, option.label);\n      });\n    }\n\n    var mergedSize = customizeSize || size;\n    var classString = classNames(groupPrefixCls, \"\".concat(groupPrefixCls, \"-\").concat(buttonStyle), (_classNames = {}, _defineProperty(_classNames, \"\".concat(groupPrefixCls, \"-\").concat(mergedSize), mergedSize), _defineProperty(_classNames, \"\".concat(groupPrefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classString,\n      style: style,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      id: id,\n      ref: ref\n    }, childrenToRender);\n  };\n\n  return /*#__PURE__*/React.createElement(RadioGroupContextProvider, {\n    value: {\n      onChange: onRadioChange,\n      value: value,\n      disabled: props.disabled,\n      name: props.name\n    }\n  }, renderGroup());\n});\nRadioGroup.defaultProps = {\n  buttonStyle: 'outline'\n};\nexport default /*#__PURE__*/React.memo(RadioGroup);","import _extends from \"@babel/runtime/helpers/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport Radio from './radio';\nimport { ConfigContext } from '../config-provider';\nimport RadioGroupContext from './context';\n\nvar RadioButton = function RadioButton(props, ref) {\n  var radioGroupContext = React.useContext(RadioGroupContext);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var customizePrefixCls = props.prefixCls,\n      radioProps = __rest(props, [\"prefixCls\"]);\n\n  var prefixCls = getPrefixCls('radio-button', customizePrefixCls);\n\n  if (radioGroupContext) {\n    radioProps.checked = props.value === radioGroupContext.value;\n    radioProps.disabled = props.disabled || radioGroupContext.disabled;\n  }\n\n  return /*#__PURE__*/React.createElement(Radio, _extends({\n    prefixCls: prefixCls\n  }, radioProps, {\n    type: \"radio\",\n    ref: ref\n  }));\n};\n\nexport default /*#__PURE__*/React.forwardRef(RadioButton);","import InternalRadio from './radio';\nimport Group from './group';\nimport Button from './radioButton';\nvar Radio = InternalRadio;\nRadio.Button = Button;\nRadio.Group = Group;\nexport { Button, Group };\nexport default Radio;","import { LoginForm } from './LoginForm';\nimport { Modal } from 'antd';\nimport React from 'react';\n\nexport function LoginModal({\n    onClose\n}) {\n    return (\n        <Modal\n            title=\"Anmeldung erforderlich\"\n            visible={true}\n            width={400}\n            centered\n            onCancel={onClose}\n            onOk={onClose}\n            footer={null}\n        >\n            <LoginForm />\n        </Modal>\n    );\n}","import { Button, Checkbox, Radio } from 'antd';\nimport { MinusOutlined, PlusOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext, useEffect, useMemo, useState } from 'react';\n\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport classNames from 'classnames/bind';\nimport styles from './GroupDatesForm.module.css';\n\nconst cn = classNames.bind(styles);\n\nconst defaultRepeatValuesMap = {\n    1: 'Täglich',\n    7: 'Wöchentlich',\n    14: '2-Wöchentlich',\n};\n\nexport function GroupDatesForm({\n    courtId,\n    currentGroupDates,\n    date,\n    defaultAddCount = 2,\n    disabled = false,\n    onGroupDatesChange,\n    repeatValuesMap = defaultRepeatValuesMap,\n    today,\n    unavailableDates,\n}) {\n    const { user } = useContext(authContext);\n    const { courts, config: { reservationDaysInAdvance } } = useContext(appContext);\n\n    const [repeatValue, setRepeatValue] = useState(0);\n    const [visibleDates, setVisibleDates] = useState([]);\n    const [selectedDates, _setSelectedDates] = useState([]);\n\n    const courtDisabledFromTil = useMemo(() =>\n        (courts.find(c => c.courtId === courtId))?.disabledFromTil, [courts, courtId]);\n\n    const checkIfTooFarAhead = useCallback(date => (\n        date.isAfter(today.add(reservationDaysInAdvance, 'day'), 'day')\n    ), [today, reservationDaysInAdvance]);\n\n    const checkIfNotAvailable = useCallback(date => (\n        (courtDisabledFromTil && date.isBetween(courtDisabledFromTil[0], courtDisabledFromTil[1], 'day', '[]'))\n        || (unavailableDates && unavailableDates.some(d => date.isSame(d, 'day')))\n    ), [courtDisabledFromTil, unavailableDates]);\n\n    const dates = useMemo(() => {\n        return visibleDates.map(d => ({\n            date: d,\n            checked: selectedDates.findIndex(gd => gd.isSame(d, 'day')) !== -1,\n            reserved: currentGroupDates?.findIndex(gd => gd.isSame(d, 'day')) !== -1,\n            past: d.isBefore(today, 'day'),\n            notAvailable: checkIfNotAvailable(d),\n            tooFarAhead: checkIfTooFarAhead(d),\n        }));\n    }, [checkIfNotAvailable, selectedDates, currentGroupDates, visibleDates, today, checkIfTooFarAhead]);\n\n    const setSelectedDates = useCallback(selectedDates => {\n        _setSelectedDates(_selectedDates => {\n            let dates = selectedDates;\n            if (typeof selectedDates === 'function')\n                dates = selectedDates(_selectedDates);\n            return dates.filter(d => !checkIfNotAvailable(d));\n        });\n    }, [checkIfNotAvailable]);\n\n    useEffect(() => {\n        onGroupDatesChange(selectedDates);\n    }, [selectedDates, onGroupDatesChange]);\n\n    // automatically unchecks unavailable dates if unavailableDates changes\n    useEffect(() => setSelectedDates(s => s), [setSelectedDates]);\n\n    useEffect(() => {\n        let selectedDates = [date];\n        let visibleDates = [date];\n\n        if (currentGroupDates?.length > 1) {\n            selectedDates = [...currentGroupDates];\n            selectedDates.sort((a, b) => a.valueOf() - b.valueOf());\n            let repeatValue = Number.MAX_SAFE_INTEGER;\n\n            if (selectedDates.length > 1) {\n                for (let i = 1; i < selectedDates.length; ++i) {\n                    const diff = selectedDates[i - 1].diff(selectedDates[i], 'day');\n                    repeatValue = Math.min(repeatValue, Math.abs(diff));\n                }\n            }\n\n            repeatValue = repeatValue.toString();\n            const allowedValues = Object.keys(repeatValuesMap);\n            if (!allowedValues.includes(repeatValue))\n                repeatValue = allowedValues[0];\n            setRepeatValue(repeatValue);\n\n            const first = selectedDates[0];\n            const last = selectedDates[selectedDates.length - 1];\n            const count = Math.abs(first.diff(last, 'day') / repeatValue);\n            visibleDates = [];\n            for (let i = 0; i <= count; ++i)\n                visibleDates.push(first.add(i * repeatValue, 'day'));\n        }\n\n        setVisibleDates(visibleDates);\n        _setSelectedDates(selectedDates);\n    }, [currentGroupDates, date, repeatValuesMap]);\n\n    const addDate = useCallback(() => {\n        setVisibleDates(visibleDates => {\n            const last = visibleDates[visibleDates.length - 1];\n            const add = last.add(repeatValue, 'day');\n            if (!checkIfTooFarAhead(add))\n                setSelectedDates(selectedDates => [...selectedDates, add]);\n            return [...visibleDates, add];\n        });\n    }, [repeatValue, setSelectedDates, checkIfTooFarAhead]);\n\n    const removeDate = useCallback(() => {\n        setVisibleDates(visibleDates => {\n            const last = visibleDates[visibleDates.length - 1];\n            const reserved = currentGroupDates?.findIndex(gd => gd.isSame(last, 'day')) !== -1;\n            if (visibleDates.length <= 1 || reserved)\n                return visibleDates;\n            setSelectedDates(selectedDates => selectedDates.filter(gd => !gd.isSame(last, 'day')));\n            return visibleDates.slice(0, -1);\n        });\n    }, [currentGroupDates, setSelectedDates]);\n\n    const handleRepeatValueChange = useCallback(e => {\n        const newRepeatValue = e.target.value;\n        setRepeatValue(newRepeatValue);\n\n        const newDates = [date];\n        if (newRepeatValue > 0) {\n            for (let i = 1; i <= defaultAddCount; ++i)\n                newDates.push(date.add(i * newRepeatValue, 'day'));\n        }\n\n        setVisibleDates(newDates);\n        setSelectedDates(newDates.filter(d => !checkIfTooFarAhead(d)));\n    }, [date, defaultAddCount, setSelectedDates, checkIfTooFarAhead]);\n\n    const handleCheckedChange = useCallback(e => {\n        const index = e.target.value;\n        const checked = e.target.checked;\n        const date = visibleDates[index];\n\n        setSelectedDates(selectedDates => {\n            const newSelection = selectedDates.filter(gd => !gd.isSame(date, 'day'));\n            if (checked)\n                newSelection.push(date);\n            newSelection.sort((a, b) => a.valueOf() - b.valueOf());\n            return newSelection;\n        });\n    }, [visibleDates, setSelectedDates]);\n\n    return (\n        <div className={styles.wrapper}>\n            <div>\n                <Radio.Group\n                    className={styles.repeatTypes}\n                    value={repeatValue}\n                    onChange={handleRepeatValueChange}\n                    disabled={currentGroupDates?.length > 1 || disabled}\n                    buttonStyle=\"solid\"\n                    size=\"small\"\n                >\n                    <Radio.Button key={0} value={0}>Einzeltermin</Radio.Button>\n                    {Object.keys(repeatValuesMap).map(value => (\n                        <Radio.Button key={value} value={value}>{repeatValuesMap[value]}</Radio.Button>\n                    ))}\n                </Radio.Group>\n            </div>\n\n            {repeatValue > 0 &&\n                <>\n                    <div className={styles.dates}>\n                        {dates.map(({ date, checked, reserved, past, notAvailable, tooFarAhead }, i) => (\n                            <Checkbox\n                                className={cn({\n                                    unchecked: !checked,\n                                    danger: (reserved && !checked) || notAvailable,\n                                })}\n                                key={date}\n                                value={i}\n                                disabled={(!user?.admin && (past || tooFarAhead)) || notAvailable || disabled}\n                                checked={checked}\n                                onChange={handleCheckedChange}\n                            >\n                                <span className={styles.date}>{date.format('dd L')}</span>\n                                {!past && reserved && checked && <span className={styles.extra}> Aktuell reserviert</span>}\n                                {!past && reserved && !checked && <span className={styles.extra}> Wird storniert</span>}\n                                {!notAvailable && past && <span className={styles.extra}> Bereits vergangen</span>}\n                                {!notAvailable && tooFarAhead && <span className={styles.extra}> Zu weit in der Zukunft</span>}\n                                {notAvailable && <span className={styles.extra}> Nicht verfügbar</span>}\n                            </Checkbox>\n                        ))}\n                    </div>\n                    <div className={styles.buttons}>\n                        <Button\n                            disabled={disabled}\n                            icon={<PlusOutlined />}\n                            onClick={addDate}\n                        />\n                        <Button\n                            disabled={disabled}\n                            icon={<MinusOutlined />}\n                            onClick={removeDate}\n                        />\n                    </div>\n                </>\n            }\n        </div>\n    );\n}","import { Button, Checkbox, Input, Modal, message } from 'antd';\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { deleteReservationGroupApi, getReservationsApi, patchReservationGroupApi, postReservationGroupApi } from '../api';\n\nimport { ErrorResult } from '../ErrorResult';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { GroupDatesForm } from './GroupDatesForm';\nimport { ReservationDetails } from './ReservationDetails';\nimport { StatusText } from '../admin/StatusText';\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport styles from './ReservationModalInner.module.css';\nimport { useApi } from '../useApi';\n\nexport function ReservationModalInner({\n    date,\n    courtId,\n    reservation,\n    today,\n    onFinish,\n    setReservations,\n}) {\n    const { courts, templates: { reservationPrice, reservationTos } } = useContext(appContext);\n    const { user } = useContext(authContext);\n\n    const courtName = courts.find(c => c.courtId === courtId)?.name;\n\n    const [changeReason, setChangeReason] = useState('');\n    const [tosAccepted, setTosAccepted] = useState(false);\n    const [newCustomName, setNewCustomName] = useState(null);\n    const [newGroupDates, setNewGroupDates] = useState(null);\n    const [editName, setEditName] = useState(false);\n    const prevErrorRef = useRef({});\n\n    const [groupReservations, setGroupReservations] = useState([]);\n    const [state, getGroupReservations] = useApi(getReservationsApi, setGroupReservations);\n\n    const [postState, postReservationGroup] = useApi(postReservationGroupApi, setReservations);\n    const [deleteState, deleteReservationGroup] = useApi(deleteReservationGroupApi, setReservations);\n    const [patchState, patchReservationGroup] = useApi(patchReservationGroupApi, setReservations);\n\n    const loading = state.loading || postState.loading || patchState.loading || deleteState.loading;\n\n    const adminEdit = reservation && user.admin && reservation?.userId !== user.userId;\n    const canEdit = user.admin || !reservation || reservation.userId === user.userId;\n\n    const groupDates = useMemo(() => groupReservations.map(r => r.date), [groupReservations]);\n\n    const newDates = useMemo(() => newGroupDates?.filter(\n        ngd => !groupDates.some(gd => gd.isSame(ngd, 'hour'))\n    ), [newGroupDates, groupDates]);\n    const cancelDates = useMemo(() => newGroupDates && groupDates.filter(\n        gd => !newGroupDates.some(ngd => gd.isSame(ngd, 'hour'))\n    ), [newGroupDates, groupDates]);\n    const changeCustomName = !!(groupDates && newCustomName);\n\n    useEffect(() => {\n        if (reservation?.groupId)\n            getGroupReservations({ query: { 'group-id': reservation?.groupId } });\n    }, [reservation, getGroupReservations]);\n\n    const handleGroupDatesChange = useCallback(dates => {\n        setNewGroupDates(dates);\n    }, []);\n\n    const handleAcceptTos = useCallback(e => {\n        setTosAccepted(e.target.checked);\n    }, []);\n\n    const handleEditName = useCallback(() => {\n        setEditName(true);\n    }, []);\n\n    const handleCancelEditName = useCallback(() => {\n        setEditName(false);\n        setNewCustomName(null);\n    }, []);\n\n    const handleNewCustomNameChange = useCallback(e => {\n        setNewCustomName(e.target.value);\n    }, []);\n\n    const handleChangeChangeReason = useCallback(e => {\n        setChangeReason(e.target.value);\n    }, []);\n\n    const handlePostReservation = useCallback(() => {\n        postReservationGroup(null, {\n            courtId,\n            dates: newDates,\n            userId: user.userId,\n            customName: newCustomName,\n        }, () => {\n            message.success(\"Reservierung erfolgreich\");\n            onFinish();\n        });\n    }, [\n        courtId,\n        newCustomName,\n        newDates,\n        onFinish,\n        postReservationGroup,\n        user,\n    ]);\n\n    const handleChangeReservation = useCallback(() => {\n        const doChange = () => {\n            patchReservationGroup({\n                path: {\n                    groupId: reservation.groupId\n                }\n            }, {\n                groupId: reservation.groupId,\n                dates: newGroupDates,\n                customName: newCustomName,\n                reason: adminEdit ? changeReason : undefined,\n            }, () => {\n                message.success(\"Speichern erfolgreich\");\n                onFinish();\n            });\n        };\n\n        Modal.confirm({\n            title: 'Wirklich speichern?',\n            icon: <ExclamationCircleOutlined />,\n            centered: true,\n            content: (\n                <div className={styles.wrapper}>\n\n                    {newDates.length > 0 &&\n                        <>\n                            <div className={styles.heading}>Neue Termine</div>\n                            <ul>\n                                {newDates.map(date => <li key={date}>{date.format('dd L')}</li>)}\n                            </ul>\n                        </>\n                    }\n\n                    {cancelDates.length > 0 &&\n                        <>\n                            <div className={styles.heading}>Zu Stornieren</div>\n                            <ul>\n                                {cancelDates.map(date => <li key={date}>{date.format('dd L')}</li>)}\n                            </ul>\n                        </>\n                    }\n\n                    {changeCustomName &&\n                        <>\n                            <div className={styles.heading}>Änderungen</div>\n                            <ul>\n                                <li>Name: <strong>{newCustomName}</strong></li>\n                            </ul>\n                        </>\n                    }\n\n                </div>\n            ),\n            okText: 'Bestätigen',\n            okType: 'danger',\n            cancelText: 'Abbrechen',\n            onOk: doChange\n        });\n    }, [\n        adminEdit,\n        cancelDates,\n        changeCustomName,\n        changeReason,\n        newCustomName,\n        newDates,\n        newGroupDates,\n        onFinish,\n        patchReservationGroup,\n        reservation,\n    ]);\n\n\n    const handleCancelReservation = useCallback(() => {\n        const doDelete = () => {\n            const reqParams = {\n                path: {\n                    groupId: reservation.groupId\n                }\n            };\n            const cb = () => {\n                message.success(\"Stornierung erfolgreich\");\n                onFinish();\n            }\n\n            if (adminEdit) {\n                // same as delete but with body\n                // to submit reason\n                patchReservationGroup(reqParams, {\n                    groupId: reservation.groupId,\n                    dates: [],\n                    reason: changeReason,\n                }, cb);\n            } else {\n                deleteReservationGroup(reqParams, null, cb);\n            }\n        };\n\n        if (groupDates.length <= 1) {\n            doDelete();\n        } else {\n            Modal.confirm({\n                title: 'Wirklich alle stornieren?',\n                icon: <ExclamationCircleOutlined />,\n                centered: true,\n                content: (\n                    <ul>\n                        {groupDates.map(date => (\n                            <li key={date}>{date.format('dd L')}</li>\n                        ))}\n                    </ul>\n                ),\n                okText: 'Bestätigen',\n                okType: 'danger',\n                cancelText: 'Abbrechen',\n                onOk: doDelete,\n            });\n        }\n    }, [\n        adminEdit,\n        changeReason,\n        deleteReservationGroup,\n        groupDates,\n        onFinish,\n        patchReservationGroup,\n        reservation,\n    ]);\n\n    useEffect(() => {\n        if (prevErrorRef.current.post === postState.error \n            && prevErrorRef.current.patch === patchState.error)\n            return;\n        prevErrorRef.current.post = postState.error;\n        prevErrorRef.current.patch = patchState.error;\n\n        const uaDates = postState.error?.unavailableDates || patchState.error?.unavailableDates;\n        const message = postState.error?.message || patchState.error?.message;\n        if (uaDates) {\n            Modal.error({\n                centered: true,\n                title: 'Reservierung fehlgeschlagen',\n                content: (\n                    <div>\n                        <div>\n                            Folgende Termine sind nicht verfügbar:\n                        </div>\n                        <ul>\n                            {uaDates.map(date => (\n                                <li key={date}>{date.format('dd L')}</li>\n                            ))}\n                        </ul>\n                    </div>\n                )\n            });\n        } else if (message === 'too many active reservations') {\n            const value = postState.error?.value || patchState.error?.value;\n            const max = postState.error?.max || patchState.error?.max;\n            const diff = Math.abs(value - max);\n            Modal.error({\n                centered: true,\n                title: 'Reservierungslimit erreicht',\n                content: (\n                    <div>\n                        {newGroupDates?.length > diff ?\n                            (\n                                <p>\n                                    Bitte entfernen Sie mindestens <strong>{diff}</strong> Termine.\n                                </p>\n                            ) : (\n                                <p>\n                                    Sie können aktuell keine weiteren Termine reservieren.\n                                </p>\n                            )\n                        }\n                        <p>\n                            Es können maximal {max} Reservierungen im voraus getätigt werden. Bereits vergangene Termine werden dabei nicht angerechnet.\n                        </p>\n                    </div>\n                )\n            });\n        }\n    }, [newGroupDates?.length, postState.error, patchState.error])\n\n    if (\n        state.error\n        || (postState.error && !postState.error.unavailableDates && postState.error.message !== 'too many active reservations')\n        || (patchState.error && !patchState.error.unavailableDates && patchState.error.message !== 'too many active reservations')\n        || deleteState.error\n    ) {\n        return (\n            <Modal\n                title=\"Reservierung\"\n                visible={true}\n                width={600}\n                centered\n                onCancel={onFinish}\n                onOk={onFinish}\n                footer={\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            Abbrechen\n                        </Button>\n                    </div>\n                }\n            >\n                <div className={styles.wrapper}>\n                    <ErrorResult />\n                </div>\n            </Modal>\n        );\n    }\n\n    return (\n        <Modal\n            title=\"Reservierung\"\n            visible={true}\n            width={600}\n            centered\n            onCancel={onFinish}\n            onOk={onFinish}\n            footer={loading ?\n                (\n                    <StatusText\n                        loading\n                        text=\"Bitte warten...\"\n                    />\n                ) : (\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            {canEdit ? 'Abbrechen' : 'Schließen'}\n                        </Button>\n                        {canEdit && (reservation ?\n                            (\n                                <>\n                                    <Button\n                                        type=\"danger\"\n                                        onClick={handleCancelReservation}\n                                        disabled={adminEdit && !changeReason}\n                                    >\n                                        {groupDates.length > 1 ? 'Alle stornieren' : 'Stornieren'}\n                                    </Button>\n                                    <Button\n                                        type=\"primary\"\n                                        onClick={handleChangeReservation}\n                                        disabled={!(newDates?.length || cancelDates?.length || changeCustomName) || (adminEdit && !changeReason)}\n                                    >\n                                        Speichern\n                                    </Button>\n                                </>\n                            ) : (\n                                <Button\n                                    disabled={(reservationTos.body && !tosAccepted) || !newDates?.length}\n                                    type=\"primary\"\n                                    onClick={handlePostReservation}\n                                >\n                                    Reservieren\n                                </Button>\n                            )\n                        )}\n                    </div>\n                )\n            }\n        >\n            <div className={styles.wrapper}>\n                <div>\n                    <ReservationDetails\n                        courtName={courtName}\n                        date={date}\n                        groupDates={newGroupDates || groupDates}\n                        name={editName ?\n                            (\n                                <>\n                                    <Input\n                                        className={styles.nameInput}\n                                        disabled={loading}\n                                        onChange={handleNewCustomNameChange}\n                                        placeholder=\"z.B. Training, ...\"\n                                        size=\"small\"\n                                        value={newCustomName}\n                                    />\n                                    <Button\n                                        disabled={loading}\n                                        onClick={handleCancelEditName}\n                                        size=\"small\"\n                                        type='link'\n                                    >\n                                        abbrechen\n                                    </Button>\n                                </>\n                            ) : (\n                                <>\n                                    {reservation?.customName || reservation?.name || user.name}\n                                    {user.admin &&\n                                        <Button\n                                            disabled={loading}\n                                            onClick={handleEditName}\n                                            size=\"small\"\n                                            type='link'\n                                        >\n                                            ändern\n                                        </Button>\n                                    }\n                                </>\n                            )\n                        }\n                        showAllDates={!canEdit}\n                        showDateRange={canEdit}\n                        repeat={canEdit &&\n                            <GroupDatesForm\n                                courtId={courtId}\n                                currentGroupDates={groupDates}\n                                date={date}\n                                disabled={loading}\n                                onGroupDatesChange={handleGroupDatesChange}\n                                today={today}\n                                unavailableDates={postState.error?.unavailableDates || patchState.error?.unavailableDates}\n                            />\n                        }\n                    />\n                </div>\n\n                {!reservation &&\n                    <>\n                        {reservationPrice.body &&\n                            <div>\n                                <h1>Preis</h1>\n                                <div dangerouslySetInnerHTML={{ __html: reservationPrice.body }} />\n                            </div>\n                        }\n\n                        {reservationTos.body &&\n                            <div>\n                                <h1>Nutzungsordnung</h1>\n                                <div dangerouslySetInnerHTML={{ __html: reservationTos.body }} />\n\n                                <Checkbox\n                                    checked={tosAccepted}\n                                    onChange={handleAcceptTos}\n                                    disabled={loading}\n                                >\n                                    Ich akzeptiere die Nutzungsordnung.\n                                </Checkbox>\n                            </div>\n                        }\n                    </>\n                }\n\n                {adminEdit &&\n                    <div className={styles.changeReason}>\n                        <Input.TextArea\n                            autoSize\n                            disabled={loading}\n                            onChange={handleChangeChangeReason}\n                            placeholder=\"Grund der Änderung\"\n                            required\n                            value={changeReason}\n                        />\n                        <div className={styles.changeReasonHint}>\n                            *Erforderlich. Der Inhaber der Reservierung wird über die Änderungen sowie dessen Grund per E-Mail informiert.\n                        </div>\n                    </div>\n                }\n            </div>\n        </Modal>\n    );\n}","import { Button, Modal, Result } from 'antd';\nimport React, { useCallback, useContext } from 'react';\n\nimport { authContext } from '../AuthContext';\nimport styles from './VerifyMailModal.module.css';\nimport { useHistory } from 'react-router-dom';\n\nexport function VerifyMailModal({\n    onClose\n}) {\n    const { user } = useContext(authContext);\n    const history = useHistory();\n\n    const handleChangeMailClick = useCallback(() => {\n        history.push('/profile');\n    }, [history]);\n    \n    const handleResendMail = useCallback(() => {\n        history.push('/verify-mail/send');\n    }, [history]);\n\n    return (\n        <Modal\n            title=\"E-Mail nicht verifiziert\"\n            visible={true}\n            centered\n            width={580}\n            onCancel={onClose}\n            onOk={onClose}\n            footer={null}\n        >\n            <Result\n                status=\"warning\"\n                title=\"Bitte bestätigen Sie Ihre E-Mail Adresse\"\n                extra={\n                    <div>\n                        <div>\n                            Klicken Sie auf den Bestätigungslink, den Sie bei Ihrer Registrierung an <strong>{user?.mail}</strong> erhalten haben.\n                        </div>\n                        <div className={styles.buttons}>\n                            <Button type=\"primary\" onClick={handleResendMail}>\n                                Bestätigungslink erneut senden\n                            </Button>\n                            <Button type=\"link\" onClick={handleChangeMailClick}>\n                                E-Mail Adresse ändern\n                            </Button>\n                        </div>\n                    </div>\n                }\n            />\n        </Modal>\n    );\n}","import React, { useContext } from 'react';\n\nimport { LoginModal } from '../user/LoginModal';\nimport { ReservationModalInner } from './ReservationModalInner';\nimport { VerifyMailModal } from '../user/VerifyMailModal';\nimport { authContext } from '../AuthContext';\n\nexport function ReservationModal(props) {\n    \n    const { user } = useContext(authContext);\n    const { onFinish } = props;\n\n    if (!user)\n        return <LoginModal onClose={onFinish} />\n\n    if (!user.verified)\n        return <VerifyMailModal onClose={onFinish} />\n\n    return <ReservationModalInner {...props} />;\n}","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/createSuper\";\nimport * as React from 'react';\nimport Alert from '.';\n\nvar ErrorBoundary = /*#__PURE__*/function (_React$Component) {\n  _inherits(ErrorBoundary, _React$Component);\n\n  var _super = _createSuper(ErrorBoundary);\n\n  function ErrorBoundary() {\n    var _this;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      error: undefined,\n      info: {\n        componentStack: ''\n      }\n    };\n    return _this;\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      this.setState({\n        error: error,\n        info: info\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          message = _this$props.message,\n          description = _this$props.description,\n          children = _this$props.children;\n      var _this$state = this.state,\n          error = _this$state.error,\n          info = _this$state.info;\n      var componentStack = info && info.componentStack ? info.componentStack : null;\n      var errorMessage = typeof message === 'undefined' ? (error || '').toString() : message;\n      var errorDescription = typeof description === 'undefined' ? componentStack : description;\n\n      if (error) {\n        return /*#__PURE__*/React.createElement(Alert, {\n          type: \"error\",\n          message: errorMessage,\n          description: /*#__PURE__*/React.createElement(\"pre\", null, errorDescription)\n        });\n      }\n\n      return children;\n    }\n  }]);\n\n  return ErrorBoundary;\n}(React.Component);\n\nexport { ErrorBoundary as default };","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport CloseOutlined from '@ant-design/icons/CloseOutlined';\nimport CheckCircleOutlined from '@ant-design/icons/CheckCircleOutlined';\nimport ExclamationCircleOutlined from '@ant-design/icons/ExclamationCircleOutlined';\nimport InfoCircleOutlined from '@ant-design/icons/InfoCircleOutlined';\nimport CloseCircleOutlined from '@ant-design/icons/CloseCircleOutlined';\nimport CheckCircleFilled from '@ant-design/icons/CheckCircleFilled';\nimport ExclamationCircleFilled from '@ant-design/icons/ExclamationCircleFilled';\nimport InfoCircleFilled from '@ant-design/icons/InfoCircleFilled';\nimport CloseCircleFilled from '@ant-design/icons/CloseCircleFilled';\nimport CSSMotion from 'rc-motion';\nimport classNames from 'classnames';\nimport { ConfigContext } from '../config-provider';\nimport getDataOrAriaProps from '../_util/getDataOrAriaProps';\nimport ErrorBoundary from './ErrorBoundary';\nimport { replaceElement } from '../_util/reactNode';\nvar iconMapFilled = {\n  success: CheckCircleFilled,\n  info: InfoCircleFilled,\n  error: CloseCircleFilled,\n  warning: ExclamationCircleFilled\n};\nvar iconMapOutlined = {\n  success: CheckCircleOutlined,\n  info: InfoCircleOutlined,\n  error: CloseCircleOutlined,\n  warning: ExclamationCircleOutlined\n};\n\nvar Alert = function Alert(_a) {\n  var _classNames2;\n\n  var description = _a.description,\n      customizePrefixCls = _a.prefixCls,\n      message = _a.message,\n      banner = _a.banner,\n      _a$className = _a.className,\n      className = _a$className === void 0 ? '' : _a$className,\n      style = _a.style,\n      onMouseEnter = _a.onMouseEnter,\n      onMouseLeave = _a.onMouseLeave,\n      onClick = _a.onClick,\n      afterClose = _a.afterClose,\n      showIcon = _a.showIcon,\n      closable = _a.closable,\n      closeText = _a.closeText,\n      props = __rest(_a, [\"description\", \"prefixCls\", \"message\", \"banner\", \"className\", \"style\", \"onMouseEnter\", \"onMouseLeave\", \"onClick\", \"afterClose\", \"showIcon\", \"closable\", \"closeText\"]);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      closed = _React$useState2[0],\n      setClosed = _React$useState2[1];\n\n  var ref = React.useRef();\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('alert', customizePrefixCls);\n\n  var handleClose = function handleClose(e) {\n    var _a;\n\n    setClosed(true);\n    (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props, e);\n  };\n\n  var getType = function getType() {\n    var type = props.type;\n\n    if (type !== undefined) {\n      return type;\n    } // banner 模式默认为警告\n\n\n    return banner ? 'warning' : 'info';\n  }; // closeable when closeText is assigned\n\n\n  var isClosable = closeText ? true : closable;\n  var type = getType();\n\n  var renderIconNode = function renderIconNode() {\n    var icon = props.icon; // use outline icon in alert with description\n\n    var iconType = (description ? iconMapOutlined : iconMapFilled)[type] || null;\n\n    if (icon) {\n      return replaceElement(icon, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-icon\")\n      }, icon), function () {\n        return {\n          className: classNames(\"\".concat(prefixCls, \"-icon\"), _defineProperty({}, icon.props.className, icon.props.className))\n        };\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(iconType, {\n      className: \"\".concat(prefixCls, \"-icon\")\n    });\n  };\n\n  var renderCloseIcon = function renderCloseIcon() {\n    return isClosable ? /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: handleClose,\n      className: \"\".concat(prefixCls, \"-close-icon\"),\n      tabIndex: 0\n    }, closeText ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-close-text\")\n    }, closeText) : /*#__PURE__*/React.createElement(CloseOutlined, null)) : null;\n  }; // banner 模式默认有 Icon\n\n\n  var isShowIcon = banner && showIcon === undefined ? true : showIcon;\n  var alertCls = classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(type), (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-with-description\"), !!description), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-no-icon\"), !isShowIcon), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-banner\"), !!banner), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-closable\"), isClosable), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2), className);\n  var dataOrAriaProps = getDataOrAriaProps(props);\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: !closed,\n    motionName: \"\".concat(prefixCls, \"-motion\"),\n    motionAppear: false,\n    motionEnter: false,\n    onLeaveStart: function onLeaveStart(node) {\n      return {\n        maxHeight: node.offsetHeight\n      };\n    },\n    onLeaveEnd: afterClose\n  }, function (_ref) {\n    var motionClassName = _ref.className,\n        motionStyle = _ref.style;\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      ref: ref,\n      \"data-show\": !closed,\n      className: classNames(alertCls, motionClassName),\n      style: _extends(_extends({}, style), motionStyle),\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      role: \"alert\"\n    }, dataOrAriaProps), isShowIcon ? renderIconNode() : null, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-message\")\n    }, message), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-description\")\n    }, description), renderCloseIcon());\n  });\n};\n\nAlert.ErrorBoundary = ErrorBoundary;\nexport default Alert;","export default function getDataOrAriaProps(props) {\n  return Object.keys(props).reduce(function (prev, key) {\n    if ((key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role') && key.substr(0, 7) !== 'data-__') {\n      prev[key] = props[key];\n    }\n\n    return prev;\n  }, {});\n}","// This icon file is generated automatically.\nvar MailOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z\" } }] }, \"name\": \"mail\", \"theme\": \"outlined\" };\nexport default MailOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport MailOutlinedSvg from \"@ant-design/icons-svg/es/asn/MailOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar MailOutlined = function MailOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: MailOutlinedSvg\n  }));\n};\n\nMailOutlined.displayName = 'MailOutlined';\nexport default React.forwardRef(MailOutlined);","// This icon file is generated automatically.\nvar LockOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z\" } }] }, \"name\": \"lock\", \"theme\": \"outlined\" };\nexport default LockOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LockOutlinedSvg from \"@ant-design/icons-svg/es/asn/LockOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LockOutlined = function LockOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: LockOutlinedSvg\n  }));\n};\n\nLockOutlined.displayName = 'LockOutlined';\nexport default React.forwardRef(LockOutlined);","// This icon file is generated automatically.\nvar PlusOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"defs\", \"attrs\": {}, \"children\": [{ \"tag\": \"style\", \"attrs\": {} }] }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z\" } }] }, \"name\": \"plus\", \"theme\": \"outlined\" };\nexport default PlusOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PlusOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlusOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar PlusOutlined = function PlusOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: PlusOutlinedSvg\n  }));\n};\n\nPlusOutlined.displayName = 'PlusOutlined';\nexport default React.forwardRef(PlusOutlined);","// This icon file is generated automatically.\nvar MinusOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"minus\", \"theme\": \"outlined\" };\nexport default MinusOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport MinusOutlinedSvg from \"@ant-design/icons-svg/es/asn/MinusOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar MinusOutlined = function MinusOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: MinusOutlinedSvg\n  }));\n};\n\nMinusOutlined.displayName = 'MinusOutlined';\nexport default React.forwardRef(MinusOutlined);","// This icon file is generated automatically.\nvar ClockCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z\" } }] }, \"name\": \"clock-circle\", \"theme\": \"outlined\" };\nexport default ClockCircleOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport ClockCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/ClockCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar ClockCircleOutlined = function ClockCircleOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: ClockCircleOutlinedSvg\n  }));\n};\n\nClockCircleOutlined.displayName = 'ClockCircleOutlined';\nexport default React.forwardRef(ClockCircleOutlined);","// This icon file is generated automatically.\nvar EnvironmentOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z\" } }] }, \"name\": \"environment\", \"theme\": \"outlined\" };\nexport default EnvironmentOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EnvironmentOutlinedSvg from \"@ant-design/icons-svg/es/asn/EnvironmentOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EnvironmentOutlined = function EnvironmentOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: EnvironmentOutlinedSvg\n  }));\n};\n\nEnvironmentOutlined.displayName = 'EnvironmentOutlined';\nexport default React.forwardRef(EnvironmentOutlined);","// This icon file is generated automatically.\nvar RedoOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z\" } }] }, \"name\": \"redo\", \"theme\": \"outlined\" };\nexport default RedoOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport RedoOutlinedSvg from \"@ant-design/icons-svg/es/asn/RedoOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar RedoOutlined = function RedoOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: RedoOutlinedSvg\n  }));\n};\n\nRedoOutlined.displayName = 'RedoOutlined';\nexport default React.forwardRef(RedoOutlined);","// This icon file is generated automatically.\nvar DeleteOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\" } }] }, \"name\": \"delete\", \"theme\": \"outlined\" };\nexport default DeleteOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteOutlinedSvg from \"@ant-design/icons-svg/es/asn/DeleteOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DeleteOutlined = function DeleteOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: DeleteOutlinedSvg\n  }));\n};\n\nDeleteOutlined.displayName = 'DeleteOutlined';\nexport default React.forwardRef(DeleteOutlined);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ReservationDetailsCard_card__2E3HH\",\"editButton\":\"ReservationDetailsCard_editButton__wBAXT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MyReservationsPage_wrapper__CITu_\",\"content\":\"MyReservationsPage_content__3mWtJ\",\"card\":\"MyReservationsPage_card__3NVZi\",\"empty\":\"MyReservationsPage_empty__10Nkp\"};","// This icon file is generated automatically.\nvar EditOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z\" } }] }, \"name\": \"edit\", \"theme\": \"outlined\" };\nexport default EditOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EditOutlinedSvg from \"@ant-design/icons-svg/es/asn/EditOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EditOutlined = function EditOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: EditOutlinedSvg\n  }));\n};\n\nEditOutlined.displayName = 'EditOutlined';\nexport default React.forwardRef(EditOutlined);","import { DeleteOutlined, EditOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext } from 'react';\n\nimport { Button } from 'antd';\nimport { ReservationDetails } from './ReservationDetails';\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport styles from './ReservationDetailsCard.module.css';\n\nexport function ReservationDetailsCard({\n    groupDates,\n    reservation,\n    onEditClick,\n}) {\n    const { user } = useContext(authContext);\n    const { courts } = useContext(appContext);\n\n    const { date, courtId, name, customName } = reservation;\n\n    const courtName = courts.find(c => c.courtId === courtId)?.name;\n\n    const handleEditClick = useCallback(() => {\n        onEditClick(reservation);\n    }, [reservation, onEditClick]);\n\n    return (\n        <div className={styles.card}>\n            <Button\n                className={styles.editButton}\n                type=\"link\"\n                onClick={handleEditClick}\n            >\n                <EditOutlined /> | <DeleteOutlined />\n            </Button>\n\n            <ReservationDetails\n                autoHideName\n                date={date}\n                courtName={courtName}\n                groupDates={groupDates}\n                name={customName || (user?.name !== name && name)}\n                showFollowUpDate\n            />\n        </div>\n    );\n}","import React, { useCallback, useContext, useMemo, useState } from 'react';\n\nimport { Ball } from '../Ball';\nimport { Empty } from 'antd';\nimport { ErrorResult } from '../ErrorResult';\nimport { ReservationDetailsCard } from './ReservationDetailsCard';\nimport { ReservationModal } from './ReservationModal';\nimport { authContext } from '../AuthContext';\nimport { getReservationsApi } from '../api';\nimport styles from './MyReservationsPage.module.css';\nimport { useApi } from '../useApi';\nimport { useTime } from './useTime';\n\nfunction getGroupDates(myReservations, reservation) {\n    if (!reservation?.groupId)\n        return null;\n    return myReservations\n        .filter(r => r.groupId === reservation.groupId)\n        .map(r => r.date);\n}\n\nexport function MyReservationsPage() {\n\n    const { user: { userId } } = useContext(authContext);\n\n    const time = useTime('hour');\n    const [selectedReservation, setSelectedReservation] = useState();\n\n    const autoFetch = useMemo(() => ({\n        reqParams: {\n            query: {\n                'user-id': userId,\n                start: time.startOf('hour').toISOString(),\n            }\n        }\n    }), [time, userId]);\n\n    const [reservations, setReservations] = useState([]);\n    const [state,] = useApi(getReservationsApi, setReservations, autoFetch); \n\n    const sortedReservations = useMemo(() => {\n        const s = [...reservations];\n        s.sort((a, b) => a.date - b.date);\n        return s;\n    }, [reservations]);\n\n    const handleEditClick = useCallback(reservation => {\n        setSelectedReservation(reservation);\n    }, []);\n\n    const handleReservationEditFinish = useCallback(() => {\n        setSelectedReservation(null);\n    }, []);\n\n    if (state.error)\n        return (\n            <div className={styles.wrapper}>\n                <ErrorResult />\n            </div>\n        );\n    \n    // length check prevents flickering when refetch\n    if (state.loading && !sortedReservations?.length)\n        return (\n            <div className={styles.wrapper}>\n                <Ball visible spin large centered />\n            </div>\n        );\n\n    return (\n        <div className={styles.wrapper}>\n            {!sortedReservations?.length &&\n                <div className={styles.content}>\n                    <Empty\n                        className={styles.empty}\n                        description=\"Keine Reservierungen\"\n                    />\n                </div>\n            }\n\n            {sortedReservations?.length > 0 &&\n                <>\n                    <h1>Nächster Termin</h1>\n                    <div className={styles.content}>\n                        <ReservationDetailsCard\n                            reservation={sortedReservations[0]}\n                            groupDates={getGroupDates(sortedReservations, sortedReservations[0])}\n                            onEditClick={handleEditClick}\n                        />\n                    </div>\n                </>\n            }\n\n            {sortedReservations?.length > 1 &&\n                <>\n                    <h1>Weitere Termine</h1>\n                    <div className={styles.content}>\n                        {sortedReservations.map((reservation, i) => {\n                            if (i === 0)\n                                return null;\n                            return (\n                                <ReservationDetailsCard\n                                    key={`${reservation.courtId}${reservation.date}`}\n                                    reservation={reservation}\n                                    groupDates={getGroupDates(sortedReservations, reservation)}\n                                    onEditClick={handleEditClick}\n                                />\n                            );\n                        })}\n                    </div>\n                </>\n            }\n\n            {selectedReservation &&\n                <ReservationModal\n                    date={selectedReservation?.date}\n                    courtId={selectedReservation?.courtId}\n                    reservation={selectedReservation}\n                    onFinish={handleReservationEditFinish}\n                    today={time}\n                />\n            }\n        </div>\n    );\n}"],"sourceRoot":""}