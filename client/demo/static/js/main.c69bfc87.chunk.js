(this["webpackJsonpreservierungssystem-tennis"]=this["webpackJsonpreservierungssystem-tennis"]||[]).push([[0],{104:function(e,t,n){e.exports={header:"NavBar_header__3EbUr",title:"NavBar_title__2Ydj-",orgName:"NavBar_orgName__3TDkX",horizontalMenuWrapper:"NavBar_horizontalMenuWrapper__pOr71",drawerMenuWrapper:"NavBar_drawerMenuWrapper__15WnD",drawer:"NavBar_drawer__2Jr7L"}},125:function(e,t,n){e.exports={hoursTableWrapper:"HoursTable_hoursTableWrapper__2oqN9",hoursTable:"HoursTable_hoursTable__1GyQk",hour:"HoursTable_hour__2iAsO",til:"HoursTable_til__27vFO",highlight:"HoursTable_highlight__16BlN"}},126:function(e,t,n){e.exports={wrapper:"MyReservationsPage_wrapper__CITu_",content:"MyReservationsPage_content__3mWtJ",card:"MyReservationsPage_card__3NVZi",empty:"MyReservationsPage_empty__10Nkp"}},127:function(e,t,n){e.exports={wrapper:"StatsPage_wrapper__1TnzV",spacer:"StatsPage_spacer__2ZwYl"}},137:function(e,t,n){e.exports={wrapper:"ReservationModal_wrapper__3KCQY",footer:"ReservationModal_footer__1LW8_"}},142:function(e,t,n){e.exports={wrapper:"DateClock_wrapper__2wdCe",time:"DateClock_time__1UaS1",date:"DateClock_date__2fu_M",clockDots:"DateClock_clockDots__1qZO2",blink:"DateClock_blink__dDypK"}},143:function(e,t,n){e.exports={wrapper:"DayTable_wrapper__1Hl5M",date:"DayTable_date__3HnYm",today:"DayTable_today__3s1dj",court:"DayTable_court__3mDRl"}},144:function(e,t,n){e.exports={details:"ReservationDetails_details__3QUEr",small:"ReservationDetails_small__25Mcp",userInput:"ReservationDetails_userInput__1qyIR",allDates:"ReservationDetails_allDates__19arH",dateList:"ReservationDetails_dateList__2q866"}},145:function(e,t,n){e.exports={toolbar:"HtmlEditor_toolbar__1Qc_c",varWidth:"HtmlEditor_varWidth__NV4d6"}},146:function(e,t,n){e.exports={content:"App_content__3La4L",footer:"App_footer__29Fsv"}},182:function(e,t,n){e.exports={wrapper:"Ball_wrapper__2ZIuN",visible:"Ball_visible__1j9MH",preloader:"Ball_preloader__38zDy",ball:"Ball_ball__3Ysq4",spin:"Ball_spin__3tWSR",ballWrapper:"Ball_ballWrapper__3raqu",jump:"Ball_jump__3yJc4",rotate:"Ball_rotate__uVyFJ"}},183:function(e,t,n){e.exports={loginButton:"LoginForm_loginButton__ECun6",forgotLink:"LoginForm_forgotLink__3TG3V",registerItem:"LoginForm_registerItem__32Qy-"}},184:function(e,t,n){e.exports={wrapper:"SystemLinkQr_wrapper__2CJMn",qr:"SystemLinkQr_qr__ASBOr",plain:"SystemLinkQr_plain__1yRC6"}},185:function(e,t,n){e.exports={wrapper:"CalendarPage_wrapper__29en7",alert:"CalendarPage_alert__3_59q"}},186:function(e,t,n){e.exports={wrapper:"MyAccountPage_wrapper__3toHY",buttonWrapper:"MyAccountPage_buttonWrapper__3cS0i"}},204:function(e,t,n){e.exports={tableWrapper:"ReservationCalendar_tableWrapper__Zzm8d",tableScroller:"ReservationCalendar_tableScroller__1fVFR"}},205:function(e,t,n){e.exports={menu:"MainMenu_menu__1Ez4Z",horizontal:"MainMenu_horizontal__jNPXA",stretch:"MainMenu_stretch__3BpF9",menuButton:"MainMenu_menuButton__3Ujw0"}},206:function(e,t,n){e.exports={court:"CourtConfigForm_court__1U5H_",courtIdInput:"CourtConfigForm_courtIdInput__26kkp"}},207:function(e,t,n){e.exports={cta:"LoginPage_cta__36xPq",wrapper:"LoginPage_wrapper__3Mt-I"}},208:function(e,t,n){e.exports={wrapper:"LogoutPage_wrapper__20-zI",buttons:"LogoutPage_buttons__2EmjL"}},209:function(e,t,n){e.exports={card:"ReservationDetailsCard_card__2E3HH",editButton:"ReservationDetailsCard_editButton__wBAXT"}},210:function(e,t,n){e.exports={cta:"RegisterPage_cta__1Q2zL",wrapper:"RegisterPage_wrapper__1jLwT",loginItem:"RegisterPage_loginItem__3bhw_"}},247:function(e,t,n){e.exports={cell:"SlotCell_cell__10BAl",enabled:"SlotCell_enabled__3WkTf",slot:"SlotCell_slot__2KRoY",reserved:"SlotCell_reserved__1oREX",disabled:"SlotCell_disabled__24bPq",disabledText:"SlotCell_disabledText__34Sit"}},262:function(e,t,n){e.exports={wrapper:"GeneralSettingsPage_wrapper__2CalC"}},263:function(e,t,n){e.exports={wrapper:"InfoPage_wrapper__1RAoq"}},264:function(e,t,n){e.exports={wrapper:"LegalPrivacyPage_wrapper__2ayGP"}},266:function(e,t,n){e.exports={form:"RegisterForm_form__34nyc"}},275:function(e,t,n){e.exports={key:"TemplateEditor_key__3ivbY"}},276:function(e,t,n){e.exports={wrapper:"UserManagementPage_wrapper__LewMU",spacer:"UserManagementPage_spacer__3pBNT"}},296:function(e,t,n){},481:function(e,t,n){"use strict";n.r(t);var r=n(1);n(295),n(296),n(297),n(298),n(299),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(0),i=n.n(a),c=n(59),s=n(47),l=n(68),o=n.n(l),d=n(182),u=n.n(d),j=o.a.bind(u.a);function b(e){e.size;var t=e.preloader,n=e.visible,a=e.spin;return Object(r.jsx)("div",{className:j({wrapper:!0,visible:n,preloader:t,spin:a}),children:Object(r.jsx)("div",{className:u.a.ballWrapper,children:Object(r.jsx)("div",{className:u.a.ball})})})}var h=n(291),m=n(48);function O(){return Object(a.useEffect)((function(){if(!localStorage.getItem("notice-closed")){var e=function(){h.a.close("cookie-notice"),localStorage.setItem("notice-closed","true")};h.a.info({key:"cookie-notice",message:"Cookie Hinweis",duration:0,placement:"bottomRight",description:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Funktionsbedingt wird eine zu Cookies alternative Technologie verwendet."}),Object(r.jsx)("div",{children:"Es werden keine 3rd-Party oder Tracking Cookies gesetzt."})]}),onClose:e,btn:Object(r.jsx)(m.a,{type:"primary",size:"middle",onClick:e,children:"OK"}),closeIcon:null})}}),[]),null}var x=n(200),v=n.n(x),g=n(246),f=n(18),p=n(35),k=n.n(p),_=i.a.createContext(),y={reservationPrice:"<div>\n    15,- Euro pro Wertmarke<br />\n    145,- Euro pro 10 Wertmarken\n</div>",reservationTos:"<ul>\n    <li>\n        Zur Nutzung ben\xf6tigen Sie Wertmarken und einen Zugangscode. Diese erhalten Sie bei unserern Partnern: <br />\nrelexa hotel Harz-Wald Braunlage, Karl-R\xf6hrig Str. 5a, Tel. 05520/8070 <br />\nBTG Braunlage (Tourist-Information), Elbinger\xf6derstr. 17, Tel. 05520/93070 <br />\n    </li>\n    <li>\n        Am Eingang der Halle ist ein Codeschlo\xdf angebracht, in das ein 4-stelliger Zahlencode eingegeben werden mu\xdf, um den T\xfcr\xf6ffner zu bet\xe4tigen.\n    </li>\n    <li>\n        Auf den Pl\xe4tzen befindet sich f\xfcr jeden Platz ein Wertmarkenautomat. Eine Wertmarke schaltet f\xfcr 1 Stunde (+ etwas Nachlauf) das Licht ein und gibt die Heizungssteuerung frei.\n    </li>\n    <li>\n        Eine Nutzung nach 22.00 und vor 8.00 Uhr ist ohne Reservierung m\xf6glich.\n    </li>\n    <li>\n        Aus dem Reservierungssystem k\xf6nnen keine Rechtsanspr\xfcche abgeleitet werden.\n    </li>\n</ul>",systemTos:"<ul>\n    <li>\n        Aus dem Reservierungssystem k\xf6nnen keine Rechtsanspr\xfcche abgeleitet werden.\n    </li>\n    <li>\n        Ihr Anzeigename wird \xf6ffentlich auf dem Reservierungskalender angezeigt.\n    </li>\n    <li>\n        Sie sind damit einverstanden, dass eine zu Cookies \xe4hnliche Technologie verwendet wird, um die Funktionalit\xe4t des Systems zu gew\xe4hrleisten. Es erfolgt kein Tracking, o.\xe4.\n    </li>\n    <li>\n        Sie k\xf6nnen Ihre gespeicherten Daten (Benutzerkonto, Reservierungen) zu jedem Zeitpunkt einsehen und endg\xfcltig l\xf6schen.\n    </li>\n    <li>\n        Ihre E-Mail wird dazu verwendet, um Reservierungen zu best\xe4tigen und Sie ggf. zu benachrichtigen. Ihre E-Mail wird nicht mit Dritten geteilt.\n    </li>\n</ul>",infoPage:'<h1>Allgemeine Informationen zur Hallennutzung</h1><div><br><ul><li>Es handelt sich hier um ein Reservierungssystem und nicht um ein Buchungssystem.</li><li>Eine verbindliche Buchung kommt erst durch Einwurf der Wertmarke in den Wertmarkenautomaten zustande.</li><li>Aus dem Reservierungssystem k\xf6nnen keine Rechtsanspr\xfcche abgeleitet werden.</li><li>Sie m\xfcssen dieses Reservierungssystem nicht nutzen. Sie k\xf6nnen die Halle auch ohne Reservierung nutzen, bitte beachten Sie aber, da\xdf Reservierungen Vorrang haben.</li><li>Es ist auch eine Nutzung nach 22.00 und vor 8.00 m\xf6glich. Diese Zeiten werden nur selten nachgefragt und sind deshalb wegen der \xdcbersichtlichkeit nicht im Reservierungsplan aufgef\xfchrt.</li><li>Am Eingang der Halle ist ein Codeschlo\xdf angebracht, in das ein 4-stelliger Zahlencode eingegeben werden mu\xdf, um den T\xfcr\xf6ffner zu bet\xe4tigen.</li><li>Auf den Pl\xe4tzen befindet sich f\xfcr jeden Platz ein Wertmarkenautomat. Eine Wertmarke schaltet f\xfcr 1 Stunde (+ etwas Nachlauf) das Licht ein und gibt die Heizungssteuerung frei.</li><li>Sie bekommen die Wertmarken und den Zugangscode bei unserern Partnern:</li><li>relexa hotel Harz-Wald Braunlage, Karl-R\xf6hrig Str. 5a, Tel. 05520/8070</li><li>BTG Braunlage (Tourist-Information), Elbinger\xf6derstr. 17, Tel. 05520/93070</li><li>Eine Wertmarke kostet 15,- Euro</li><li>10 Wertmarken kosten 145,- Euro</li><li>Ein Abo im eigentlichen Sinn gibt es nicht, nur den Rabatt ab 10 Wertmarken.</li><li>Bei wesentlich h\xf6herem Bedarf, z.B. Buchung der ganzen Halle f\xfcr ein Wochenende setzen Sie sich bitte mit uns in Verbindung.</li></ul></div><div><br></div><h1>Nutzung des Reservierungssystems</h1><div><ul><li>Neu hier?<br>Bevor sie das Reservierungssystem nutzen k\xf6nnen, m\xfcssen sie sich registrieren.</li><li>Wie reserviere ich eine Stunde?<br>Klicken Sie die gew\xfcnschte Stunde einfach an. Falls Sie nicht angemeldet sind erscheint die Anmeldemaske. Melden Sie sich an, dann k\xf6nnen Sie die gew\xfcnschte Stunde durch einfaches anklicken reservieren.</li><li>Wie storniere ich eine Reservierung?<br>Sie k\xf6nnen Reservierungen einfach durch anklicken der Reservierung wieder stornieren. Sie k\xf6nnen nur ihre eigenen Reservierungen stornieren. Sie m\xfcssen dazu angemeldet sein.</li><li>Welche Einschr\xe4nkungen gibt es f\xfcr Reservierungen?<br>Reservierungen k\xf6nnen maximal 3 Monate im voraus get\xe4tigt werden.</li><li>Passwort, E-Mail oder Nutzername \xe4ndern<br>Sie k\xf6nnen ihre Daten unter "Mein Benutzerkonto" \xe4ndern.</li><li>DSGVO: Daten l\xf6schen / anfordern<br>Sie k\xf6nnen all ihre Daten unter "Mein Benutzerkonto" anfordern.</li></ul></div>',legalPrivacy:"<h1>Impressum</h1><h1>Datenschutzerkl\xe4rung</h1>"},C={reservationConfirmation:{subject:"Reservierungsbest\xe4tigung - Tennisclub Beispiel",body:"Hallo {{name}}.<div><br>Sie haben soeben folgende Reservierung get\xe4tigt:<br><br>{{reservierung}}<br><br>Eine verbindliche Buchung kommt erst durch Einwurf der Wertmarke in den Wertmarkenautomaten zustande.<br>Aus dem Reservierungssystem k\xf6nnen keine Rechtsanspr\xfcche abgeleitet werden.<br><br>Sie bekommen die Wertmarken und den Zugangscode bei unserern Partnern:<br>xyz<br><br>---</div><div><br></div><div>Tennisclub Beispiel&nbsp;</div>"},reservationCancelled:{subject:"Stornierung Ihrer Reservierung - Tennisclub Beispiel",body:"Hallo {{name}}.<div><br>Ihre Reservierung wurde soeben storniert:<br><br>{{reservierung}}<br><br>Grund der Stornierung:</div><div><br></div><div>{{grund}}<br><br><br>---</div><div><br></div><div>Tennisclub Beispiel&nbsp;</div>"},confirmMail:{subject:"Registrierung: Best\xe4tigen Sie Ihre E-Mail - Tennisclub Beispiel",body:"Hallo {{name}}.<div><br>Bitte best\xe4tigen Sie Ihre E-Mail Adresse, indem Sie auf folgenden Link klicken:<br><br>{{link}}<br></div><div><br></div><div>---</div><div><br></div><div>Tennisclub Beispiel&nbsp;</div>"},resetPassword:{subject:"Passwort zur\xfccksetzen - Tennisclub Beispiel",body:"Hallo {{name}}.<div><br>Klicken Sie auf folgenden Link, um Ihr Passwort zur\xfcckzusetzen:<br><br>{{link}}<br><br></div><div>---</div><div><br></div><div>Tennisclub Beispiel&nbsp;</div>"}};function N(e){var t=e.children,n=Object(a.useState)(),i=Object(f.a)(n,2),c=i[0],s=i[1];return Object(a.useEffect)((function(){Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){return s({announcement:"Beispielank\xfcndigung: abcdefg bla bla",courts:[{courtId:1,name:"Platz 1"},{courtId:2,name:"Platz 2",disabled:!0,disabledFromTil:[k()().subtract(2,"week"),k()().add(4,"week")],disabledReason:"<hier beliebigen Grund einsetzen>"}],visibleHours:[8,22],orgName:"Tennisclub Beispiel",texts:y,mailTemplates:C,serverMail:"abc@def.de",url:"https://reservierung.xyz.de",reservationDaysInAdvance:90,reservationMaxActiveCount:15})}),400);case 1:case"end":return e.stop()}}),e)})))()}),[]),Object(r.jsx)(_.Provider,{value:c,children:t})}function w(e){var t=e.noLinks,n=Object(a.useContext)(_).orgName;return Object(r.jsxs)(r.Fragment,{children:[!t&&Object(r.jsx)("p",{children:Object(r.jsx)(c.b,{to:"/legalnotice-privacy",children:"Impressum / Datenschutz"})}),Object(r.jsxs)("p",{children:["\xa9".concat(k()().format("YYYY")," ").concat(n," - v").concat("2.0.0-alpha.1"," - entwickelt von "),t?Object(r.jsx)("span",{children:"Alexander\xa0Droste"}):Object(r.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/alexdroste/reservierungssystem-tennis-v2",children:"Alexander\xa0Droste"})]})]})}var I=n(493),z=n(142),S=n.n(z);function T(){var e=Object(a.useState)((function(){return k()()})),t=Object(f.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){var e=setInterval((function(){i(k()())}),5e3);return function(){return clearInterval(e)}}),[]),Object(r.jsxs)("div",{className:S.a.wrapper,children:[Object(r.jsxs)("div",{className:S.a.time,children:[n.format("HH"),Object(r.jsx)("span",{className:S.a.clockDots,children:":"}),n.format("mm")," Uhr"]}),Object(r.jsx)("div",{className:S.a.date,children:n.format("dddd LL")})]})}var R=n(247),A=n.n(R),B=o.a.bind(A.a);function P(e){var t,n=e.courtId,i=e.courtName,c=e.disabled,s=void 0!==c&&c,l=e.disabledText,o=e.hour,d=e.onClick,u=e.reservation,j=Object(a.useCallback)((function(){s||d({courtId:n,hour:o,reservation:u})}),[n,s,o,d,u]);return Object(r.jsx)("td",{className:B({cell:!0,enabled:!s}),onClick:j,children:Object(r.jsxs)("div",{className:B({slot:!0,reserved:u,disabled:s,disabledText:l}),"data-free-text":"Frei","data-free-text-hover":"".concat(o," Uhr, ").concat(i),children:[!(s&&l)&&u&&(null!==(t=u.customName)&&void 0!==t?t:u.name),s&&l]})})}var M=n(248);function D(e,t,n){var r,a=Object(M.a)(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(t.isSame(i.date,"hour")&&n===i.courtId)return i}}catch(c){a.e(c)}finally{a.f()}return null}var E=n(143),F=n.n(E);function W(e){var t=e.courts,n=e.date,i=e.onSlotClick,c=e.reservations,s=e.today,l=e.hours,o=e.reservationDaysInAdvance,d=Object(a.useMemo)((function(){return s.isSame(n,"day")}),[n,s]),u=Object(a.useMemo)((function(){return n.isBefore(s,"day")}),[n,s]),j=Object(a.useMemo)((function(){return n.isAfter(s.add(o,"day"),"day")}),[n,o,s]),b=Object(a.useMemo)((function(){return t.map((function(e){var t=e.courtId,r=e.name,a=e.disabled,i=e.disabledFromTil,c=a&&n.isBetween(i[0],i[1],"day","[]");return{courtId:t,name:r,disabled:u||j||c,disabledText:c?"Gesperrt":null}}))}),[t,n,u,j]),h=Object(a.useCallback)((function(e){var t=e.courtId,r=e.hour,a=e.reservation;i({courtId:t,date:n.hour(r),reservation:a})}),[n,i]);return Object(r.jsx)("div",{className:F.a.wrapper,children:Object(r.jsxs)("table",{children:[Object(r.jsxs)("thead",{children:[Object(r.jsx)("tr",{children:Object(r.jsxs)("th",{className:F.a.date,colSpan:b.length,children:[d&&Object(r.jsx)("span",{className:F.a.today,children:"Heute"}),n.format("dd l")]})}),Object(r.jsx)("tr",{children:b.map((function(e){var t=e.courtId,n=e.name;return Object(r.jsx)("td",{children:Object(r.jsx)("div",{className:F.a.court,children:n})},t)}))})]}),Object(r.jsx)("tbody",{children:l.map((function(e){return Object(r.jsx)("tr",{children:b.map((function(t){var a=t.courtId,i=t.name,s=t.disabled,l=t.disabledText;return Object(r.jsx)(P,{courtId:a,courtName:i,hour:e,disabled:s,disabledText:l,onClick:h,reservation:D(c,n.hour(e),a)},a)}))},e)}))})]})})}var L=n(125),H=n.n(L),K=o.a.bind(H.a);function Z(e){var t=e.hours,n=e.highlightHour;return Object(r.jsx)("div",{className:H.a.hoursTableWrapper,children:Object(r.jsx)("table",{className:H.a.hoursTable,children:Object(r.jsx)("tbody",{children:t.map((function(e){return Object(r.jsx)("tr",{className:K({highlight:n===e}),children:Object(r.jsx)("th",{children:Object(r.jsxs)("div",{className:H.a.hour,children:[e," Uhr",Object(r.jsx)("br",{}),Object(r.jsxs)("span",{className:H.a.til,children:["bis ",e+1," Uhr"]})]})})},e)}))})})})}var G=n(486),q=n(491),U=n(140),V=n(498),J=n(499),Y=i.a.createContext();function Q(e){var t=e.children,n=Object(a.useState)((function(){var e=sessionStorage.getItem("user")||localStorage.getItem("user");try{return JSON.parse(e)}catch(t){return null}})),i=Object(f.a)(n,2),c=i[0],s=i[1];Object(a.useEffect)((function(){if(c){var e=JSON.stringify(c);c.rememberLogin?localStorage.setItem("user",e):sessionStorage.setItem("user",e)}else sessionStorage.removeItem("user"),localStorage.removeItem("user")}),[c]);var l=Object(a.useCallback)((function(e){var t=e.rememberLogin;s({admin:!0,userId:1,name:"M\xfcller",mail:"mueller@example.com",rememberLogin:t})}),[]),o=Object(a.useCallback)((function(){s(null)}),[]),d=Object(a.useMemo)((function(){return{user:c,login:l,logout:o}}),[c,l,o]);return Object(r.jsx)(Y.Provider,{value:d,children:t})}var X=n(183),$=n.n(X);function ee(){var e=Object(a.useContext)(Y).login;return Object(r.jsxs)(G.a,{layout:"vertical",onFinish:function(t){console.log("Success:",t),e(t)},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(r.jsx)(G.a.Item,{name:"mail",rules:[{required:!0,message:"E-Mail Adresse ist erforderlich"}],children:Object(r.jsx)(q.a,{prefix:Object(r.jsx)(V.a,{}),placeholder:"E-Mail"})}),Object(r.jsx)(G.a.Item,{name:"password",rules:[{required:!0,message:"Passwort ist erforderlich"}],children:Object(r.jsx)(q.a.Password,{prefix:Object(r.jsx)(J.a,{}),placeholder:"Passwort"})}),Object(r.jsxs)(G.a.Item,{children:[Object(r.jsx)(G.a.Item,{name:"rememberLogin",valuePropName:"checked",noStyle:!0,children:Object(r.jsx)(U.a,{children:"Angemeldet bleiben"})}),Object(r.jsx)("a",{className:$.a.forgotLink,href:"",children:"Password vergessen"})]}),Object(r.jsx)(G.a.Item,{children:Object(r.jsx)(m.a,{type:"primary",htmlType:"submit",className:$.a.loginButton,children:"Anmelden"})}),Object(r.jsxs)(G.a.Item,{className:$.a.registerItem,children:[Object(r.jsx)("span",{children:"oder "}),Object(r.jsx)(c.b,{to:"/register",children:"Kostenlos Registrieren"})]})]})}var te=n(489);function ne(e){var t=e.onClose;return Object(r.jsx)(te.a,{title:"Anmeldung erforderlich",visible:!0,width:400,centered:!0,onCancel:t,onOk:t,footer:null,children:Object(r.jsx)(ee,{})})}var re=n(124),ae=n(176),ie=n(482),ce=n(500),se=n(501),le=n(67),oe=n.n(le),de=o.a.bind(oe.a),ue={1:"T\xe4glich",7:"W\xf6chentlich",14:"2-W\xf6chentlich"};function je(e){var t=e.courtId,n=e.date,i=e.defaultAddCount,c=void 0===i?2:i,s=e.onGroupDatesChange,l=e.repeatValuesMap,o=void 0===l?ue:l,d=e.reservations,u=e.today,j=e.unavailableDates,b=Object(a.useContext)(_),h=b.courts,O=b.reservationDaysInAdvance,x=Object(a.useState)(!1),v=Object(f.a)(x,2),g=v[0],p=v[1],k=Object(a.useState)(),y=Object(f.a)(k,2),C=y[0],N=y[1],w=Object(a.useState)([]),I=Object(f.a)(w,2),z=I[0],S=I[1],T=Object(a.useState)([]),R=Object(f.a)(T,2),A=R[0],B=R[1],P=Object(a.useMemo)((function(){var e;return null===(e=h.find((function(e){return e.courtId===t})))||void 0===e?void 0:e.disabledFromTil}),[h,t]),M=Object(a.useCallback)((function(e){return e.isAfter(u.add(O,"day"),"day")||P&&e.isBetween(P[0],P[1],"day","[]")||j&&j.some((function(t){return e.isSame(t,"day")}))}),[P,u,O,j]),D=Object(a.useMemo)((function(){return z.map((function(e){return{date:e,checked:-1!==A.findIndex((function(t){return t.isSame(e,"day")})),reserved:-1!==(null===d||void 0===d?void 0:d.findIndex((function(t){return t.date.isSame(e,"day")}))),past:e.isBefore(u,"day"),notAvailable:M(e)}}))}),[M,A,d,z,u]),E=Object(a.useCallback)((function(e){B((function(t){var n=e;return"function"===typeof e&&(n=e(t)),n.filter((function(e){return!M(e)}))}))}),[M]);Object(a.useEffect)((function(){s(A)}),[A,s]),Object(a.useEffect)((function(){var e=[n],t=[n];if(null===d||void 0===d?void 0:d.length){(e=d.map((function(e){return e.date}))).sort((function(e,t){return e.valueOf()-t.valueOf()}));var r=Number.MAX_SAFE_INTEGER;if(e.length>1)for(var a=1;a<e.length;++a){var i=e[a-1].diff(e[a],"day");r=Math.min(r,Math.abs(i))}r=r.toString();var c=Object.keys(o);c.includes(r)||(r=c[0]),N(r),p(!0);var s=e[0],l=e[e.length-1],u=Math.abs(s.diff(l,"day")/r);t=[];for(var j=0;j<=u;++j)t.push(s.add(j*r,"day"))}S(t),E(e)}),[d,n,o,E]);var F=Object(a.useCallback)((function(){S((function(e){var t=e[e.length-1].add(C,"day");return E((function(e){return[].concat(Object(re.a)(e),[t])})),[].concat(Object(re.a)(e),[t])}))}),[C,E]),W=Object(a.useCallback)((function(){S((function(e){var t=e[e.length-1],n=-1!==(null===d||void 0===d?void 0:d.findIndex((function(e){return e.date.isSame(t,"day")})));return e.length<=1||n?e:(E((function(e){return e.filter((function(e){return!e.isSame(t,"day")}))})),e.slice(0,-1))}))}),[d,E]),L=Object(a.useCallback)((function(e){p(e.target.checked)}),[]),H=Object(a.useCallback)((function(e){var t=e.target.value;N(t);for(var r=[n],a=1;a<=c;++a)r.push(n.add(a*t,"day"));S(r),E(r)}),[n,c,E]),K=Object(a.useCallback)((function(e){var t=e.target.value,n=e.target.checked,r=z[t];E((function(e){var t=e.filter((function(e){return!e.isSame(r,"day")}));return n&&t.push(r),t.sort((function(e,t){return e.valueOf()-t.valueOf()})),t}))}),[z,E]);return Object(r.jsxs)("div",{className:oe.a.wrapper,children:[Object(r.jsx)("div",{className:oe.a.enableCheckbox,children:Object(r.jsx)(U.a,{checked:g,onChange:L,disabled:null===d||void 0===d?void 0:d.length,children:"Wiederholen / Regelm\xe4\xdfiger Termin"})}),g&&Object(r.jsxs)("div",{className:oe.a.repeatSettings,children:[Object(r.jsx)("div",{children:Object(r.jsx)(ae.a.Group,{className:oe.a.repeatTypes,value:C,onChange:H,disabled:null===d||void 0===d?void 0:d.length,children:Object.keys(o).map((function(e){return Object(r.jsx)(ae.a,{value:e,children:o[e]},e)}))})}),C>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ie.a,{}),Object(r.jsx)("div",{className:oe.a.dates,children:D.map((function(e,t){var n=e.date,a=e.checked,i=e.reserved,c=e.past,s=e.notAvailable;return Object(r.jsxs)(U.a,{className:de({unchecked:!a,danger:i&&!a}),value:t,disabled:c||s,checked:a,onChange:K,children:[Object(r.jsx)("span",{className:oe.a.date,children:n.format("dd L")}),!s&&!c&&i&&a&&Object(r.jsx)("span",{className:oe.a.extra,children:" Aktuell reserviert"}),!s&&!c&&i&&!a&&Object(r.jsx)("span",{className:oe.a.extra,children:" Wird storniert"}),!s&&c&&Object(r.jsx)("span",{className:oe.a.extra,children:" Bereits vergangen"}),s&&Object(r.jsx)("span",{className:oe.a.extra,children:" Nicht verf\xfcgbar"})]},n)}))}),Object(r.jsxs)("div",{className:oe.a.buttons,children:[Object(r.jsx)(m.a,{icon:Object(r.jsx)(ce.a,{}),onClick:F}),Object(r.jsx)(m.a,{icon:Object(r.jsx)(se.a,{}),onClick:W})]})]})]})]})}var be=n(502),he=n(503),me=n(504),Oe=n(144),xe=n.n(Oe),ve=o.a.bind(xe.a),ge="dd L";function fe(e){var t=e.allowEditName,n=void 0!==t&&t,i=e.courtName,c=e.date,s=e.groupDates,l=e.name,o=e.onNameChange,d=e.showAllDates,u=void 0!==d&&d,j=e.small,b=Object(a.useState)(!1),h=Object(f.a)(b,2),O=h[0],x=h[1],v=c.format(ge);!u&&s&&(v=s.length?s[0].format(ge):"-",s.length>1&&(v+=" bis ".concat(s[s.length-1].format(ge))));var g=Object(a.useMemo)((function(){var e=k()();return null===s||void 0===s?void 0:s.reduce((function(t,n){return n.isBefore(e,"day")?t+1:t}),0)}),[s]),p=Object(a.useMemo)((function(){var e=k()();return null===s||void 0===s?void 0:s.filter((function(t){return!t.isBefore(e,"day")}))}),[s]),_=Object(a.useCallback)((function(e){o(e.target.value)}),[o]),y=Object(a.useCallback)((function(){x(!0),o("")}),[o]),C=Object(a.useCallback)((function(){x(!1),o(null)}),[o]);return Object(r.jsxs)("div",{className:ve({details:!0,small:j}),children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(be.a,{}),"\xa0\xa0",v]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(he.a,{}),"\xa0\xa0","".concat(c.format("H")," bis ").concat(c.add(1,"h").format("H")," Uhr, ").concat(i)]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(me.a,{}),"\xa0\xa0",O?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(q.a,{className:xe.a.userInput,value:l,onChange:_,placeholder:"z.B. Training, ..."}),Object(r.jsx)(m.a,{type:"link",onClick:C,children:"abbrechen"})]}):Object(r.jsxs)(r.Fragment,{children:[l,n&&Object(r.jsx)(m.a,{type:"link",onClick:y,children:"\xe4ndern"})]})]}),u&&(null===s||void 0===s?void 0:s.length)&&Object(r.jsxs)("div",{className:xe.a.allDates,children:[Object(r.jsx)("span",{children:"Wiederkehrender Termin:"}),Object(r.jsxs)("div",{className:xe.a.dateList,children:[g>0&&Object(r.jsxs)("span",{children:[g," vergangene Termine"]}),null===p||void 0===p?void 0:p.map((function(e){return Object(r.jsx)("span",{children:e.format(ge)},e)}))]})]})]})}var pe=n(137),ke=n.n(pe),_e=["M\xfcller","Manuel Neuer","Franz Peter","J\xfcrgen","Tim und Struppi","Gr\xf6nemeyer","Freddie","Manfred M."],ye=[];function Ce(e,t,n,r){var a="".concat(e,"_").concat(t),i=e%2+1,c=3*e%_e.length+1,s=_e[c-1];return{id:a,date:t.add(9*e%14+8,"hour"),userId:c,name:s,customName:r,courtId:i,groupId:n}}function Ne(){for(var e=k()().startOf("week"),t=[3,4,1,7,1,0,2],n=1,r=0;r<4;++r){var a=e.add(r,"day");ye.push(Ce(24,a,n,"4-Tage Event"))}n=2;for(var i=5;i<28;i+=7){var c=e.add(i,"day");ye.push(Ce(94,c,n,"Training"))}for(var s=0;s<28;++s)for(var l=e.add(s,"day"),o=0;o<t[s%7];++o)ye.push(Ce(o+s,l,null,null))}function we(e){var t,n,i=e.date,c=e.courtId,s=e.reservation,l=e.today,o=e.onFinish,d=Object(a.useContext)(_),u=d.courts,j=d.texts,b=j.reservationPrice,h=j.reservationTos,O=null===(t=u.find((function(e){return e.courtId===c})))||void 0===t?void 0:t.name,x=Object(a.useState)(!1),v=Object(f.a)(x,2),g=v[0],p=v[1],k=Object(a.useState)(null),y=Object(f.a)(k,2),C=y[0],N=y[1],w=Object(a.useState)(),I=Object(f.a)(w,2),z=I[0],S=I[1],T=(null===s||void 0===s?void 0:s.name)||"G\xfcnther Jacob",R=null===s||void 0===s?void 0:s.customName,A=(n=null===s||void 0===s?void 0:s.groupId,ye.length||Ne(),Object(a.useMemo)((function(){return ye.filter((function(e){return n&&e.groupId===n}))}),[n])),B=Object(a.useMemo)((function(){return(null===A||void 0===A?void 0:A.length)?A.map((function(e){return e.date})):null}),[A]),P=Object(a.useCallback)((function(e){S(e)}),[]),M=Object(a.useCallback)((function(e){p(e.target.checked)}),[]),D=Object(a.useCallback)((function(e){N(e)}),[]);return Object(r.jsxs)(te.a,{title:"Reservierung",visible:!0,width:600,centered:!0,onCancel:o,onOk:o,footer:Object(r.jsxs)("div",{className:ke.a.footer,children:[Object(r.jsx)(m.a,{onClick:o,children:"Abbrechen"}),s?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(m.a,{type:"danger",children:(null===A||void 0===A?void 0:A.length)?"Alle stornieren":"Stornieren"}),(null===A||void 0===A||A.length,Object(r.jsx)(m.a,{type:"primary",children:"Speichern"}))]}):Object(r.jsx)(m.a,{disabled:h&&!g,type:"primary",children:"Reservieren"})]}),children:[Object(r.jsxs)("div",{className:ke.a.wrapper,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(fe,{allowEditName:true,courtName:O,date:i,groupDates:z||B,name:"string"===typeof C?C:R||T,onNameChange:D,showAllDates:!1}),(!s||A.length>1)&&Object(r.jsx)(je,{courtId:c,date:i,onGroupDatesChange:P,reservations:A,today:l})]}),!s&&Object(r.jsxs)(r.Fragment,{children:[b&&Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Preis"}),Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:b}})]}),h&&Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Nutzungsordnung"}),Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:h}}),Object(r.jsx)(U.a,{checked:g,onChange:M,children:"Ich akzeptiere die Nutzungsordnung."})]})]})]}),!1]})}var Ie=n(204),ze=n.n(Ie);function Se(e){var t,n=e.highlightHour,i=e.kiosk,c=void 0!==i&&i,s=e.selectedDate,l=e.today,o=Object(a.useContext)(Y).user,d=Object(a.useContext)(_),u=d.courts,j=d.visibleHours,b=d.reservationDaysInAdvance,h=Object(a.useState)(),m=Object(f.a)(h,2),O=m[0],x=m[1],v=Object(a.useRef)(),g=(t=s,ye.length||Ne(),Object(a.useMemo)((function(){return ye.filter((function(e){return t&&e.date.isSame(t,"week")}))}),[t])),p=Object(a.useMemo)((function(){for(var e=[],t=parseInt(j[0]);t<parseInt(j[1]);++t)e.push(t);return e}),[j]),k=Object(a.useMemo)((function(){return Array.from(Array(7)).map((function(e,t){return s.startOf("week").add(t,"day")}))}),[s]);Object(a.useEffect)((function(){if(s.isSame(l,"week")){var e=Math.abs(l.startOf("week").diff(l,"day"));requestAnimationFrame((function(){v.current.scrollLeft=v.current.scrollWidth/7*e}))}}),[s,l]);var y=Object(a.useCallback)((function(e){c||x(e)}),[c]),C=Object(a.useCallback)((function(){x(null)}),[]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:ze.a.tableWrapper,children:[Object(r.jsx)(Z,{hours:p,highlightHour:n}),Object(r.jsx)("div",{className:ze.a.tableScroller,ref:v,children:k.map((function(e){return Object(r.jsx)(W,{date:e,today:l,courts:u,hours:p,reservations:g,onSlotClick:y,reservationDaysInAdvance:b},e)}))})]}),O&&(o?Object(r.jsx)(we,{date:null===O||void 0===O?void 0:O.date,courtId:null===O||void 0===O?void 0:O.courtId,reservation:null===O||void 0===O?void 0:O.reservation,today:l,onFinish:C}):Object(r.jsx)(ne,{onClose:C}))]})}var Te=n(253),Re=n.n(Te),Ae=n(184),Be=n.n(Ae);function Pe(e){var t=e.bgColor,n=Object(a.useContext)(_).url;return Object(r.jsxs)("div",{className:Be.a.wrapper,children:[Object(r.jsx)("div",{className:Be.a.qr,children:Object(r.jsx)(Re.a,{value:n,size:150,bgColor:t})}),Object(r.jsx)("div",{className:Be.a.plain,children:n.replace(/(http|https):\/\//,"")})]})}var Me=n(87),De=n.n(Me);function Ee(e){var t=Object(a.useState)((function(){return k()()})),n=Object(f.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){var t=setInterval((function(){var t=k()();r.isSame(t,e)||i(t)}),6e4);return function(){return clearInterval(t)}}),[r,e]),r}function Fe(){var e=Object(a.useContext)(_),t=e.announcement,n=e.courts,i=e.orgName,c=Ee("hour");return Object(r.jsxs)("div",{className:De.a.wrapper,children:[Object(r.jsxs)("div",{className:De.a.top,children:[Object(r.jsxs)("div",{className:De.a.title,children:[Object(r.jsx)("div",{className:De.a.orgName,children:i}),Object(r.jsx)("div",{className:De.a.subTitle,children:"Reservierungssystem"})]}),Object(r.jsx)(T,{}),Object(r.jsx)("div",{className:De.a.linkQr,children:Object(r.jsx)(Pe,{bgColor:"#f0f2f5"})})]}),t&&Object(r.jsx)("div",{className:De.a.alert,children:Object(r.jsx)(I.a,{message:t,type:"info",showIcon:!0})}),n.map((function(e){var t=e.courtId,n=e.name,a=e.disabled,i=e.disabledFromTil,c=e.disabledReason;return a&&Object(r.jsx)("div",{className:De.a.alert,children:Object(r.jsx)(I.a,{message:"".concat(n," ist gesperrt ab ").concat(i[0].format("dd L")).concat(i[1]?i[1].format("[ bis] dd L"):"").concat(c?": ".concat(c):""),type:"warning",showIcon:!0})},t)})),Object(r.jsx)(Se,{highlightHour:c.hour(),kiosk:!0,selectedDate:c,today:c})]})}var We=n(483),Le=n(488),He=n(490),Ke=n(505),Ze=n(506),Ge=n(507),qe=n(103),Ue=n(205),Ve=n.n(Ue),Je=o.a.bind(Ve.a);function Ye(e){var t=e.horizontal,n=void 0!==t&&t,i=e.onClick,c=Object(a.useContext)(Y).user,l=Object(s.h)().pathname,o=Object(s.g)(),d=Object(a.useCallback)((function(e){var t=e.key;i&&i(t),l!==t&&o.push(t)}),[o,l,i]),u=Object(a.useCallback)((function(){d({key:"/login"})}),[d]),j=Object(a.useCallback)((function(){d({key:"/register"})}),[d]),b=Object(a.useCallback)((function(){d({key:"/logout"})}),[d]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(qe.a,{className:Je({menu:!0,horizontal:n}),mode:n?"horizontal":"inline",theme:"light",selectedKeys:[l],onClick:d,children:[Object(r.jsx)(qe.a.Item,{icon:Object(r.jsx)(be.a,{}),children:"Reservierungskalender"},"/"),c&&Object(r.jsx)(qe.a.Item,{icon:Object(r.jsx)(Ke.a,{}),children:"Meine Reservierungen"},"/myreservations"),Object(r.jsx)(qe.a.Item,{icon:Object(r.jsx)(Ze.a,{}),children:"Hinweise"},"/info"),(null===c||void 0===c?void 0:c.admin)&&Object(r.jsxs)(qe.a.SubMenu,{title:"Verwaltung",icon:Object(r.jsx)(Ge.a,{}),children:[Object(r.jsx)(qe.a.Item,{children:"Allgemein"},"/admin/general"),Object(r.jsx)(qe.a.Item,{children:"Statistiken"},"/admin/stats"),Object(r.jsx)(qe.a.Item,{children:"Nutzerverwaltung"},"/admin/users"),Object(r.jsx)(qe.a.Item,{children:"Textbausteine"},"/admin/texts")]},"/admin"),Object(r.jsx)("span",{className:Ve.a.stretch},"stretch"),c&&Object(r.jsx)(qe.a.Item,{icon:Object(r.jsx)(me.a,{}),children:"Mein Benutzerkonto"},"/myaccount")]}),c&&Object(r.jsx)(m.a,{className:Je({menuButton:!0,horizontal:n}),onClick:b,children:"Abmelden"}),!c&&Object(r.jsx)(m.a,{className:Je({menuButton:!0,horizontal:n}),onClick:u,children:"Anmelden"}),!c&&Object(r.jsx)(m.a,{className:Je({menuButton:!0,horizontal:n}),type:"primary",onClick:j,children:"Kostenlos Registrieren"})]})}var Qe=n(508),Xe=n(104),$e=n.n(Xe);function et(){var e=Object(a.useContext)(_).orgName,t=Object(a.useState)(!1),n=Object(f.a)(t,2),i=n[0],c=n[1],s=Object(a.useCallback)((function(){return c(!0)}),[]),l=Object(a.useCallback)((function(){return c(!1)}),[]);return Object(r.jsxs)(We.a.Header,{className:$e.a.header,children:[Object(r.jsxs)("div",{className:$e.a.title,children:[Object(r.jsx)("div",{className:$e.a.orgName,children:e}),Object(r.jsx)(Le.a.Text,{type:"secondary",children:"Reservierungssystem"})]}),Object(r.jsx)("div",{className:$e.a.horizontalMenuWrapper,children:Object(r.jsx)(Ye,{horizontal:!0})}),Object(r.jsxs)("div",{className:$e.a.drawerMenuWrapper,children:[Object(r.jsx)(m.a,{type:"text",icon:Object(r.jsx)(Qe.a,{}),onClick:s}),Object(r.jsx)(He.a,{title:"".concat(e,"\nReservierungssystem"),visible:i,width:300,className:$e.a.drawer,onClose:l,children:Object(r.jsx)(Ye,{onClick:l})})]})]})}var tt=n(509),nt=n(510),rt=n(259),at=n.n(rt),it=n(286),ct=Object(it.b)(at.a),st=n(96),lt=n.n(st);function ot(e){var t=e.date,n=e.onChange,i=Object(a.useState)(!1),c=Object(f.a)(i,2),s=c[0],l=c[1],o=Object(a.useCallback)((function(){l(!0)}),[]),d=Object(a.useCallback)((function(e){n(t.subtract(7,"days")),l(!1)}),[t,n]),u=Object(a.useCallback)((function(e){n(t.add(7,"days")),l(!1)}),[t,n]),j=Object(a.useCallback)((function(e){n(k()()),l(!1)}),[n]),b=Object(a.useCallback)((function(e){n(e),l(!1)}),[n]),h=Object(a.useCallback)((function(e){l(e)}),[]);return Object(r.jsxs)("div",{className:lt.a.wrapper,children:[Object(r.jsxs)("div",{className:lt.a.middlePicker,children:[Object(r.jsx)(ct,{className:lt.a.picker,picker:"week",open:s,inputReadOnly:!0,allowClear:!1,bordered:!0,value:t,onOpenChange:h,format:"[Kalenderwoche] w (YYYY)",onClick:o,onChange:b,panelRender:function(e){return Object(r.jsx)("div",{className:lt.a.pickerPanel,children:e})},renderExtraFooter:function(){return Object(r.jsx)(m.a,{onClick:j,type:"link",children:"Diese Woche"})}}),Object(r.jsx)(m.a,{className:lt.a.outerThisWeekButton,onClick:j,type:"link",children:"Zu Heute springen"})]}),Object(r.jsxs)(m.a,{className:lt.a.leftButton,onClick:d,children:[Object(r.jsx)(tt.a,{}),"Vorherige Woche"]}),Object(r.jsxs)(m.a,{className:lt.a.rightButton,onClick:u,children:["N\xe4chste Woche",Object(r.jsx)(nt.a,{})]})]})}var dt=n(185),ut=n.n(dt);function jt(){var e=Object(a.useContext)(_),t=e.announcement,n=e.courts,i=Ee("day"),c=Object(a.useState)(null),s=Object(f.a)(c,2),l=s[0],o=s[1],d=Object(a.useCallback)((function(e){o(e)}),[]);return Object(r.jsxs)("div",{className:ut.a.wrapper,children:[t&&Object(r.jsx)("div",{className:ut.a.alert,children:Object(r.jsx)(I.a,{message:t,type:"info",showIcon:!0})}),n.map((function(e){var t=e.courtId,n=e.name,a=e.disabled,i=e.disabledFromTil,c=e.disabledReason;return a&&Object(r.jsx)("div",{className:ut.a.alert,children:Object(r.jsx)(I.a,{message:"".concat(n," ist gesperrt ab ").concat(i[0].format("dd L")).concat(i[1]?i[1].format("[ bis] dd L"):"").concat(c?": ".concat(c):""),type:"warning",showIcon:!0})},t)})),Object(r.jsx)(ot,{date:l||i,onChange:d}),Object(r.jsx)(Se,{selectedDate:l||i,today:i})]})}var bt=n(496);function ht(){var e=Object(a.useContext)(_).announcement,t=Object(a.useState)(),n=Object(f.a)(t,2),i=n[0],c=n[1],s=G.a.useForm(),l=Object(f.a)(s,1)[0],o=Object(a.useCallback)((function(){l.resetFields(),c(!!e)}),[l,e]);Object(a.useEffect)((function(){o()}),[o,e]);var d=Object(a.useCallback)((function(e){c(e.target.checked)}),[]);return Object(r.jsxs)(G.a,{form:l,layout:"vertical",onFinish:function(e){console.log("Success:",e)},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(r.jsx)(G.a.Item,{name:"announcement",label:Object(r.jsx)(U.a,{checked:i,onChange:d,children:"Ank\xfcndigung ver\xf6ffentlichen"}),initialValue:e,children:Object(r.jsx)(q.a.TextArea,{disabled:!i})}),Object(r.jsx)(G.a.Item,{children:Object(r.jsxs)(bt.b,{children:[Object(r.jsx)(m.a,{type:"primary",htmlType:"submit",children:"Speichern"}),Object(r.jsx)(m.a,{type:"default",onClick:o,children:"Zur\xfccksetzen"})]})})]})}var mt=n(54),Ot=n(511),xt=n(512),vt=n(513),gt=n(206),ft=n.n(gt);function pt(){var e=Object(a.useContext)(_).courts,t=Object(a.useState)(),n=Object(f.a)(t,2)[1],i=G.a.useForm(),c=Object(f.a)(i,1)[0],s=Object(a.useMemo)((function(){return{courts:e}}),[e]),l=Object(a.useCallback)((function(){return c.resetFields()}),[c]);Object(a.useEffect)((function(){c.resetFields()}),[c,e]);var o=Object(a.useCallback)((function(){for(var t=c.getFieldValue("courts")||[],n=0,r=0,a=[].concat(Object(re.a)(e),Object(re.a)(t));r<a.length;r++){var i=a[r];n=Math.max(i.courtId,n)}return n+1}),[e,c]);return Object(r.jsxs)(G.a,{form:c,initialValues:s,layout:"vertical",onFinish:function(e){console.log("Success:",e)},autoComplete:"off",children:[Object(r.jsx)(G.a.List,{name:"courts",children:function(e,t){var i=t.add,s=t.remove,l=t.move;return Object(r.jsxs)(r.Fragment,{children:[e.map((function(e,t){return Object(r.jsxs)("div",{className:ft.a.court,children:[Object(r.jsxs)(bt.b,{children:[Object(a.createElement)(G.a.Item,Object(mt.a)(Object(mt.a)({},e),{},{key:"courtId",label:"ID",name:[e.name,"courtId"],fieldKey:[e.fieldKey,"courtId"]}),Object(r.jsx)(q.a,{disabled:!0,bordered:!1,className:ft.a.courtIdInput})),Object(a.createElement)(G.a.Item,Object(mt.a)(Object(mt.a)({},e),{},{key:"name",label:"Name",name:[e.name,"name"],fieldKey:[e.fieldKey,"name"],rules:[{required:!0,message:"Name erforderlich"}]}),Object(r.jsx)(q.a,{placeholder:"z.B.: Platz 1"})),Object(r.jsx)(G.a.Item,{label:"Aktionen",children:Object(r.jsxs)(bt.b,{children:[Object(r.jsx)(m.a,{onClick:function(){return l(t,t-1)},icon:Object(r.jsx)(Ot.a,{})}),Object(r.jsx)(m.a,{onClick:function(){return l(t,t+1)},icon:Object(r.jsx)(xt.a,{})}),Object(r.jsx)(m.a,{onClick:function(){return s(e.name)},danger:!0,icon:Object(r.jsx)(vt.a,{})})]})})]}),Object(r.jsx)(bt.b,{children:Object(a.createElement)(G.a.Item,Object(mt.a)(Object(mt.a)({},e),{},{key:"disabled",name:[e.name,"disabled"],fieldKey:[e.fieldKey,"disabled"],valuePropName:"checked"}),Object(r.jsx)(U.a,{onChange:n,children:"Sperren?"}))}),c.getFieldValue(["courts",e.name,"disabled"])&&Object(r.jsxs)(bt.b,{children:[Object(a.createElement)(G.a.Item,Object(mt.a)(Object(mt.a)({},e),{},{key:"disabledFromTil",label:"Zeitraum der Sperrung",name:[e.name,"disabledFromTil"],fieldKey:[e.fieldKey,"disabledFromTil"]}),Object(r.jsx)(ct.RangePicker,{})),Object(a.createElement)(G.a.Item,Object(mt.a)(Object(mt.a)({},e),{},{key:"disabledReason",label:"Grund f\xfcr Sperrung",name:[e.name,"disabledReason"],fieldKey:[e.fieldKey,"disabledReason"]}),Object(r.jsx)(q.a,{placeholder:"z.B.: Arbeiten"}))]})]},e.key)})),Object(r.jsx)(G.a.Item,{children:Object(r.jsx)(m.a,{type:"dashed",onClick:function(){return i({courtId:o()})},block:!0,icon:Object(r.jsx)(ce.a,{}),children:"Platz anlegen"})},"add")]})}}),Object(r.jsx)(G.a.Item,{children:Object(r.jsxs)(bt.b,{children:[Object(r.jsx)(m.a,{type:"primary",htmlType:"submit",children:"Speichern"}),Object(r.jsx)(m.a,{type:"default",onClick:l,children:"Zur\xfccksetzen"})]})})]})}var kt=n(494),_t=n(485),yt=Array.from(Array(24)).reduce((function(e,t,n){return e[n]=n,e}),{});function Ct(){var e=Object(a.useContext)(_),t=G.a.useForm(),n=Object(f.a)(t,1)[0],i=Object(a.useCallback)((function(){return n.resetFields()}),[n]);Object(a.useEffect)((function(){n.resetFields()}),[n,e]);return Object(r.jsxs)(G.a,{form:n,layout:"vertical",initialValues:e,onFinish:function(e){console.log("Success:",e)},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(r.jsx)(G.a.Item,{name:"url",label:"URL des Reservierungssystems",rules:[{required:!0,message:"URL ist erforderlich"}],children:Object(r.jsx)(q.a,{})}),Object(r.jsx)(G.a.Item,{name:"orgName",label:"Vereinsname",rules:[{required:!0,message:"Vereinsname ist erforderlich"}],children:Object(r.jsx)(q.a,{})}),Object(r.jsx)(G.a.Item,{name:"serverMail",label:"E-Mail Adresse, die zum Senden benutzt wird",rules:[{type:"email",message:"Beispiel: mustermann@web.de"},{required:!0,message:"E-Mail Adresse ist erforderlich"}],children:Object(r.jsx)(q.a,{})}),Object(r.jsx)(G.a.Item,{name:"reservationDaysInAdvance",label:"Anzahl der Tage, die Pl\xe4tze im voraus reservierbar sind",rules:[{required:!0,message:"Angabe ist erforderlich"}],children:Object(r.jsx)(kt.a,{min:1,max:1825})}),Object(r.jsx)(G.a.Item,{name:"reservationMaxActiveCount",label:"Maximale Anzahl an offenen Reservierungen, die ein Nutzer t\xe4tigen darf",rules:[{required:!0,message:"Angabe ist erforderlich"}],children:Object(r.jsx)(kt.a,{min:1})}),Object(r.jsx)(G.a.Item,{name:"visibleHours",label:"Angezeigte Uhrzeiten im Kalender",rules:[{required:!0,message:"Angabe ist erforderlich"}],children:Object(r.jsx)(_t.a,{marks:yt,range:!0,min:0,max:23})}),Object(r.jsx)(G.a.Item,{children:Object(r.jsxs)(bt.b,{children:[Object(r.jsx)(m.a,{type:"primary",htmlType:"submit",children:"Speichern"}),Object(r.jsx)(m.a,{type:"default",onClick:i,children:"Zur\xfccksetzen"})]})})]})}var Nt=n(262),wt=n.n(Nt);function It(){return Object(r.jsxs)("div",{className:wt.a.wrapper,children:[Object(r.jsx)("h1",{children:"Ank\xfcndigung"}),Object(r.jsx)(ht,{}),Object(r.jsx)(ie.a,{}),Object(r.jsx)("h1",{children:"Platzverwaltung"}),Object(r.jsx)(Le.a.Text,{children:"Die Reihenfolge gibt die Darstellung im Reservierungskalender vor."}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(pt,{}),Object(r.jsx)(ie.a,{}),Object(r.jsx)("h1",{children:"Basiseinstellungen"}),Object(r.jsx)(Ct,{})]})}var zt=n(263),St=n.n(zt);function Tt(){var e=Object(a.useContext)(_).texts.infoPage;return Object(r.jsx)("div",{className:St.a.wrapper,children:Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})})}var Rt=n(264),At=n.n(Rt);function Bt(){var e=Object(a.useContext)(_).texts.legalPrivacy;return Object(r.jsx)("div",{className:At.a.wrapper,children:Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})})}var Pt=n(207),Mt=n.n(Pt);function Dt(){var e=Object(a.useContext)(Y).user,t=Object(s.h)(),n=Object(s.g)();return Object(a.useEffect)((function(){if(e){var r=(t.state||{from:{pathname:"/"}}).from;n.replace(r)}}),[n,t,e]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:Mt.a.cta,children:Object(r.jsx)(I.a,{type:"info",message:Object(r.jsxs)("span",{children:["Sie haben noch keinen Account? ",Object(r.jsx)(c.b,{to:"/register",children:"Jetzt\xa0Registrieren!"})]})})}),Object(r.jsxs)("div",{className:Mt.a.wrapper,children:[Object(r.jsx)("h1",{children:"Anmelden"}),Object(r.jsx)(ee,{})]})]})}var Et=n(492),Ft=n(208),Wt=n.n(Ft);function Lt(){var e=Object(a.useContext)(Y).logout,t=Object(s.g)();Object(a.useEffect)((function(){return e()}),[e]);var n=Object(a.useCallback)((function(){t.push("/login")}),[t]),i=Object(a.useCallback)((function(){t.push("/")}),[t]);return Object(r.jsx)("div",{className:Wt.a.wrapper,children:Object(r.jsx)(Et.a,{status:"success",title:"Erfolgreich abgemeldet",extra:Object(r.jsxs)("div",{className:Wt.a.buttons,children:[Object(r.jsx)(m.a,{type:"primary",onClick:i,children:"Zur\xfcck zum Kalender"}),Object(r.jsx)(m.a,{onClick:n,children:"Erneut Anmelden"})]})})})}var Ht=n(266),Kt=n.n(Ht);function Zt(e){var t=e.newUser,n=e.currentName,i=e.currentMail,c=e.reset,s=Object(a.useContext)(_).texts.systemTos,l=G.a.useForm(),o=Object(f.a)(l,1)[0],d=Object(a.useCallback)((function(){return o.resetFields()}),[o]);Object(a.useEffect)((function(){o.resetFields()}),[o,n,i]);return Object(r.jsxs)(G.a,{form:o,className:Kt.a.form,layout:"vertical",onFinish:function(e){console.log("Success:",e)},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(r.jsx)(G.a.Item,{label:"Anzeigename",name:"name",initialValue:n,rules:[{required:!0,message:"Der Anzeigename darf nicht leer sein"},{pattern:/^[\u00c0-\u017eA-Za-z0-9]{1}[\u00c0-\u017eA-Za-z0-9\s]{3,18}[\u00c0-\u017eA-Za-z0-9]{1}$/,message:"Zwischen 5 und 20 Zeichen bestehend aus: Buchstaben, Zahlen & Leertaste (nicht Anfang / Ende)"}],children:Object(r.jsx)(q.a,{})}),Object(r.jsx)(G.a.Item,{name:"email",label:"E-Mail",initialValue:i,rules:[{type:"email",message:"Beispiel: mustermann@web.de"},{required:!0,message:"E-Mail Adresse ist erforderlich"}],children:Object(r.jsx)(q.a,{})}),Object(r.jsx)(G.a.Item,{label:t?"Passwort":"Neues Passwort",name:"password",rules:[{required:!0,validator:function(e,n){return(null===n||void 0===n?void 0:n.length)>0&&(null===n||void 0===n?void 0:n.length)<8||t&&!n?Promise.reject("Mindestens 8 Zeichen erforderlich"):Promise.resolve()}}],children:Object(r.jsx)(q.a.Password,{placeholder:t?"Mind. 8 Zeichen":"Nicht \xe4ndern"})}),Object(r.jsx)(G.a.Item,{label:"Passwort best\xe4tigen",name:"password-confirm",dependencies:["password"],rules:[function(e){var t=e.getFieldValue;return{required:!0,validator:function(e,n){return t("password")===n?Promise.resolve():Promise.reject("Passw\xf6rter stimmen nicht \xfcberein!")}}}],children:Object(r.jsx)(q.a.Password,{placeholder:t?"Mind. 8 Zeichen":"Nicht \xe4ndern"})}),t&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Nutzungsbedingungen"}),Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:s}})]}),Object(r.jsx)(G.a.Item,{name:"tos-accept",valuePropName:"checked",rules:[{validator:function(e,t){return t?Promise.resolve():Promise.reject("Erforderlich")}}],children:Object(r.jsx)(U.a,{children:"Ich akzeptiere die Nutzungsbedingungen"})})]}),Object(r.jsx)(G.a.Item,{children:Object(r.jsxs)(bt.b,{children:[Object(r.jsx)(m.a,{type:"primary",htmlType:"submit",children:t?"Registrieren":"Speichern"}),c&&Object(r.jsx)(m.a,{type:"default",onClick:d,children:"Zur\xfccksetzen"})]})})]})}var Gt=n(186),qt=n.n(Gt);function Ut(){var e=Object(a.useContext)(Y).user,t=e.name,n=e.mail;return Object(r.jsxs)("div",{className:qt.a.wrapper,children:[Object(r.jsx)("h1",{children:"Benutzerkonto"}),Object(r.jsx)(Zt,{currentMail:n,currentName:t,reset:!0}),Object(r.jsx)(ie.a,{}),Object(r.jsx)("h1",{children:"Datenschutz"}),Object(r.jsxs)("div",{className:qt.a.buttonWrapper,children:[Object(r.jsx)(m.a,{children:"Datenauskunft anfordern"}),Object(r.jsx)("div",{children:"Sie erhalten eine Mail mit einer \xdcbersicht \xfcber alle Ihre gespeicherten Daten."})]}),Object(r.jsxs)("div",{className:qt.a.buttonWrapper,children:[Object(r.jsx)(m.a,{children:"Alle Daten l\xf6schen"}),Object(r.jsx)(Le.a.Text,{type:"danger",children:"Diese Aktion kann nicht r\xfcckg\xe4ngig gemacht werden."}),Object(r.jsx)("div",{children:"Es werden alle Ihre Daten (Reservierungen und Benutzerkonto) endg\xfcltig gel\xf6scht."})]})]})}var Vt=n(85),Jt=n(514),Yt=n(209),Qt=n.n(Yt);function Xt(e){var t,n=e.groupDates,i=e.reservation,c=e.onEditClick,s=Object(a.useContext)(_).courts,l=i.date,o=i.courtId,d=i.name,u=i.customName,j=null===(t=s.find((function(e){return e.courtId===o})))||void 0===t?void 0:t.name,b=Object(a.useCallback)((function(){c(i)}),[i,c]);return Object(r.jsxs)("div",{className:Qt.a.card,children:[Object(r.jsxs)(m.a,{className:Qt.a.editButton,type:"primary",onClick:b,children:[Object(r.jsx)(Jt.a,{})," | ",Object(r.jsx)(vt.a,{})]}),Object(r.jsx)(fe,{small:!0,date:l,courtName:j,groupDates:n,name:u||d,showAllDates:!0})]})}var $t=n(126),en=n.n($t);function tn(e,t){return(null===t||void 0===t?void 0:t.groupId)?e.filter((function(e){return e.groupId===t.groupId})).map((function(e){return e.date})):null}function nn(){var e=Object(a.useContext)(Y).user.userId,t=Ee("day"),n=Object(a.useState)(),i=Object(f.a)(n,2),c=i[0],s=i[1],l=function(e,t){return ye.length||Ne(),Object(a.useMemo)((function(){var n=ye.filter((function(n){return n.userId===t&&n.date.isSameOrAfter(e,"day")}));return n.sort((function(e,t){return e.date.valueOf()-t.date.valueOf()})),n}),[e,t])}(t,e),o=Object(a.useCallback)((function(e){s(e)}),[]),d=Object(a.useCallback)((function(){s(null)}),[]);return Object(r.jsxs)("div",{className:en.a.wrapper,children:[!(null===l||void 0===l?void 0:l.length)&&Object(r.jsx)("div",{className:en.a.content,children:Object(r.jsx)(Vt.a,{className:en.a.empty,description:"Keine Reservierungen"})}),(null===l||void 0===l?void 0:l.length)>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"N\xe4chster Termin"}),Object(r.jsx)("div",{className:en.a.content,children:Object(r.jsx)(Xt,{reservation:l[0],groupDates:tn(l,l[0]),onEditClick:o},l[0].id)})]}),(null===l||void 0===l?void 0:l.length)>1&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"Weitere Termine"}),Object(r.jsx)("div",{className:en.a.content,children:l.map((function(e,t){return 0===t?null:Object(r.jsx)(Xt,{reservation:e,groupDates:tn(l,e),onEditClick:o},e.id)}))})]}),c&&Object(r.jsx)(we,{date:null===c||void 0===c?void 0:c.date,courtId:null===c||void 0===c?void 0:c.courtId,reservation:c,onFinish:d})]})}var rn=n(181);function an(e){var t=e.condition,n=e.children,a=Object(rn.a)(e,["condition","children"]);return Object(r.jsx)(s.b,Object(mt.a)(Object(mt.a)({},a),{},{render:function(e){var a=e.location;return t?n:Object(r.jsx)(s.a,{to:{pathname:"/login",state:{from:a}}})}}))}var cn=n(210),sn=n.n(cn);function ln(){return Object(r.jsxs)("div",{className:sn.a.wrapper,children:[Object(r.jsxs)("h1",{children:["Registrieren",Object(r.jsxs)("div",{className:sn.a.loginItem,children:[Object(r.jsx)("span",{children:"Bereits registriert? "}),Object(r.jsx)(c.b,{to:"/login",children:"Anmelden"})]})]}),Object(r.jsx)(Zt,{newUser:!0})]})}var on=n(128),dn=n(78),un=n(487),jn=n(495),bn=n(497),hn=n(127),mn=n.n(hn);function On(){var e=Object(a.useState)(30),t=Object(f.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)({perPage:[["/",62],["/myreservations",42],["/myaccount",6]],browser:[["Chrome",62]],os:[["Android",20],["Windows 10",19],["Mac OS",18]],referrer:[["google",20]]}),s=Object(f.a)(c,2),l=s[0],o=(s[1],Object(a.useCallback)((function(e){i(e.target.value)}),[]));return Object(r.jsxs)("div",{className:mn.a.wrapper,children:[Object(r.jsxs)(on.a,{gutter:[16,16],align:"middle",justify:"space-between",children:[Object(r.jsx)(dn.a,{children:Object(r.jsx)("h1",{children:"Nutzungstatistiken"})}),Object(r.jsx)(dn.a,{children:Object(r.jsxs)(ae.a.Group,{onChange:o,value:n,buttonStyle:"solid",children:[Object(r.jsx)(ae.a.Button,{value:7,children:"7 Tage"}),Object(r.jsx)(ae.a.Button,{value:30,children:"30 Tage"}),Object(r.jsx)(ae.a.Button,{value:365,children:"1 Jahr"}),Object(r.jsx)(ae.a.Button,{value:0,children:"Alle"})]})})]}),Object(r.jsx)("br",{}),Object(r.jsxs)(on.a,{gutter:[16,16],children:[Object(r.jsx)(dn.a,{xs:12,md:8,children:Object(r.jsx)(un.a,{title:"Neue Reservierungen",value:234})}),Object(r.jsx)(dn.a,{xs:12,md:8,children:Object(r.jsx)(un.a,{title:"Stornierte Reservierungen",value:6})}),Object(r.jsx)(dn.a,{xs:12,md:8,children:Object(r.jsx)(un.a,{title:"Gesamte Reservierungen",value:82,suffix:" in Zeitraum"})}),Object(r.jsx)(dn.a,{xs:12,md:8,children:Object(r.jsx)(un.a,{title:"Seitenaufrufe",value:1234})}),Object(r.jsx)(dn.a,{xs:12,md:8,children:Object(r.jsx)(un.a,{title:"Besucher",value:123,prefix:"\xb1"})}),Object(r.jsx)(dn.a,{xs:12,md:8,children:Object(r.jsx)(un.a,{title:"Anteil Mobilger\xe4te",value:24,suffix:"%"})})]}),Object(r.jsxs)(on.a,{gutter:[16,16],children:[Object(r.jsx)(dn.a,{xs:24,md:12,children:Object(r.jsx)(jn.a,{title:Object(r.jsx)("h3",{children:"Pro Seite"}),bordered:!0,children:Object(r.jsx)(bn.b,{children:l.perPage.map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];return Object(r.jsxs)(bn.b.Item,{children:[Object(r.jsx)("span",{children:n}),Object(r.jsx)("span",{className:mn.a.spacer}),Object(r.jsxs)("span",{children:[a," Aufrufe"]})]},n)}))})})}),Object(r.jsx)(dn.a,{xs:24,md:12,children:Object(r.jsx)(jn.a,{title:Object(r.jsx)("h3",{children:"Referrer"}),bordered:!0,children:Object(r.jsx)(bn.b,{children:l.referrer.map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];return Object(r.jsxs)(bn.b.Item,{children:[Object(r.jsx)("span",{children:n}),Object(r.jsx)("span",{className:mn.a.spacer}),Object(r.jsxs)("span",{children:[a," Benutzer"]})]},n)}))})})}),Object(r.jsx)(dn.a,{xs:24,md:12,children:Object(r.jsx)(jn.a,{title:Object(r.jsx)("h3",{children:"Browser"}),bordered:!0,children:Object(r.jsx)(bn.b,{children:l.browser.map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];return Object(r.jsxs)(bn.b.Item,{children:[Object(r.jsx)("span",{children:n}),Object(r.jsx)("span",{className:mn.a.spacer}),Object(r.jsxs)("span",{children:[a," Benutzer"]})]},n)}))})})}),Object(r.jsx)(dn.a,{xs:24,md:12,children:Object(r.jsx)(jn.a,{title:Object(r.jsx)("h3",{children:"Betriebssysteme"}),bordered:!0,children:Object(r.jsx)(bn.b,{children:l.os.map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];return Object(r.jsxs)(bn.b.Item,{children:[Object(r.jsx)("span",{children:n}),Object(r.jsx)("span",{className:mn.a.spacer}),Object(r.jsxs)("span",{children:[a," Benutzer"]})]},n)}))})})})]})]})}var xn=n(212),vn=n(52),gn=n(145),fn=n.n(gn),pn=n(274);function kn(e,t,n,a){return i.displayName=e.replace(/\s/g,""),Object(pn.withEditorContext)(i);function i(i){var c=i.selection,s=Object(rn.a)(i,["selection"]),l=!1;return"string"===typeof n&&(l=!!c&&document.queryCommandState(n)),Object(r.jsx)(vn.j,Object(mt.a)(Object(mt.a)({title:e},s),{},{onMouseDown:function(){"function"===typeof n?n(c):a?document.execCommand(n,!1,a):document.execCommand(n)},active:l,children:t}))}}var _n=kn("H1","\ud835\udddb1","formatBlock","H1"),yn=kn("H2","\ud835\udddb2","formatBlock","H2"),Cn=kn("Block","Block","formatBlock","div"),Nn=kn("Absatz","Absatz","formatBlock","p");function wn(e){var t=e.value,n=e.onChange,i=Object(a.useState)(!1),c=Object(f.a)(i,2),s=c[0],l=c[1],o=Object(a.useCallback)((function(e){n(e.target.value)}),[n]),d=Object(a.useMemo)((function(){var e=s?"HTML ausblenden":"HTML-Editor";return kn(e,e,(function(){l(!s)}))}),[s]);return Object(r.jsxs)("div",{children:[Object(r.jsx)(vn.k,{value:t||"",onChange:o,children:Object(r.jsxs)(vn.m,{className:fn.a.toolbar,children:[Object(r.jsx)(vn.i,{}),Object(r.jsx)(vn.g,{}),Object(r.jsx)(vn.l,{}),Object(r.jsx)(vn.a,{}),Object(r.jsx)(vn.d,{}),Object(r.jsx)(vn.h,{}),Object(r.jsx)(vn.l,{}),Object(r.jsx)(vn.f,{}),Object(r.jsx)(vn.b,{}),Object(r.jsx)(vn.l,{}),Object(r.jsx)(vn.e,{}),Object(r.jsx)(vn.c,{}),Object(r.jsx)(vn.l,{}),Object(r.jsx)(Cn,{className:fn.a.varWidth}),Object(r.jsx)(Nn,{className:fn.a.varWidth}),Object(r.jsx)(_n,{}),Object(r.jsx)(yn,{}),Object(r.jsx)(vn.l,{}),Object(r.jsx)(d,{className:fn.a.varWidth})]})}),s&&Object(r.jsx)(q.a.TextArea,{value:t||"",onChange:o,autoSize:!0})]})}var In=n(275),zn=n.n(In),Sn={display:"flex"};function Tn(e){var t=e.textKey,n=e.mailKey,i=e.extra,c=e.replacements,s=Object(a.useContext)(_),l=s.texts,o=s.mailTemplates,d=Object(a.useState)(),u=Object(f.a)(d,2),j=u[0],b=u[1],h=Object(a.useState)(),O=Object(f.a)(h,2),x=O[0],v=O[1],g=Object(a.useCallback)((function(){b((function(e){return v((function(t){var n=e.match(/<.*?>([^<>]+)<.*?>/gim)?e:"";return console.log("save",{value:n,subject:t}),t})),e}))}),[]),p=Object(a.useCallback)((function(){if(n){var e=o[n]||{},r=e.body,a=e.subject;b(r),v(a)}else t&&b(l[t])}),[l,o,t,n]);Object(a.useEffect)((function(){p()}),[p,l,o]);var k=Object(a.useCallback)((function(e){v(e.target.value)}),[]);return Object(r.jsxs)(bt.b,{direction:"vertical",style:Sn,children:[n&&Object(r.jsx)(q.a,{addonBefore:"Betreff:",value:x,onChange:k}),Object(r.jsx)(wn,{value:j,onChange:b}),c&&Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Automatische Ersetzungen"}),Object(r.jsx)("ul",{children:c.map((function(e){var t=e.key,n=e.description;return Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:zn.a.key,children:t})," - ",Object(r.jsx)("span",{children:n})]},t)}))})]}),Object(r.jsx)("div",{children:i}),Object(r.jsxs)(bt.b,{children:[Object(r.jsx)(m.a,{type:"primary",onClick:g,children:"Speichern"}),Object(r.jsx)(m.a,{onClick:p,children:"Zur\xfccksetzen"})]})]})}var Rn=n(97),An=n.n(Rn);function Bn(){return Object(r.jsx)("div",{className:An.a.wrapper,children:Object(r.jsxs)(xn.a,{className:An.a.tabs,type:"card",children:[Object(r.jsx)(xn.a.TabPane,{tab:"Hinweis-Seite",children:Object(r.jsx)("div",{className:An.a.content,children:Object(r.jsx)(Tn,{textKey:"infoPage"})})},"2"),Object(r.jsx)(xn.a.TabPane,{tab:"Impressum / Datenschutz",children:Object(r.jsx)("div",{className:An.a.content,children:Object(r.jsx)(Tn,{textKey:"legalPrivacy",extra:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Rechtliche Informationen"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:"Folgende Informationen sollten in die Datenschutzerkl\xe4rung eingebracht werden."}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Das System verwendet eine zu Cookies \xe4hnliche Technologie, um Basisfunktionen wie die Nutzeranmeldung zu erm\xf6glichen."}),Object(r.jsx)("li",{children:"Es werden keinerlei Daten mit Dritten ausgetauscht."}),Object(r.jsx)("li",{children:"Es werden keine Tracking Cookies gesetzt."}),Object(r.jsxs)("li",{children:["Das System hat ein eingebautes Tracking-System, um Seitenaufrufe, etc. zu z\xe4hlen.",Object(r.jsx)("br",{}),"Dazu werden Anfragen an den Server ausgewertet. Aus den Informationen der Anfrage wird f\xfcr jeden Nutzer ein Fingerprint erstellt, um die Anzahl der Aufrufe in Abh\xe4ngigkeit unterschiedliche Nutzer z\xe4hlen zu k\xf6nnen. Dabei werden keine personenbezogenen Daten gespeichert oder weitergegeben. Der Fingerprint erneuert sich t\xe4glich, damit keine Nutzerprofile erstellt werden k\xf6nnen."]})]})]})]})})})},"i"),Object(r.jsx)(xn.a.TabPane,{tab:"Reservierungsdialog",children:Object(r.jsxs)("div",{className:An.a.content,children:[Object(r.jsx)("h1",{children:"Preis"}),Object(r.jsx)(Tn,{textKey:"reservationPrice",extra:"Ein leerer Wert deaktiviert diesen Textblock."}),Object(r.jsx)(ie.a,{}),Object(r.jsx)("h1",{children:"Nutzungsordnung"}),Object(r.jsx)(Tn,{textKey:"reservationTos",extra:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Der Nutzer muss diese Nutzungsordnung akzeptieren, um eine Reservierung durchzuf\xfchren."}),Object(r.jsx)("div",{children:"Ein leerer Wert deaktviert diesen Textblock."})]})})]})},"1"),Object(r.jsx)(xn.a.TabPane,{tab:"Registrierung",children:Object(r.jsxs)("div",{className:An.a.content,children:[Object(r.jsx)("h1",{children:"Nutzungsbedingungen"}),Object(r.jsx)(Tn,{textKey:"systemTos",extra:"Der Nutzer muss diese Nutzungsbedingungen akzeptieren, um sich Registrieren zu k\xf6nnen."})]})},"7"),Object(r.jsx)(xn.a.TabPane,{tab:"E-Mail Vorlagen",children:Object(r.jsxs)("div",{className:An.a.content,children:[Object(r.jsx)("h1",{children:"Reservierungsbest\xe4tigung"}),Object(r.jsx)(Tn,{mailKey:"reservationConfirmation",replacements:[{key:"{{name}}",description:"Wird durch den Namen des Benutzers ersetzt"},{key:"{{reservierung}}",description:"Wird durch die Angaben zur get\xe4tigen Reservierung ersetzt"}]}),Object(r.jsx)(ie.a,{}),Object(r.jsx)("h1",{children:"Stornierung"}),Object(r.jsx)(Tn,{mailKey:"reservationCancelled",replacements:[{key:"{{name}}",description:"Wird durch den Namen des Benutzers ersetzt"},{key:"{{reservierung}}",description:"Wird durch die Angaben zur stornierten Reservierung ersetzt"},{key:"{{grund}}",description:"Wird durch den Grund der Stornierung ersetzt"}]}),Object(r.jsx)(ie.a,{}),Object(r.jsx)("h1",{children:"Registrierung: E-Mail best\xe4tigen"}),Object(r.jsx)(Tn,{mailKey:"confirmMail",replacements:[{key:"{{name}}",description:"Wird durch den Namen des Benutzers ersetzt"},{key:"{{link}}",description:"Wird durch den Best\xe4tigungslink ersetzt"}]}),Object(r.jsx)(ie.a,{}),Object(r.jsx)("h1",{children:"Registrierung: Passwort vergessen"}),Object(r.jsx)(Tn,{mailKey:"resetPassword",replacements:[{key:"{{name}}",description:"Wird durch den Namen des Benutzers ersetzt"},{key:"{{link}}",description:"Wird durch den Link zum Passwort-Reset ersetzt"}]})]})},"3")]})})}var Pn=n(74),Mn=n(484),Dn=n(515),En=n(276),Fn=n.n(En);function Wn(){var e=Object(a.useContext)(Y).user.userId,t=Object(a.useState)([]),n=Object(f.a)(t,2),i=n[0],c=n[1],s=Object(a.useCallback)((function(){c([{key:"3",userId:"3",name:"J\xfcrgen M.",mail:"juergen@example.com",admin:!0,lastActivity:k()().subtract(4,"days"),upcomingReservationCount:3,totalReservationCount:41},{key:"1",userId:1,name:"M\xfcller",mail:"mueller@example.com",admin:!0,lastActivity:k()().subtract(1,"m"),upcomingReservationCount:3,totalReservationCount:41},{key:"41",userId:"41",name:"Franz Test",mail:"test.franz.mein.mail@franz.de",admin:!1,lastActivity:k()().subtract(3,"h"),upcomingReservationCount:0,totalReservationCount:140}])}),[]);Object(a.useEffect)((function(){s()}),[s]);var l=[{title:"UserId",dataIndex:"userId",key:"userId",width:"5%",sorter:function(e,t){return e.userId<t.userId?-1:1}},{title:"Admin",dataIndex:"admin",key:"admin",width:"10%",sorter:function(e,t){return e.admin===t.admin?0:e.admin?-1:1},render:function(t,n){return Object(r.jsxs)("div",{children:[n.admin?"Ja":"Nein",Object(r.jsx)(Pn.a,{title:"Adminstatus \xe4ndern",children:Object(r.jsx)(m.a,{disabled:n.userId===e,type:"link",icon:Object(r.jsx)(Jt.a,{}),onClick:function(){te.a.confirm({title:n.admin?"Adminrechte entziehen?":"Adminrechte vergeben?",icon:Object(r.jsx)(Dn.a,{}),content:Object(r.jsxs)("div",{children:["Der Nutzer",Object(r.jsx)("br",{}),Object(r.jsxs)("strong",{children:[n.name," (",n.mail,")"]}),Object(r.jsx)("br",{}),"wird durch diese Aktion ",n.admin?"zu einem normalen Nutzer herabgestuft.":"zum Admin bef\xf6rdert."]}),okText:n.admin?"Rechte entziehen":"Zum Admin machen",okType:"danger",cancelText:"Abbrechen",onOk:function(){console.log("OK")},onCancel:function(){console.log("Cancel")}})}})})]})}},{title:"Name",dataIndex:"name",key:"name",width:"20%",sorter:function(e,t){return e.name.localeCompare(t.name)}},{title:"E-Mail",dataIndex:"mail",key:"mail",width:"25%",sorter:function(e,t){return e.mail.localeCompare(t.mail)}},{title:"Letzte Aktivit\xe4t",dataIndex:"lastActivity",key:"lastActivity",width:"20%",sorter:function(e,t){return e.lastActivity-t.lastActivity},render:function(e,t){var n;return null===(n=t.lastActivity)||void 0===n?void 0:n.format("L LT")}},{title:"Reservierungen (offen)",dataIndex:"upcomingReservationCount",key:"upcomingReservationCount",width:"5%",sorter:function(e,t){return e.upcomingReservationCount-t.upcomingReservationCount}},{title:"Reservierungen (gesamt)",dataIndex:"totalReservationCount",key:"totalReservationCount",width:"5%",sorter:function(e,t){return e.totalReservationCount-t.totalReservationCount}},{title:"Aktionen",key:"action",render:function(e,t){return Object(r.jsxs)(bt.b,{children:[Object(r.jsx)(Pn.a,{title:"E-Mail senden",children:Object(r.jsx)(m.a,{type:"link",icon:Object(r.jsx)(V.a,{}),onClick:function(){window.location.href="mailto:".concat(t.mail)}})}),Object(r.jsx)(Pn.a,{title:"Nutzer l\xf6schen",children:Object(r.jsx)(m.a,{type:"link",danger:!0,icon:Object(r.jsx)(vt.a,{}),onClick:function(){te.a.confirm({title:"Nutzer l\xf6schen?",icon:Object(r.jsx)(Dn.a,{}),content:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Diese Aktion kann nicht r\xfcckg\xe4ngig gemacht werden."}),Object(r.jsx)("div",{children:"Es werden alle Daten sowie Reservierungen unwiderruflich gel\xf6scht."}),Object(r.jsx)("br",{}),Object(r.jsx)("div",{children:Object(r.jsxs)("strong",{children:["Nutzer: ",t.name,Object(r.jsx)("br",{}),"E-Mail: ",t.mail]})})]}),okText:"Unwiderruflich L\xf6schen",okType:"danger",cancelText:"Abbrechen",onOk:function(){console.log("OK")},onCancel:function(){console.log("Cancel")}})}})})]},t._id)}}];return Object(r.jsxs)("div",{className:Fn.a.wrapper,children:[Object(r.jsx)("h1",{children:"Nutzerverwaltung"}),Object(r.jsx)(Mn.a,{columns:l,dataSource:i,scroll:{x:1300}})]})}function Ln(){var e=Object(a.useContext)(Y).user;return Object(r.jsxs)(s.d,{children:[Object(r.jsx)(s.b,{exact:!0,path:"/",children:Object(r.jsx)(jt,{})}),Object(r.jsx)(s.b,{exact:!0,path:"/info",children:Object(r.jsx)(Tt,{})}),Object(r.jsx)(s.b,{exact:!0,path:"/legalnotice-privacy",children:Object(r.jsx)(Bt,{})}),Object(r.jsx)(s.b,{exact:!0,path:"/logout",children:Object(r.jsx)(Lt,{})}),Object(r.jsx)(s.b,{exact:!0,path:"/login",children:Object(r.jsx)(Dt,{})}),Object(r.jsx)(s.b,{exact:!0,path:"/register",render:function(){return e?Object(r.jsx)(s.a,{to:"/"}):Object(r.jsx)(ln,{})}}),Object(r.jsx)(an,{condition:null===e||void 0===e?void 0:e.admin,exact:!0,path:"/admin/general",children:Object(r.jsx)(It,{})}),Object(r.jsx)(an,{condition:null===e||void 0===e?void 0:e.admin,exact:!0,path:"/admin/stats",children:Object(r.jsx)(On,{})}),Object(r.jsx)(an,{condition:null===e||void 0===e?void 0:e.admin,exact:!0,path:"/admin/users",children:Object(r.jsx)(Wn,{})}),Object(r.jsx)(an,{condition:null===e||void 0===e?void 0:e.admin,exact:!0,path:"/admin/texts",children:Object(r.jsx)(Bn,{})}),Object(r.jsx)(an,{condition:e,exact:!0,path:"/myreservations",children:Object(r.jsx)(nn,{})}),Object(r.jsx)(an,{condition:e,exact:!0,path:"/myaccount",children:Object(r.jsx)(Ut,{})}),Object(r.jsx)(s.b,{path:"*",children:Object(r.jsx)(s.a,{to:"/"})})]})}var Hn=n(146),Kn=n.n(Hn);var Zn=function(){var e=Object(a.useContext)(_);return e?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(c.a,{basename:"/tennis-court-reservation-system-v2/client/demo",children:Object(r.jsx)(We.a,{children:Object(r.jsxs)(s.d,{children:[Object(r.jsxs)(s.b,{exact:!0,path:"/kiosk",children:[Object(r.jsx)(We.a.Content,{className:Kn.a.content,children:Object(r.jsx)(Fe,{})}),Object(r.jsx)(We.a.Footer,{className:Kn.a.footer,children:Object(r.jsx)(w,{noLinks:!0})})]}),Object(r.jsxs)(s.b,{path:"*",children:[Object(r.jsx)(et,{}),Object(r.jsx)(We.a.Content,{className:Kn.a.content,children:Object(r.jsx)(Ln,{})}),Object(r.jsx)(We.a.Footer,{className:Kn.a.footer,children:Object(r.jsx)(w,{})}),Object(r.jsx)(O,{})]})]})})})}):Object(r.jsx)(b,{visible:!e,preloader:!0,spin:!0})},Gn=n(15),qn=n(33),Un=n.n(qn),Vn=n(282),Jn=n.n(Vn),Yn=n(283),Qn=n.n(Yn),Xn=n(285),$n=n.n(Xn),er=n(284),tr=n.n(er),nr=n(198),rr=n.n(nr),ar=n(199),ir=n.n(ar);k.a.locale("de"),k.a.extend(rr.a),k.a.extend(ir.a),k.a.extend(tr.a),k.a.extend(Jn.a),k.a.extend(Qn.a),Un.a.render(Object(r.jsx)(Gn.b,{locale:$n.a,children:Object(r.jsx)(N,{children:Object(r.jsx)(Q,{children:Object(r.jsx)(Zn,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e,t,n){e.exports={wrapper:"GroupDatesForm_wrapper__1y-OM",enableCheckbox:"GroupDatesForm_enableCheckbox__9VLNU",repeatSettings:"GroupDatesForm_repeatSettings__3UxuW",repeatTypes:"GroupDatesForm_repeatTypes__1Gm6y",dates:"GroupDatesForm_dates__3x0zy",extra:"GroupDatesForm_extra__1E_ct",danger:"GroupDatesForm_danger__3ndEw",unchecked:"GroupDatesForm_unchecked__uXvUe",date:"GroupDatesForm_date__2ixOV",buttons:"GroupDatesForm_buttons__2ffBH"}},87:function(e,t,n){e.exports={wrapper:"KioskPage_wrapper__2lwpn",top:"KioskPage_top__1rY1B",title:"KioskPage_title__uTtKZ",linkQr:"KioskPage_linkQr__6q4Tf",orgName:"KioskPage_orgName__26BvU",subTitle:"KioskPage_subTitle__1tHUZ",alert:"KioskPage_alert__1zypA"}},96:function(e,t,n){e.exports={wrapper:"WeekPicker_wrapper__gW-q4",middlePicker:"WeekPicker_middlePicker__1K4lw",outerThisWeekButton:"WeekPicker_outerThisWeekButton__3-TVK",picker:"WeekPicker_picker__1eBe4",pickerPanel:"WeekPicker_pickerPanel__ItcDL",leftButton:"WeekPicker_leftButton__2mGJ3",rightButton:"WeekPicker_rightButton__1yWle"}},97:function(e,t,n){e.exports={wrapper:"TextBlocksPage_wrapper__1ipRn",tabs:"TextBlocksPage_tabs__1NJRP",content:"TextBlocksPage_content__3pb-E"}}},[[481,1,2]]]);
//# sourceMappingURL=main.c69bfc87.chunk.js.map