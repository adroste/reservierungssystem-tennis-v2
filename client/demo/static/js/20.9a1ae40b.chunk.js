(this["webpackJsonpreservierungssystem-tennis"]=this["webpackJsonpreservierungssystem-tennis"]||[]).push([[20],{272:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(3),a=n(283),c=n(284),s=n(72),i=n(133);function l(e){var t=e.apiState,n=t.success,a=t.loading,c=t.error;return a?Object(r.jsx)(i.a,{loading:!0,text:"Speichern..."}):c?Object(r.jsx)(i.a,{error:!0,text:"Konnte nicht gespeichert werden"}):n?Object(r.jsx)(i.a,{success:!0,text:"Gespeichert"}):null}function j(e){var t=e.apiState,n=void 0===t?{}:t,i=e.disableReset,j=e.onSave,u=e.onReset;return Object(r.jsxs)(a.a,{gutter:[16,16],align:"middle",children:[Object(r.jsx)(c.a,{children:Object(r.jsx)(s.a,{disabled:n.loading,onClick:j,type:"primary",htmlType:"submit",children:"Speichern"})}),Object(r.jsx)(c.a,{children:Object(r.jsx)(s.a,{disabled:n.loading||i,onClick:u,htmlType:"reset",children:"Zur\xfccksetzen"})}),Object(r.jsx)(c.a,{children:Object(r.jsx)(l,{apiState:n})})]})}},471:function(e,t,n){e.exports={court:"CourtConfigForm_court__1U5H_",courtIdInput:"CourtConfigForm_courtIdInput__26kkp"}},475:function(e,t,n){e.exports={wrapper:"GeneralSettingsPage_wrapper__2CalC"}},551:function(e,t,n){"use strict";n.r(t),n.d(t,"GeneralSettingsPage",(function(){return N}));var r=n(3),a=n(361),c=n(257),s=n(32),i=n(547),l=n(375),j=n(530),u=n(0),b=n(272),o=n(58),d=n(86),O=n(87);function m(){var e=Object(u.useContext)(o.b),t=e.config.announcement,n=e.setConfig,a=Object(u.useState)(),c=Object(s.a)(a,2),m=c[0],x=c[1],h=Object(u.useState)(!0),f=Object(s.a)(h,2),g=f[0],v=f[1],p=Object(O.a)(d.f,n),k=Object(s.a)(p,2),C=k[0],I=k[1],y=i.a.useForm(),A=Object(s.a)(y,1)[0],S=Object(u.useCallback)((function(e){A.resetFields(),x(!!e),v(!0)}),[A]);Object(u.useEffect)((function(){S(t)}),[S,t]);var F=Object(u.useCallback)((function(e){x(e.target.checked)}),[]),z=Object(u.useCallback)((function(){g&&v(!1)}),[g]),R=Object(u.useCallback)((function(e){var t=e.announcement;I(null,{announcement:m?t:""},(function(){return S(m&&t)}))}),[m,I,S]);return Object(r.jsxs)(i.a,{form:A,layout:"vertical",onFinish:R,onFieldsChange:z,children:[Object(r.jsx)(i.a.Item,{name:"announcement",label:Object(r.jsx)(l.a,{checked:m,onChange:F,children:"Ank\xfcndigung ver\xf6ffentlichen"}),initialValue:t,children:Object(r.jsx)(j.a.TextArea,{disabled:!m})}),Object(r.jsx)(i.a.Item,{children:Object(r.jsx)(b.a,{apiState:C,disableReset:g,onReset:S})})]})}var x=n(18),h=n(63),f=n(258),g=n(252),v=n(72),p=n(379),k=n(561),C=n(562),I=n(378),y=n(533),A=n(471),S=n.n(A);function F(){var e=Object(u.useContext)(o.b),t=e.courts,n=e.setCourts,a=Object(u.useState)(!0),c=Object(s.a)(a,2),l=c[0],m=c[1],A=Object(O.a)(d.o,n),F=Object(s.a)(A,2),z=F[0],R=F[1],w=i.a.useForm(),_=Object(s.a)(w,1)[0],E=Object(u.useMemo)((function(){return{courts:t}}),[t]),M=Object(u.useCallback)((function(){_.resetFields(),m(!0)}),[_]);Object(u.useEffect)((function(){_.resetFields()}),[_,t]);var N=Object(u.useCallback)((function(){for(var e=_.getFieldValue("courts")||[],n=0,r=0,a=[].concat(Object(h.a)(t),Object(h.a)(e));r<a.length;r++){var c=a[r];n=Math.max(c.courtId,n)}return n+1}),[t,_]),P=Object(u.useCallback)((function(){l&&m(!1)}),[l]),T=Object(u.useCallback)((function(e){var t=e.courts;f.a.confirm({title:"Achtung!",icon:Object(r.jsx)(p.a,{}),centered:!0,content:Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"Durch das \xc4ndern von Pl\xe4tzen k\xf6nnen bestehende Reservierungen verloren gehen."}),Object(r.jsx)("p",{children:"Alle Reservierungen, die im Zeitraum einer Sperrung liegen, werden automatisch storniert."}),Object(r.jsx)("p",{children:"Dies gilt auch f\xfcr das Entfernen eines Platzes."}),Object(r.jsx)("p",{children:"Alle Nutzer, die von einer Stornierung betroffen sind, werden per E-Mail informiert."})]}),okText:"Best\xe4tigen",okType:"danger",cancelText:"Abbrechen",onOk:function(){R(null,t,M)}})}),[R,M]);return Object(r.jsxs)(i.a,{autoComplete:"off",form:_,initialValues:E,layout:"vertical",onFieldsChange:P,onFinish:T,children:[Object(r.jsx)(i.a.List,{name:"courts",children:function(e,t){var n=t.add,a=t.remove,c=t.move;return Object(r.jsxs)(r.Fragment,{children:[e.map((function(e,t){return Object(r.jsx)("div",{className:S.a.court,children:Object(r.jsxs)(g.b,{children:[Object(u.createElement)(i.a.Item,Object(x.a)(Object(x.a)({},e),{},{key:"courtId",label:"ID",name:[e.name,"courtId"],fieldKey:[e.fieldKey,"courtId"]}),Object(r.jsx)(j.a,{disabled:!0,bordered:!1,className:S.a.courtIdInput})),Object(u.createElement)(i.a.Item,Object(x.a)(Object(x.a)({},e),{},{key:"name",label:"Name",name:[e.name,"name"],fieldKey:[e.fieldKey,"name"],rules:[{required:!0,message:"Name erforderlich"}]}),Object(r.jsx)(j.a,{placeholder:"z.B.: Platz 1"})),Object(r.jsx)(i.a.Item,{label:"Aktionen",children:Object(r.jsxs)(g.b,{children:[Object(r.jsx)(v.a,{onClick:function(){return c(t,t-1)},icon:Object(r.jsx)(k.a,{})}),Object(r.jsx)(v.a,{onClick:function(){return c(t,t+1)},icon:Object(r.jsx)(C.a,{})}),Object(r.jsx)(v.a,{onClick:function(){return a(e.name)},danger:!0,icon:Object(r.jsx)(I.a,{})})]})})]})},e.key)})),Object(r.jsx)(i.a.Item,{children:Object(r.jsx)(v.a,{type:"dashed",onClick:function(){return n({courtId:N()})},block:!0,icon:Object(r.jsx)(y.a,{}),children:"Platz anlegen"})},"add")]})}}),Object(r.jsx)(i.a.Item,{children:Object(r.jsx)(b.a,{apiState:z,disableReset:l,onReset:M})})]})}var z=n(553),R=n(546),w=Array.from(Array(25)).reduce((function(e,t,n){return e[n]=n%24,e}),{});function _(){var e=Object(u.useContext)(o.b),t=e.config,n=e.setConfig,a=Object(u.useState)(!0),c=Object(s.a)(a,2),l=c[0],m=c[1],x=Object(O.a)(d.f,n),h=Object(s.a)(x,2),f=h[0],g=h[1],v=i.a.useForm(),p=Object(s.a)(v,1)[0],k=Object(u.useCallback)((function(){p.resetFields(),m(!0)}),[p]);Object(u.useEffect)((function(){k()}),[t,k]);var C=Object(u.useCallback)((function(){l&&m(!1)}),[l]),I=Object(u.useCallback)((function(e){g(null,e,k)}),[g,k]);return Object(r.jsxs)(i.a,{form:p,layout:"vertical",initialValues:t,onFinish:I,onFieldsChange:C,children:[Object(r.jsx)(i.a.Item,{name:"url",label:"URL des Reservierungssystems",rules:[{required:!0,message:"URL ist erforderlich"}],children:Object(r.jsx)(j.a,{})}),Object(r.jsx)(i.a.Item,{name:"orgName",label:"Vereinsname",rules:[{required:!0,message:"Vereinsname ist erforderlich"}],children:Object(r.jsx)(j.a,{})}),Object(r.jsx)(i.a.Item,{name:"serverMail",label:"E-Mail Adresse, die zum Senden benutzt wird",rules:[{type:"email",message:"Beispiel: mustermann@web.de"},{required:!0,message:"E-Mail Adresse ist erforderlich"}],children:Object(r.jsx)(j.a,{})}),Object(r.jsx)(i.a.Item,{name:"reservationDaysInAdvance",label:"Anzahl der Tage, die Pl\xe4tze im voraus reservierbar sind",rules:[{required:!0,message:"Angabe ist erforderlich"}],children:Object(r.jsx)(z.a,{min:1,max:1825})}),Object(r.jsx)(i.a.Item,{name:"reservationMaxActiveCount",label:"Maximale Anzahl an offenen Reservierungen, die ein Nutzer t\xe4tigen darf",rules:[{required:!0,message:"Angabe ist erforderlich"}],children:Object(r.jsx)(z.a,{min:1})}),Object(r.jsx)(i.a.Item,{name:"visibleHours",label:"Angezeigte Uhrzeiten im Kalender",rules:[{required:!0,message:"Angabe ist erforderlich"}],children:Object(r.jsx)(R.a,{marks:w,range:!0,min:0,max:24})}),Object(r.jsx)(i.a.Item,{children:Object(r.jsx)(b.a,{apiState:f,disableReset:l,onReset:k})})]})}var E=n(475),M=n.n(E);function N(){return Object(r.jsxs)("div",{className:M.a.wrapper,children:[Object(r.jsx)("h1",{children:"Ank\xfcndigung"}),Object(r.jsx)(m,{}),Object(r.jsx)(a.a,{}),Object(r.jsx)("h1",{children:"Platzverwaltung"}),Object(r.jsx)(c.a.Text,{children:"Die Reihenfolge gibt die Darstellung im Reservierungskalender vor."}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(F,{}),Object(r.jsx)(a.a,{}),Object(r.jsx)("h1",{children:"Basiseinstellungen"}),Object(r.jsx)(_,{})]})}}}]);
//# sourceMappingURL=20.9a1ae40b.chunk.js.map