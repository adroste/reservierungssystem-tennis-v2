{"version":3,"sources":["calendar/useTime.js","calendar/DatePicker.js","calendar/ReservationDetails.js","calendar/ReservationGroupModal.module.css","user/LoginForm.js","user/LoginForm.module.css","calendar/DatePicker.module.css","calendar/DateTimeRangeSelect.module.css","calendar/ReservationDetails.module.css","calendar/ScrollRadioGroup.module.css","calendar/RepeatReservationForm.module.css","calendar/ReservationDetailsForm.module.css","user/VerifyMailModal.module.css","calendar/DateTimeRangeSelect.js","calendar/ScrollRadioGroup.js","calendar/DisableReservationGroupModal.js","user/LoginModal.js","calendar/RepeatReservationForm.js","calendar/ReservationTimeSelect.js","calendar/ReservationDetailsForm.js","calendar/ReservationGroupModal.js","user/VerifyMailModal.js","calendar/ReservationModal.js","calendar/SlotCell.module.css","calendar/DayTable.module.css","calendar/HoursTable.module.css","calendar/ReservationCalendar.module.css","calendar/SlotCell.js","calendar/DayTable.js","calendar/HoursTable.js","calendar/ReservationCalendar.js","../node_modules/qr.js/lib/mode.js","../node_modules/qr.js/lib/ErrorCorrectLevel.js","../node_modules/qr.js/lib/Polynomial.js","../node_modules/qr.js/lib/math.js","kiosk/DateClock.module.css","../node_modules/qrcode.react/lib/index.js","../node_modules/qr.js/lib/QRCode.js","../node_modules/qr.js/lib/8BitByte.js","../node_modules/qr.js/lib/RSBlock.js","../node_modules/qr.js/lib/BitBuffer.js","../node_modules/qr.js/lib/util.js","kiosk/SystemLinkQr.module.css","kiosk/KioskPage.module.css","kiosk/DateClock.js","kiosk/SystemLinkQr.js","kiosk/KioskPage.js"],"names":["useTime","unit","useState","dayjs","time","setTime","useEffect","interval","setInterval","newTime","isSame","clearInterval","AntDatePicker","generatePicker","dayjsGenerateConfig","DatePicker","props","inputReadOnly","size","panelRender","panel","className","styles","pickerPanel","cn","classNames","bind","ReservationDetails","court","date","inline","name","repeat","wrapper","item","title","content","module","exports","LoginForm","useContext","authContext","autoLoginState","setUser","setRememberLogin","useApi","postLoginApi","loginState","login","loading","valStatus","error","undefined","onFinish","useCallback","mail","password","rememberLogin","type","layout","Item","message","rules","required","validateStatus","autoComplete","prefix","style","color","placeholder","disabled","Password","valuePropName","noStyle","forgotLink","to","htmlType","loginButton","text","registerItem","DateTimeRangeSelect","from","onFromChange","onToChange","hours","useMemo","Array","keys","updateTimes","newFrom","newTo","isAfter","tmp","add","handleFromDateChange","newFromDate","hour","handleToDateChange","newToDate","handleFromHourChange","newFromHour","handleToHourChange","newToHour","allowClear","bordered","datePicker","format","onChange","showToday","suffixIcon","DownOutlined","value","map","Option","ScrollRadioGroup","children","rest","innerRef","useRef","leftScroll","setLeftScroll","rightScroll","setRightScroll","updateStops","current","scrollLeft","scrollWidth","offsetWidth","handleClick","e","offsetLeft","target","parentNode","requestAnimationFrame","Math","max","outer","inner","onClick","onScroll","ref","Group","buttonStyle","DisableReservationGroupModal","initialFrom","initialCourtId","reservation","setOuterReservations","setReservations","appContext","visibleHours","config","courts","reason","setReason","startOf","setFrom","setTo","courtId","setCourtId","prevErrorRef","postReservationGroupApi","postState","postReservationGroup","patchReservationGroupApi","patchState","patchReservationGroup","changed","unavailableReservations","uaRes","handleChangeReason","handleCourtIdChange","handleDisableCourt","checkDate","isSameOrAfter","Modal","icon","width","centered","confirm","okText","okType","onOk","path","groupId","reservations","success","RESERVATION_TYPES","DISABLE","handleRemoveDisable","post","patch","getCourtName","visible","onCancel","footer","ErrorResult","StatusText","Button","label","changeReasonHint","LoginModal","onClose","defaultRepeatValuesMap","1","7","14","RepeatReservationForm","currentReservations","defaultAddCount","repeatValuesMap","user","reservationDaysInAdvance","now","repeatValue","setRepeatValue","visibleDates","setVisibleDates","selectedDates","_setSelectedDates","fromToHourDiff","abs","diff","dateToReservation","checkIfTooFarAhead","checkIfNotAvailable","r1","some","r2","setSelectedDates","_selectedDates","dates","filter","d","s","length","r","sort","a","b","valueOf","Number","MAX_SAFE_INTEGER","i","min","toString","allowedValues","Object","includes","first","last","count","push","addDate","handleRepeatValueChange","newRepeatValue","handleCheckedChange","checked","newSelection","newVisibleDates","pop","reserved","cr","sd","change","past","isBefore","notAvailable","tooFarAhead","dateButton","unchecked","danger","admin","LockOutlined","DeleteOutlined","PlusOutlined","extra","buttons","ReservationTimeSelect","visibleHoursToHoursArray","toHours","reduce","h","handleFromChange","handleToChange","direction","ReservationDetailsForm","onCourtIdChange","onReservationsChange","onTextChange","readOnly","editName","setEditName","handleEditName","handleCancelEditName","handleDateChange","handleTextChange","plain","nameInput","EditOutlined","ReservationGroupModal","reservationTos","templates","changeReason","setChangeReason","setText","groupReservations","setGroupReservations","getReservationsApi","state","getGroupReservations","adminEdit","userId","canEdit","newReservations","gr","cancelReservations","changeText","query","handleChangeChangeReason","handlePostReservation","dangerouslySetInnerHTML","__html","body","NORMAL","handleChangeReservation","ExclamationCircleOutlined","heading","cancelText","handleCancelReservation","cancelType","doDelete","reqParams","cancelRadioGroup","defaultValue","Ball","spin","large","TextArea","autoSize","VerifyMailModal","history","useHistory","handleChangeMailClick","handleResendMail","status","ReservationModal","verified","SlotCell","alwaysClickable","courtName","rowSpan","maxRowSpan","indexOf","cell","enabled","padding","slot","mine","height","CELL_PADDING_PX","data-free-text","data-free-text-hover","singleLine","DayTable","onDisableCourtClick","onSlotClick","disableOverlay","setDisableOverlay","isToday","reservableAsOf","subtract","showInfoOverlay","handleDisableOverlayClick","today","cols","blur","findReservation","adminAction","infoOverlay","linkButton","HoursTable","highlightHour","highlight","ReservationCalendar","kiosk","selectedDate","selectedSlot","setSelectedSlot","scrollerRef","getReservations","updateReservations","start","toISOString","end","endOf","useUpdateEffect","UPDATE_INTERVALS_SEC","RESERVATIONS","_","index","handleSlotClicked","handleDisableCourtClicked","handleReservationFinish","tableWrapper","tableScroller","MODE_NUMBER","MODE_ALPHA_NUM","MODE_8BIT_BYTE","MODE_KANJI","L","M","Q","H","math","require","QRPolynomial","num","shift","Error","offset","this","prototype","get","getLength","multiply","j","gexp","glog","mod","ratio","QRMath","n","LOG_TABLE","EXP_TABLE","_typeof","obj","Symbol","iterator","constructor","_extends","assign","arguments","source","key","hasOwnProperty","call","apply","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","React","QRCodeImpl","ErrorCorrectLevel","convertStr","str","out","charcode","charCodeAt","String","fromCharCode","DEFAULT_PROPS","level","bgColor","fgColor","includeMargin","generatePath","modules","margin","ops","row","y","x","concat","join","excavateModules","excavation","slice","w","getImageSettings","cells","imageSettings","numCells","defaultSize","floor","scale","excavate","floorX","floorY","ceil","SUPPORTS_PATH2D","Path2D","addPath","QRCodeCanvas","_React$PureComponent","_getPrototypeOf2","_this","_len","args","_key","imgLoaded","setState","update","_this$props","qrcode","addData","make","_canvas","canvas","ctx","getContext","calculatedImageSettings","pixelRatio","window","devicePixelRatio","fillStyle","fillRect","fill","rdx","cdx","_image","drawImage","_this2","_this$props2","otherProps","canvasStyle","img","imgSrc","src","createElement","display","onLoad","handleImageLoad","_ref","Fragment","_ref2","PureComponent","QRCodeSVG","_React$PureComponent2","_this$props3","image","xlinkHref","preserveAspectRatio","fgPath","shapeRendering","viewBox","QRCode","renderAs","Component","defaultProps","BitByte","RSBlock","BitBuffer","util","Polynomial","typeNumber","errorCorrectLevel","moduleCount","dataCache","dataList","proto","data","newData","isDark","col","getModuleCount","rsBlocks","getRSBlocks","buffer","totalDataCount","dataCount","put","mode","getLengthInBits","write","makeImpl","getBestMaskPattern","test","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","c","minLostPoint","pattern","lostPoint","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","bits","getBCHTypeNumber","getBCHTypeInfo","inc","bitIndex","byteIndex","dark","getMask","PAD0","PAD1","putBit","createBytes","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","rsPoly","getErrorCorrectPolynomial","modPoly","modIndex","totalCodeCount","QR8bitByte","ECL","QRRSBlock","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","QRBitBuffer","bufIndex","bit","Mode","QRMaskPattern","QRUtil","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","getBCHDigit","digit","errorCorrectLength","qrCode","sameCount","darkCount","DateClock","dateTime","setDateTime","int","clockDots","SystemLinkQr","url","qr","replace","KioskPage","announcement","orgName","search","useLocation","params","parseQuery","updateInterval","parseInt","console","BASE_DATA","setDefaultUpdateIntervals","top","subTitle","linkQr","alert","showIcon"],"mappings":"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","file":"static/js/9.68d461f4.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\n\nimport dayjs from 'dayjs';\n\nconst checkIntervalMs = 60000; // minute\n\nexport function useTime(unit) {\n    const [time, setTime] = useState(() => dayjs());\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            const newTime = dayjs();\n            if (!time.isSame(newTime, unit))\n                setTime(newTime);\n        }, checkIntervalMs);\n\n        return () => clearInterval(interval);\n    }, [time, unit]);\n\n    return time;\n}","import dayjsGenerateConfig from 'rc-picker/lib/generate/dayjs';\nimport generatePicker from 'antd/es/date-picker/generatePicker';\nimport styles from './DatePicker.module.css';\n\nconst AntDatePicker = generatePicker(dayjsGenerateConfig);\n\nexport function DatePicker(props) {\n    return (\n        <AntDatePicker\n            inputReadOnly\n            size=\"large\"\n            panelRender={panel => \n                <div className={styles.pickerPanel}>\n                    {panel}\n                </div>\n            }\n            {...props}\n        />\n    );\n}","import { CalendarOutlined, ClockCircleOutlined, EnvironmentOutlined, RedoOutlined, UserOutlined } from '@ant-design/icons';\n\nimport React from 'react';\nimport classNames from 'classnames/bind';\nimport styles from './ReservationDetails.module.css';\n\nconst cn = classNames.bind(styles);\n\nexport function ReservationDetails({\n    court,\n    date,\n    inline = false,\n    name,\n    repeat,\n    time,\n}) {\n    return (\n        <div className={cn({\n            wrapper: true,\n            inline\n        })}>\n            {name &&\n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <UserOutlined />&nbsp;Name\n                    </div>\n                    <div className={styles.content}>\n                        {name}\n                    </div>\n                </div>\n            }\n\n            {date && \n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <CalendarOutlined />&nbsp;Datum\n                    </div>\n                    <div className={styles.content}>\n                        {date}\n                    </div>\n                </div>\n            }\n\n            {time &&\n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <ClockCircleOutlined />&nbsp;Uhrzeit\n                    </div>\n                    <div className={styles.content}>\n                        {time}\n                    </div>\n                </div>\n            }\n\n            {court &&\n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <EnvironmentOutlined />&nbsp;Platz\n                    </div>\n                    <div className={styles.content}>\n                        {court}\n                    </div>\n                </div>\n            }\n\n            {repeat &&\n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <RedoOutlined />&nbsp;Wiederholung\n                    </div>\n                    <div className={styles.content}>\n                        {repeat}\n                    </div>\n                </div>\n            }\n        </ div>\n    );\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ReservationGroupModal_wrapper__2fAcz\",\"footer\":\"ReservationGroupModal_footer__1O-So\",\"heading\":\"ReservationGroupModal_heading__3HVFg\",\"changeReasonHint\":\"ReservationGroupModal_changeReasonHint__IWCAI\",\"cancelRadioGroup\":\"ReservationGroupModal_cancelRadioGroup__joJ8_\"};","import { Alert, Button, Checkbox, Form, Input } from 'antd';\nimport { LockOutlined, MailOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext } from 'react';\n\nimport { Link } from 'react-router-dom';\nimport { StatusText } from '../admin/StatusText';\nimport { authContext } from '../AuthContext';\nimport { postLoginApi } from '../api';\nimport styles from './LoginForm.module.css';\nimport { useApi } from '../useApi';\n\nexport function LoginForm() {\n\n    const { autoLoginState, setUser, setRememberLogin } = useContext(authContext);\n    const [loginState, login] = useApi(postLoginApi, setUser);\n\n    const loading = loginState.loading || autoLoginState.loading;\n    const valStatus = loginState.error ? 'error' : undefined;\n\n    const onFinish = useCallback(({ mail, password, rememberLogin }) => {\n        setRememberLogin(rememberLogin);\n        login(null, {\n            type: 'plain',\n            mail,\n            password,\n        });\n    }, [login, setRememberLogin]);\n\n    return (\n        <Form\n            layout=\"vertical\"\n            onFinish={onFinish}\n        >\n            {loginState.error &&\n                <Form.Item>\n                    <Alert\n                        type=\"error\"\n                        message=\"Login fehlgeschlagen.\"\n                    />\n                </Form.Item>\n            }\n\n            <Form.Item\n                name=\"mail\"\n                rules={[{ required: true, message: 'E-Mail Adresse ist erforderlich' }]}\n                validateStatus={valStatus}\n            >\n                <Input\n                    autoComplete=\"email\"\n                    prefix={<MailOutlined style={{ color: '#aaa' }} />}\n                    placeholder=\"E-Mail\"\n                    disabled={loading}\n                />\n            </Form.Item>\n\n            <Form.Item\n                name=\"password\"\n                rules={[{ required: true, message: 'Passwort ist erforderlich' }]}\n                validateStatus={valStatus}\n            >\n                <Input.Password\n                    autoComplete=\"current-password\"\n                    prefix={<LockOutlined style={{ color: '#aaa' }} />}\n                    placeholder=\"Passwort\"\n                    disabled={loading}\n                />\n            </Form.Item>\n\n            <Form.Item>\n                <Form.Item name=\"rememberLogin\" valuePropName=\"checked\" noStyle>\n                    <Checkbox\n                        disabled={loading}\n                    >\n                        Angemeldet bleiben\n                    </Checkbox>\n                </Form.Item>\n\n                {/* TODO */}\n                <Link className={styles.forgotLink} to=\"/reset-password\">\n                    Password vergessen\n                </Link>\n            </Form.Item>\n\n            <Form.Item>\n                <Button\n                    type=\"primary\"\n                    htmlType=\"submit\"\n                    className={styles.loginButton}\n                    disabled={loading}\n                >\n                    <StatusText\n                        loading={loading}\n                        text={loading ? 'Anmeldung...' : 'Anmelden'}\n                    />\n                </Button>\n            </Form.Item>\n\n\n            <Form.Item className={styles.registerItem}>\n                <span>oder </span>\n                <Link to=\"/register\">Kostenlos Registrieren</Link>\n            </Form.Item>\n        </Form>\n    );\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginButton\":\"LoginForm_loginButton__ECun6\",\"forgotLink\":\"LoginForm_forgotLink__3TG3V\",\"registerItem\":\"LoginForm_registerItem__32Qy-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pickerPanel\":\"DatePicker_pickerPanel__jgKnn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"datePicker\":\"DateTimeRangeSelect_datePicker__1Fzuj\",\"to\":\"DateTimeRangeSelect_to__3kFPy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inline\":\"ReservationDetails_inline__3Zvud\",\"wrapper\":\"ReservationDetails_wrapper__3oaB0\",\"item\":\"ReservationDetails_item__3c9da\",\"title\":\"ReservationDetails_title__30qxj\",\"content\":\"ReservationDetails_content__3o1oW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"outer\":\"ScrollRadioGroup_outer__2bjrJ\",\"inner\":\"ScrollRadioGroup_inner__1IIQl\",\"leftScroll\":\"ScrollRadioGroup_leftScroll__sR-on\",\"rightScroll\":\"ScrollRadioGroup_rightScroll__2FgOg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"RepeatReservationForm_wrapper__q6uz0\",\"dates\":\"RepeatReservationForm_dates__1dD0l\",\"extra\":\"RepeatReservationForm_extra__2m-4n\",\"unchecked\":\"RepeatReservationForm_unchecked__dAyq1\",\"date\":\"RepeatReservationForm_date__3wvGK\",\"dateButton\":\"RepeatReservationForm_dateButton__2XPFl\",\"danger\":\"RepeatReservationForm_danger__3-oIh\",\"buttons\":\"RepeatReservationForm_buttons__IeXBV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nameInput\":\"ReservationDetailsForm_nameInput__20wfd\",\"plain\":\"ReservationDetailsForm_plain__VkUtA\",\"datePicker\":\"ReservationDetailsForm_datePicker__jvGx4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttons\":\"VerifyMailModal_buttons__2ZzQz\"};","import React, { useCallback, useMemo } from 'react';\n\nimport { DatePicker } from './DatePicker';\nimport { DownOutlined } from '@ant-design/icons';\nimport { Select } from 'antd';\nimport styles from './DateTimeRangeSelect.module.css';\n\nexport function DateTimeRangeSelect({\n    disabled = false,\n    from,\n    to,\n    onFromChange,\n    onToChange,\n}) {\n    const hours = useMemo(() => [...Array(24).keys()], []);\n\n    const updateTimes = useCallback(({ newFrom = from, newTo = to }) => {\n        if (newFrom.isAfter(newTo)) {\n            const tmp = newFrom;\n            newFrom = newTo;\n            newTo = tmp;\n        } else if (newFrom.isSame(newTo)) {\n            newTo = newFrom.add(1, 'hour'); // minimal diff 1 hour\n        }\n\n        if (!newFrom.isSame(from))\n            onFromChange(newFrom);\n        if (!newTo.isSame(to))\n            onToChange(newTo);\n    }, [from, onFromChange, onToChange, to]);\n\n    const handleFromDateChange = useCallback(newFromDate => {\n        updateTimes({\n            newFrom: newFromDate.hour(from.hour())\n        });\n    }, [from, updateTimes]);\n\n    const handleToDateChange = useCallback(newToDate => {\n        updateTimes({\n            newTo: newToDate.hour(to.hour())\n        });\n    }, [to, updateTimes]);\n\n    const handleFromHourChange = useCallback(newFromHour => {\n        updateTimes({\n            newFrom: from.hour(newFromHour)\n        });\n    }, [from, updateTimes]);\n\n    const handleToHourChange = useCallback(newToHour => {\n        updateTimes({\n            newTo: to.hour(newToHour)\n        });\n    }, [to, updateTimes]);\n\n    return (\n        <div>\n            <div>\n                <DatePicker\n                    allowClear={false}\n                    bordered={false}\n                    className={styles.datePicker}\n                    disabled={disabled}\n                    format=\"L\"\n                    onChange={handleFromDateChange}\n                    showToday={false}\n                    suffixIcon={<DownOutlined />}\n                    value={from}\n                />\n\n                <Select\n                    size=\"large\"\n                    bordered={false}\n                    value={from.hour()}\n                    onChange={handleFromHourChange}\n                >\n                    {hours.map(hour => (\n                        <Select.Option\n                            key={hour}\n                            value={hour}\n                        >\n                            {hour} Uhr\n                        </Select.Option>\n                    ))}\n                </Select>\n\n            </div>\n\n            <div>\n                <span className={styles.to}>bis</span>\n\n                <DatePicker\n                    allowClear={false}\n                    bordered={false}\n                    className={styles.datePicker}\n                    disabled={disabled}\n                    format=\"L\"\n                    onChange={handleToDateChange}\n                    showToday={false}\n                    suffixIcon={<DownOutlined />}\n                    value={to}\n                />\n\n                <Select\n                    size=\"large\"\n                    bordered={false}\n                    value={to.hour()}\n                    onChange={handleToHourChange}\n                >\n                    {hours.map(hour => (\n                        <Select.Option\n                            key={hour}\n                            value={hour}\n                        >\n                            {hour % 24} Uhr\n                        </Select.Option>\n                    ))}\n                </Select>\n            </div>\n        </div>\n    );\n}","import React, { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { Radio } from 'antd';\nimport classNames from 'classnames/bind';\nimport styles from './ScrollRadioGroup.module.css';\n\nconst cn = classNames.bind(styles);\n\nconst SCROLL_OFFSET_PX = -50;\nconst SCROLL_TRESHOLD_PX = 5; // needed for iOS overscoll\n\nexport function ScrollRadioGroup({\n    children,\n    ...rest\n}) {\n    const innerRef = useRef();\n    const [leftScroll, setLeftScroll] = useState(false);\n    const [rightScroll, setRightScroll] = useState(false);\n\n    const updateStops = useCallback(() => {\n        if (!innerRef.current)\n            return;\n        const { scrollLeft, scrollWidth, offsetWidth } = innerRef.current;\n        setLeftScroll(scrollLeft > SCROLL_TRESHOLD_PX);\n        setRightScroll((scrollWidth - offsetWidth - scrollLeft) > SCROLL_TRESHOLD_PX);\n    }, []);\n\n    useEffect(updateStops, [updateStops]);\n\n    const handleClick = useCallback(e => {\n        if (!innerRef.current)\n            return;\n        const offsetLeft = e?.target?.parentNode?.parentNode?.offsetLeft || 0;\n        requestAnimationFrame(() => {\n            innerRef.current.scrollLeft = Math.max(offsetLeft + SCROLL_OFFSET_PX, 0);\n        });\n    }, []);\n\n    return (\n        <div className={cn({\n            outer: true,\n            leftScroll,\n            rightScroll,\n        })}>\n            <div\n                className={styles.inner}\n                onClick={handleClick}\n                onScroll={updateStops}\n                ref={innerRef}\n            >\n                <Radio.Group\n                    buttonStyle=\"solid\"\n                    size=\"large\"\n                    {...rest}\n                >\n                    {children}\n                </Radio.Group>\n            </div>\n        </div>\n    );\n}","import { Button, Form, Input, Modal, Radio, message } from 'antd';\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { patchReservationGroupApi, postReservationGroupApi } from '../api';\n\nimport { DateTimeRangeSelect } from './DateTimeRangeSelect';\nimport { ErrorResult } from '../ErrorResult';\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { ReservationDetails } from './ReservationDetails';\nimport { ScrollRadioGroup } from './ScrollRadioGroup';\nimport { StatusText } from '../admin/StatusText';\nimport { appContext } from '../AppContext';\nimport dayjs from 'dayjs';\nimport { getCourtName } from '../helper';\nimport styles from './ReservationGroupModal.module.css';\nimport { useApi } from '../useApi';\n\nexport function DisableReservationGroupModal({\n    initialFrom,\n    initialCourtId,\n    reservation,\n    onFinish,\n    setReservations: setOuterReservations,\n}) {\n    const { config: { visibleHours }, courts } = useContext(appContext);\n\n    const [reason, setReason] = useState(reservation?.text || '');\n    const [from, setFrom] = useState(() => reservation?.from || initialFrom.startOf('day'));\n    const [to, setTo] = useState(() => reservation?.to || initialFrom.add(1, 'day').startOf('day'));\n    const [courtId, setCourtId] = useState(reservation?.courtId || initialCourtId);\n    const prevErrorRef = useRef({});\n\n    const [postState, postReservationGroup] = useApi(postReservationGroupApi, setOuterReservations);\n    const [patchState, patchReservationGroup] = useApi(patchReservationGroupApi, setOuterReservations);\n\n    const loading = postState.loading || patchState.loading;\n    const changed = reservation && (\n        reservation.from !== from\n        || reservation.to !== to\n        || reservation.text !== reason\n        || reservation.courtId !== courtId\n    );\n\n    const unavailableReservations = useMemo(() => {\n        let uaRes = postState.error?.unavailableReservations || patchState.error?.unavailableReservations;\n        if (uaRes)\n            uaRes = uaRes.map(({ courtId, from, to }) => ({\n                courtId,\n                from: dayjs(from),\n                to: dayjs(to),\n            }));\n        return uaRes;\n    }, [patchState.error?.unavailableReservations, postState.error?.unavailableReservations]);\n\n    const handleChangeReason = useCallback(e => {\n        setReason(e.target.value);\n    }, []);\n\n    const handleCourtIdChange = useCallback(e => {\n        setCourtId(e.target.value);\n    }, []);\n\n    const handleDisableCourt = useCallback(() => {\n        const doDisable = () => {\n            if (!reservation) {\n                postReservationGroup(null, {\n                    reservations: [{ courtId, from, to }],\n                    text: reason,\n                    type: RESERVATION_TYPES.DISABLE,\n                }, () => {\n                    message.success(\"Sperren erfolgreich\");\n                    onFinish();\n                });\n            } else {\n                patchReservationGroup({\n                    path: {\n                        groupId: reservation.groupId\n                    }\n                }, {\n                    reservations: [{ courtId, from, to }],\n                    text: reason,\n                }, () => {\n                    message.success(\"Sperren erfolgreich\");\n                    onFinish();\n                });\n            }\n        };\n\n        let checkDate;\n        if (from.hour() <= visibleHours[0])\n            checkDate = from.hour(visibleHours[0]);\n        else if (from.hour() >= visibleHours[1])\n            checkDate = from.add(1, 'day').hour(visibleHours[0]);\n\n        if (checkDate?.isSameOrAfter(to, 'hour')) {\n            Modal.error({\n                icon: false,\n                title: 'Sperrung unzulässig',\n                width: 530,\n                centered: true,\n                content: 'Die Sperrung liegt außerhalb des angezeigten Zeitraums.',\n            });\n        } else {\n            Modal.confirm({\n                icon: false,\n                title: 'Wirklich sperren?',\n                okText: 'Sperren',\n                okType: 'danger',\n                width: 530,\n                centered: true,\n                content: 'Bestehende Reservierungen, die mit der Sperrung in Konflikt stehen, werden automatisch storniert. Die Inhaber der Reservierungen werden darüber per E-Mail informiert.',\n                onOk: doDisable,\n            });\n        }\n    }, [courtId, from, onFinish, patchReservationGroup, postReservationGroup, reason, reservation, to, visibleHours]);\n\n    const handleRemoveDisable = useCallback(() => {\n        patchReservationGroup({\n            path: {\n                groupId: reservation.groupId\n            }\n        }, {\n            reservations: [],\n        }, () => {\n            message.success(\"Sperrung aufgehoben\");\n            onFinish();\n        });\n    }, [onFinish, patchReservationGroup, reservation?.groupId]);\n\n    useEffect(() => {\n        if (prevErrorRef.current.post === postState.error\n            && prevErrorRef.current.patch === patchState.error)\n            return;\n        prevErrorRef.current.post = postState.error;\n        prevErrorRef.current.patch = patchState.error;\n\n        if (unavailableReservations) {\n            Modal.error({\n                centered: true,\n                title: 'Sperren fehlgeschlagen',\n                content: (\n                    <div>\n                        <div>\n                            Für folgende Zeiträume liegt bereits eine Sperrung vor:\n                        </div>\n                        <ul>\n                            {unavailableReservations.map(({ courtId, from, to }) => (\n                                <li key={from}>{from.format('dd[\\xa0]L,[\\xa0]H[\\xa0][Uhr]')} bis {to.format('dd[\\xa0]L,[\\xa0]H[\\xa0][Uhr]')}, {getCourtName(courts, courtId)}</li>\n                            ))}\n                        </ul>\n                    </div>\n                )\n            });\n        }\n    }, [courts, patchState.error, postState.error, unavailableReservations])\n\n    if (\n        (postState.error && !postState.error.unavailableReservations)\n        || (patchState.error && !patchState.error.unavailableReservations)\n    ) {\n        return (\n            <Modal\n                title=\"Sperren fehlgeschlagen\"\n                visible={true}\n                centered\n                onCancel={onFinish}\n                onOk={onFinish}\n                footer={\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            Abbrechen\n                        </Button>\n                    </div>\n                }\n            >\n                <div className={styles.wrapper}>\n                    <ErrorResult />\n                </div>\n            </Modal>\n        );\n    }\n\n    return (\n        <Modal\n            title=\"Platz Sperren\"\n            visible={true}\n            width={530}\n            centered\n            onCancel={onFinish}\n            onOk={onFinish}\n            footer={loading ?\n                (\n                    <StatusText\n                        loading\n                        text=\"Bitte warten...\"\n                    />\n                ) : (\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            Abbrechen\n                        </Button>\n                        {reservation &&\n                            <Button\n                                type=\"primary\"\n                                onClick={handleRemoveDisable}\n                            >\n                                Sperrung Aufheben\n                            </Button>\n                        }\n                        <Button\n                            disabled={reservation && !changed}\n                            type=\"danger\"\n                            onClick={handleDisableCourt}\n                        >\n                            Sperren\n                        </Button>\n                    </div>\n                )\n            }\n        >\n            <div className={styles.wrapper}>\n                <ReservationDetails\n                    court={\n                        <ScrollRadioGroup\n                            disabled={loading}\n                            onChange={handleCourtIdChange}\n                            value={courtId}\n                        >\n                            {courts.map(({ courtId, name }) => (\n                                <Radio.Button key={courtId} value={courtId}>{name}</Radio.Button>\n                            ))}\n                        </ScrollRadioGroup>\n                    }\n                    date={\n                        <DateTimeRangeSelect\n                            disabled={loading}\n                            from={from}\n                            to={to}\n                            onFromChange={setFrom}\n                            onToChange={setTo}\n                        />\n                    }\n                />\n\n                <Form layout=\"vertical\">\n                    <Form.Item\n                        label=\"Grund der Sperrung\"\n                    >\n                        <Input\n                            disabled={loading}\n                            onChange={handleChangeReason}\n                            placeholder=\"Kein Grund\"\n                            value={reason}\n                        />\n                        <div className={styles.changeReasonHint}>\n                            Bestehende Reservierungen werden storniert.\n                        </div>\n                    </Form.Item>\n                </Form>\n            </div>\n        </Modal>\n    );\n}","import { LoginForm } from './LoginForm';\nimport { Modal } from 'antd';\nimport React from 'react';\n\nexport function LoginModal({\n    onClose\n}) {\n    return (\n        <Modal\n            title=\"Anmeldung erforderlich\"\n            visible={true}\n            width={400}\n            centered\n            onCancel={onClose}\n            onOk={onClose}\n            footer={null}\n        >\n            <LoginForm />\n        </Modal>\n    );\n}","import { Button, Radio } from 'antd';\nimport { DeleteOutlined, LockOutlined, PlusOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext, useEffect, useMemo, useState } from 'react';\n\nimport { ScrollRadioGroup } from './ScrollRadioGroup';\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport classNames from 'classnames/bind';\nimport styles from './RepeatReservationForm.module.css';\nimport { useTime } from './useTime';\n\nconst cn = classNames.bind(styles);\n\nconst defaultRepeatValuesMap = {\n    1: 'Täglich',\n    7: 'Wöchentlich',\n    14: '2-Wöchentlich',\n};\n\nexport function RepeatReservationForm({\n    courtId,\n    currentReservations,\n    defaultAddCount = 2,\n    disabled = false,\n    from,\n    onChange,\n    repeatValuesMap = defaultRepeatValuesMap,\n    to,\n    unavailableReservations,\n}) {\n    const { user } = useContext(authContext);\n    const { config: { reservationDaysInAdvance } } = useContext(appContext);\n\n    const now = useTime('hour');\n\n    const [repeatValue, setRepeatValue] = useState(0);\n    const [visibleDates, setVisibleDates] = useState([]);\n    const [selectedDates, _setSelectedDates] = useState([]);\n\n    const fromToHourDiff = useMemo(() => Math.abs(to.diff(from, 'hour')), [from, to]);\n    const dateToReservation = useCallback(from => ({\n        courtId,\n        from,\n        to: from.add(fromToHourDiff, 'hour'),\n    }), [courtId, fromToHourDiff]);\n\n    const checkIfTooFarAhead = useCallback(date => (\n        date.isAfter(now.add(reservationDaysInAdvance, 'day'), 'day')\n    ), [now, reservationDaysInAdvance]);\n\n    const checkIfNotAvailable = useCallback(date => {\n        if (!unavailableReservations)\n            return false;\n        const r1 = dateToReservation(date);\n        return unavailableReservations.some(r2 => (\n            r1.courtId === r2.courtId\n            && r1.from.isSame(r2.from, 'hour')\n            && r1.to.isSame(r2.to, 'hour')\n        ));\n    }, [unavailableReservations, dateToReservation]);\n\n    const setSelectedDates = useCallback(selectedDates => {\n        _setSelectedDates(_selectedDates => {\n            let dates = selectedDates;\n            if (typeof selectedDates === 'function')\n                dates = selectedDates(_selectedDates);\n            return dates.filter(d => !checkIfNotAvailable(d));\n        });\n    }, [checkIfNotAvailable]);\n\n    useEffect(() => {\n        onChange(selectedDates.map(dateToReservation));\n    }, [selectedDates, onChange, dateToReservation]);\n\n    // automatically unchecks unavailable dates if unavailableDates changes\n    useEffect(() => setSelectedDates(s => s), [setSelectedDates]);\n\n    useEffect(() => {\n        let selectedDates = [];\n        let visibleDates = [];\n\n        if (currentReservations?.length > 1) {\n            selectedDates = currentReservations.map(r => r.from.hour(from.hour()));\n            selectedDates.sort((a, b) => a.valueOf() - b.valueOf());\n            let repeatValue = Number.MAX_SAFE_INTEGER;\n\n            if (selectedDates.length > 1) {\n                for (let i = 1; i < selectedDates.length; ++i) {\n                    const diff = selectedDates[i - 1].diff(selectedDates[i], 'day');\n                    repeatValue = Math.min(repeatValue, Math.abs(diff));\n                }\n            }\n\n            repeatValue = repeatValue.toString();\n            const allowedValues = Object.keys(repeatValuesMap);\n            if (!allowedValues.includes(repeatValue))\n                repeatValue = allowedValues[0];\n            setRepeatValue(repeatValue);\n\n            const first = selectedDates[0];\n            const last = selectedDates[selectedDates.length - 1];\n            const count = Math.abs(first.diff(last, 'day') / repeatValue);\n            visibleDates = [];\n            for (let i = 0; i <= count; ++i)\n                visibleDates.push(first.add(i * repeatValue, 'day'));\n        } else if (repeatValue > 0) {\n            for (let i = 0; i <= defaultAddCount; ++i) {\n                const date = from.add(i * repeatValue, 'day');\n                visibleDates.push(date);\n                if (!checkIfNotAvailable(date))\n                    selectedDates.push(date);\n            }\n        } else {\n            selectedDates = [from];\n            visibleDates = [from];\n        }\n\n        setVisibleDates(visibleDates);\n        _setSelectedDates(selectedDates);\n    }, [\n        checkIfNotAvailable,\n        courtId, \n        currentReservations, \n        defaultAddCount, \n        from, \n        repeatValue, \n        repeatValuesMap, \n        to, \n    ]);\n\n    const addDate = useCallback(() => {\n        setVisibleDates(visibleDates => {\n            const last = visibleDates[visibleDates.length - 1];\n            const add = last.add(repeatValue, 'day');\n            if (!checkIfTooFarAhead(add))\n                setSelectedDates(selectedDates => [...selectedDates, add]);\n            return [...visibleDates, add];\n        });\n    }, [repeatValue, setSelectedDates, checkIfTooFarAhead]);\n\n    const handleRepeatValueChange = useCallback(e => {\n        const newRepeatValue = e.target.value;\n        setRepeatValue(newRepeatValue);\n    }, []);\n\n    const handleCheckedChange = useCallback((date, checked) => {\n        setSelectedDates(selectedDates => {\n            // change checked state\n            const newSelection = selectedDates.filter(d => !d.isSame(date, 'day'));\n            if (checked)\n                newSelection.push(date);\n            newSelection.sort((a, b) => a.valueOf() - b.valueOf());\n\n            // remove unchecked visible dates at end\n            setVisibleDates(visibleDates => {\n                const newVisibleDates = [...visibleDates];\n                // i > 0: make sure at least one item is visible\n                for (let i = newVisibleDates.length - 1; i > 0; --i) {\n                    if (\n                        currentReservations?.some(r => r.from.isSame(newVisibleDates[i], 'day'))\n                        || newSelection.some(d => d.isSame(newVisibleDates[i], 'day'))\n                    ) {\n                        break;\n                    }\n                    newVisibleDates.pop();\n                }\n                return newVisibleDates;\n            });\n\n            return newSelection;\n        });\n    }, [currentReservations, setSelectedDates]);\n\n    const dates = useMemo(() => {\n        return visibleDates.map(d => {\n            const r = dateToReservation(d);\n            const reserved = currentReservations?.some(cr => \n                cr.from.isSame(r.from, 'hour') && cr.to.isSame(r.to, 'hour'));\n            const checked = selectedDates.some(sd => sd.isSame(d, 'day'));\n            return {\n                date: d,\n                checked,\n                change: !reserved && currentReservations?.some(r => r.from.isSame(d, 'day')),\n                reserved,\n                past: d.isBefore(now, 'hour'),\n                notAvailable: checkIfNotAvailable(d),\n                tooFarAhead: checkIfTooFarAhead(d),\n                onClick: () => handleCheckedChange(d, !checked),\n            };\n        });\n    }, [\n        checkIfNotAvailable, \n        checkIfTooFarAhead, \n        currentReservations, \n        dateToReservation, \n        handleCheckedChange,\n        now, \n        selectedDates, \n        visibleDates, \n    ]);\n\n\n    return (\n        <div className={styles.wrapper}>\n            <div>\n                <ScrollRadioGroup\n                    disabled={currentReservations?.length > 1 || disabled}\n                    onChange={handleRepeatValueChange}\n                    value={repeatValue}\n                >\n                    <Radio.Button key={0} value={0}>Einzeltermin</Radio.Button>\n                    {Object.keys(repeatValuesMap).map(value => (\n                        <Radio.Button key={value} value={value}>{repeatValuesMap[value]}</Radio.Button>\n                    ))}\n                </ScrollRadioGroup>\n            </div>\n\n            {repeatValue > 0 &&\n                <>\n                    <div className={styles.dates}>\n                        {dates.map(({ date, checked, change, reserved, past, notAvailable, tooFarAhead, onClick }) => (\n                            <Button\n                                key={date}\n                                className={cn({\n                                    dateButton: true,\n                                    unchecked: !checked,\n                                    danger: (reserved && !checked) || notAvailable,\n                                })}\n                                disabled={(!user?.admin && (past || tooFarAhead)) || notAvailable || disabled}\n                                onClick={onClick}\n                                type=\"link\"\n                                icon={\n                                    ((!user?.admin && (past || tooFarAhead)) || notAvailable || disabled) \n                                        ? <LockOutlined />\n                                        : checked ? <DeleteOutlined /> : <PlusOutlined />\n                                }\n                            >\n                                <span className={styles.date}>{date.format('dd[\\xa0]L')}</span>\n                                {!past && reserved && checked && <span className={styles.extra}>Aktuell reserviert</span>}\n                                {!past && reserved && !checked && <span className={styles.extra}>Wird storniert</span>}\n                                {!notAvailable && past && <span className={styles.extra}>Bereits vergangen</span>}\n                                {!notAvailable && tooFarAhead && <span className={styles.extra}>Zu weit in der Zukunft</span>}\n                                {!notAvailable && change && <span className={styles.extra}>Wird geändert</span>}\n                                {notAvailable && <span className={styles.extra}>Nicht verfügbar</span>}\n                            </Button>\n                        ))}\n                    </div>\n                    <div className={styles.buttons}>\n                        <Button\n                            disabled={disabled}\n                            icon={<PlusOutlined />}\n                            onClick={addDate}\n                            type=\"dashed\"\n                        />\n                    </div>\n                </>\n            }\n        </div>\n    );\n}","import React, { useCallback, useContext, useMemo } from 'react';\nimport { Select, Space } from 'antd';\n\nimport { appContext } from '../AppContext';\nimport { visibleHoursToHoursArray } from '../helper';\n\nexport function ReservationTimeSelect({\n    disabled = false,\n    from,\n    to,\n    onFromChange,\n    onToChange,\n}) {\n    const { config: { visibleHours } } = useContext(appContext);\n\n    const hours = useMemo(() => visibleHoursToHoursArray(visibleHours), [visibleHours]);\n\n    const toHours = useMemo(() => hours.reduce((toHours, h) => {\n        if (h >= from.hour())\n            toHours.push(h + 1);\n        return toHours;\n    }, []), [from, hours]);\n\n    const handleFromChange = useCallback(newFromHour => {\n        const diff = Math.abs(to.diff(from, 'hour'));\n        let newToHour = newFromHour + diff;\n        if (!hours.includes(newToHour))\n            newToHour = hours[hours.length - 1] + 1;\n        onFromChange(from.hour(newFromHour));\n        onToChange(to.hour(newToHour));\n    }, [from, to, onFromChange, onToChange, hours]);\n\n    const handleToChange = useCallback(newToHour => {\n        onToChange(to.hour(newToHour));\n    }, [to, onToChange]);\n\n    return (\n        <Space direction=\"horizontal\" size=\"middle\">\n            <Select\n                bordered={false}\n                disabled={disabled}\n                onChange={handleFromChange}\n                size=\"large\"\n                value={from.hour()}\n            >\n                {hours.map(hour => (\n                    <Select.Option\n                        key={hour}\n                        value={hour}\n                    >\n                        {hour} Uhr\n                    </Select.Option>\n                ))}\n            </Select>\n\n            <span>bis</span>\n\n            <Select\n                bordered={false}\n                disabled={disabled}\n                onChange={handleToChange}\n                size=\"large\"\n                value={to.hour()}\n            >\n                {toHours.map(hour => (\n                    <Select.Option\n                        key={hour}\n                        value={hour}\n                    >\n                        {hour % 24} Uhr\n                    </Select.Option>\n                ))}\n            </Select>\n        </Space>\n    );\n}","import { Button, Input, Radio } from 'antd';\nimport { DownOutlined, EditOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext, useState } from 'react';\n\nimport { DatePicker } from './DatePicker';\nimport { RepeatReservationForm } from './RepeatReservationForm';\nimport { ReservationDetails } from './ReservationDetails';\nimport { ReservationTimeSelect } from './ReservationTimeSelect';\nimport { ScrollRadioGroup } from './ScrollRadioGroup';\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport { getCourtName } from '../helper';\nimport styles from './ReservationDetailsForm.module.css';\n\nexport function ReservationDetailsForm({\n    courtId,\n    currentReservations,\n    disabled,\n    from,\n    onCourtIdChange,\n    onFromChange,\n    onReservationsChange,\n    onTextChange,\n    onToChange,\n    readOnly,\n    text,\n    to,\n    unavailableReservations,\n}) {\n    const { courts } = useContext(appContext);\n    const { user } = useContext(authContext);\n\n    const [editName, setEditName] = useState(false);\n    const handleEditName = useCallback(() => {\n        setEditName(true);\n    }, []);\n\n    const handleCancelEditName = useCallback(() => {\n        setEditName(false);\n        onTextChange(null);\n    }, [onTextChange]);\n\n    const handleDateChange = useCallback(date => {\n        const diff = Math.abs(to.diff(from, 'hour'));\n        const newFrom = date.hour(from.hour());\n        const newTo = newFrom.add(diff, 'hour');\n        onFromChange(newFrom);\n        onToChange(newTo);\n    }, [from, to, onFromChange, onToChange]);\n\n    const handleTextChange = useCallback(e => {\n        onTextChange(e.target.value);\n    }, [onTextChange]);\n\n    const handleCourtIdChange = useCallback(e => {\n        onCourtIdChange(e.target.value);\n    }, [onCourtIdChange]);\n\n    if (readOnly)\n        return (\n            <ReservationDetails\n                court={\n                    <div className={styles.plain}>\n                        {getCourtName(courts, courtId)}\n                    </div>\n                }\n                date={\n                    <div className={styles.plain}>\n                        {from.format('dd[\\xa0]L')}\n                    </div>\n                }\n                time={\n                    <div className={styles.plain}>\n                        {from.format('H')} Uhr bis {to.format('H')} Uhr\n                    </div>\n                }\n                name={\n                    <div className={styles.plain}>\n                        {currentReservations?.[0]?.text || currentReservations?.[0]?.name || user.name}\n                    </div>\n                }\n            />\n\n        );\n\n    return (\n        <ReservationDetails\n            court={\n                <ScrollRadioGroup\n                    disabled={disabled}\n                    onChange={handleCourtIdChange}\n                    value={courtId}\n                >\n                    {courts.map(({ courtId, name }) => (\n                        <Radio.Button key={courtId} value={courtId}>{name}</Radio.Button>\n                    ))}\n                </ScrollRadioGroup>\n            }\n            date={\n                <DatePicker\n                    allowClear={false}\n                    bordered={false}\n                    className={styles.datePicker}\n                    disabled={currentReservations?.length > 1 || disabled}\n                    format=\"L\"\n                    onChange={handleDateChange}\n                    showToday={false}\n                    suffixIcon={<DownOutlined />}\n                    value={from}\n                />\n            }\n            time={\n                <ReservationTimeSelect\n                    disabled={disabled}\n                    from={from}\n                    to={to}\n                    onFromChange={onFromChange}\n                    onToChange={onToChange}\n                />\n            }\n            name={editName ?\n                (\n                    <>\n                        <Input\n                            className={styles.nameInput}\n                            disabled={disabled}\n                            onChange={handleTextChange}\n                            placeholder=\"z.B. Training, ...\"\n                            value={text}\n                            size=\"large\"\n                        />\n                        <Button\n                            disabled={disabled}\n                            onClick={handleCancelEditName}\n                            type='link'\n                        >\n                            abbrechen\n                        </Button>\n                    </>\n                ) : (\n                    <>\n                        <div className={styles.plain}>\n                            <span>\n                                {currentReservations?.[0]?.text || currentReservations?.[0]?.name || user.name}\n                            </span>\n                        </div>\n                        {user.admin &&\n                            <Button\n                                disabled={disabled}\n                                onClick={handleEditName}\n                                type='link'\n                            >\n                                <EditOutlined /> bearbeiten\n                            </Button>\n                        }\n                    </>\n                )\n            }\n            repeat={\n                <RepeatReservationForm\n                    courtId={courtId}\n                    currentReservations={currentReservations}\n                    disabled={disabled}\n                    from={from}\n                    onChange={onReservationsChange}\n                    to={to}\n                    unavailableReservations={unavailableReservations}\n                />\n            }\n        />\n    );\n}","import { Button, Form, Input, Modal, Radio, message } from 'antd';\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { getReservationsApi, patchReservationGroupApi, postReservationGroupApi } from '../api';\n\nimport { Ball } from '../Ball';\nimport { ErrorResult } from '../ErrorResult';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { ReservationDetailsForm } from './ReservationDetailsForm';\nimport { StatusText } from '../admin/StatusText';\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport dayjs from 'dayjs';\nimport { getCourtName } from '../helper';\nimport styles from './ReservationGroupModal.module.css';\nimport { useApi } from '../useApi';\n\nconst INITIAL_TO_HOUR_ADD = 1;\n\nexport function ReservationGroupModal({\n    initialFrom,\n    initialCourtId,\n    reservation,\n    onFinish,\n    setReservations: setOuterReservations,\n}) {\n    const { courts, templates: { reservationTos } } = useContext(appContext);\n    const { user } = useContext(authContext);\n\n    const [changeReason, setChangeReason] = useState('');\n    const [text, setText] = useState(null);\n    const [reservations, setReservations] = useState(null);\n    const [from, setFrom] = useState(reservation?.from || initialFrom);\n    const [to, setTo] = useState(() => reservation?.to || initialFrom.add(INITIAL_TO_HOUR_ADD, 'hour'));\n    const [courtId, setCourtId] = useState(reservation?.courtId || initialCourtId);\n    const prevErrorRef = useRef({});\n\n    const [groupReservations, setGroupReservations] = useState([]);\n    const [state, getGroupReservations] = useApi(getReservationsApi, setGroupReservations);\n\n    const [postState, postReservationGroup] = useApi(postReservationGroupApi, setOuterReservations);\n    const [patchState, patchReservationGroup] = useApi(patchReservationGroupApi, setOuterReservations);\n\n    const loading = state.loading || postState.loading || patchState.loading;\n\n    const adminEdit = reservation && user.admin && reservation?.userId !== user.userId;\n    const canEdit = user.admin || !reservation || reservation.userId === user.userId;\n\n    const newReservations = useMemo(() => reservations?.filter(\n        r => !groupReservations.some(gr => gr.from.isSame(r.from, 'hour') && gr.to.isSame(r.to, 'hour'))\n    ), [reservations, groupReservations]);\n    const cancelReservations = useMemo(() => reservations && groupReservations.filter(\n        gr => !reservations.some(r => r.from.isSame(gr.from, 'hour') && r.to.isSame(gr.to, 'hour'))\n    ), [reservations, groupReservations]);\n    const changeText = !!(groupReservations && text);\n\n    const unavailableReservations = useMemo(() => {\n        let uaRes = postState.error?.unavailableReservations || patchState.error?.unavailableReservations;\n        if (uaRes)\n            uaRes = uaRes.map(({ courtId, from, to }) => ({\n                courtId,\n                from: dayjs(from),\n                to: dayjs(to),\n            }));\n        return uaRes;\n    }, [patchState.error?.unavailableReservations, postState.error?.unavailableReservations]);\n\n    useEffect(() => {\n        if (reservation?.groupId)\n            getGroupReservations({ query: { 'group-id': reservation?.groupId } });\n    }, [reservation, getGroupReservations]);\n\n    const handleChangeChangeReason = useCallback(e => {\n        setChangeReason(e.target.value);\n    }, []);\n\n    const handlePostReservation = useCallback(() => {\n        const doPost = () => {\n            postReservationGroup(null, {\n                reservations,\n                text,\n                type: RESERVATION_TYPES.NORMAL,\n            }, () => {\n                message.success(\"Reservierung erfolgreich\");\n                onFinish();\n            });\n        };\n\n        Modal.confirm({\n            icon: false,\n            okText: 'Akzeptieren',\n            width: 530,\n            centered: true,\n            content: (\n                <div dangerouslySetInnerHTML={{ __html: reservationTos.body }} />\n            ),\n            onOk: doPost,\n        });\n    }, [\n        onFinish,\n        postReservationGroup,\n        reservations,\n        reservationTos,\n        text,\n    ]);\n\n    const handleChangeReservation = useCallback(() => {\n        const doChange = () => {\n            patchReservationGroup({\n                path: {\n                    groupId: reservation.groupId\n                }\n            }, {\n                reason: adminEdit ? changeReason : undefined,\n                reservations,\n                text,\n            }, () => {\n                message.success(\"Speichern erfolgreich\");\n                onFinish();\n            });\n        };\n\n        Modal.confirm({\n            title: 'Wirklich speichern?',\n            icon: <ExclamationCircleOutlined />,\n            centered: true,\n            content: (\n                <div className={styles.wrapper}>\n\n                    {newReservations.length > 0 &&\n                        <>\n                            <div className={styles.heading}>Neue Termine</div>\n                            <ul>\n                                {newReservations.map(({ courtId, from, to }) => (\n                                    <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                                ))}\n                            </ul>\n                        </>\n                    }\n\n                    {cancelReservations.length > 0 &&\n                        <>\n                            <div className={styles.heading}>Zu Stornieren</div>\n                            <ul>\n                                {cancelReservations.map(({ courtId, from, to }) => (\n                                    <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                                ))}\n                            </ul>\n                        </>\n                    }\n\n                    {changeText &&\n                        <>\n                            <div className={styles.heading}>Änderungen</div>\n                            <ul>\n                                <li>Name: <strong>{text}</strong></li>\n                            </ul>\n                        </>\n                    }\n\n                </div>\n            ),\n            okText: 'Bestätigen',\n            okType: 'danger',\n            cancelText: 'Abbrechen',\n            onOk: doChange\n        });\n    }, [\n        adminEdit,\n        cancelReservations,\n        changeReason,\n        changeText,\n        courts,\n        newReservations,\n        onFinish,\n        patchReservationGroup,\n        reservation,\n        reservations,\n        text,\n    ]);\n\n\n    const handleCancelReservation = useCallback(() => {\n        let cancelType = 'single';\n\n        const handleCancelTypeChange = e => (cancelType = e.target.value);\n\n        const doDelete = () => {\n            const reqParams = {\n                path: {\n                    groupId: reservation.groupId\n                }\n            };\n            const cb = () => {\n                message.success(\"Stornierung erfolgreich\");\n                onFinish();\n            }\n\n            let reservations;\n            if (cancelType === 'single') {\n                reservations = groupReservations.filter(r => !r.from.isSame(reservation.from, 'day'));\n            } else if (cancelType === 'allActive') {\n                reservations = groupReservations.filter(r => r.from.isBefore(dayjs(), 'hour'));\n            } else {\n                reservations = [];\n            }\n\n            patchReservationGroup(reqParams, {\n                reason: adminEdit ? changeReason : undefined,\n                reservations,\n            }, cb);\n        };\n\n        if (groupReservations.length <= 1) {\n            doDelete();\n        } else {\n            Modal.confirm({\n                title: 'Termine stornieren',\n                icon: <ExclamationCircleOutlined />,\n                centered: true,\n                content: (\n                    <Radio.Group \n                        className={styles.cancelRadioGroup}\n                        onChange={handleCancelTypeChange}\n                        defaultValue={cancelType}\n                    >\n                        <Radio value=\"single\">Nur diesen Termin</Radio>\n                        <ul>\n                            <li key={reservation.from}>{reservation.from.format('dd[\\xa0]L')}, {reservation.from.hour()}&nbsp;bis&nbsp;{reservation.to.hour()}&nbsp;Uhr, {getCourtName(courts, reservation.courtId)}</li>\n                        </ul>\n                        <Radio value=\"allActive\">Alle offenen Termine</Radio>\n                        <ul>\n                            {groupReservations.filter(r => !r.from.isBefore(dayjs(), 'hour')).map(({ courtId, from, to }) => (\n                                <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                            ))}\n                        </ul>\n                        {user?.admin &&\n                            <>\n                                <Radio value=\"all\">Alle Termine</Radio>\n                                <ul>\n                                    {groupReservations.map(({ courtId, from, to }) => (\n                                        <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                                    ))}\n                                </ul>\n                            </>\n                        }\n                    </Radio.Group>\n                ),\n                okText: 'Stornieren',\n                okType: 'danger',\n                cancelText: 'Abbrechen',\n                onOk: doDelete,\n            });\n        }\n    }, [\n        adminEdit,\n        changeReason,\n        courts,\n        groupReservations,\n        onFinish,\n        patchReservationGroup,\n        reservation,\n        user?.admin,\n    ]);\n\n    useEffect(() => {\n        if (prevErrorRef.current.post === postState.error\n            && prevErrorRef.current.patch === patchState.error)\n            return;\n        prevErrorRef.current.post = postState.error;\n        prevErrorRef.current.patch = patchState.error;\n\n        const message = postState.error?.message || patchState.error?.message;\n        if (unavailableReservations) {\n            Modal.error({\n                centered: true,\n                title: 'Reservierung fehlgeschlagen',\n                content: (\n                    <div>\n                        <div>\n                            Folgende Termine sind nicht verfügbar:\n                        </div>\n                        <ul>\n                            {unavailableReservations.map(({ courtId, from, to }) => (\n                                <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                            ))}\n                        </ul>\n                    </div>\n                )\n            });\n        } else if (message === 'too many active reservations') {\n            const value = postState.error?.value || patchState.error?.value;\n            const max = postState.error?.max || patchState.error?.max;\n            const diff = Math.abs(value - max);\n            Modal.error({\n                centered: true,\n                title: 'Reservierungslimit erreicht',\n                content: (\n                    <div>\n                        {reservations?.length > diff ?\n                            (\n                                <p>\n                                    Bitte entfernen Sie mindestens <strong>{diff}</strong> Termine.\n                                </p>\n                            ) : (\n                                <p>\n                                    Sie können aktuell keine weiteren Termine reservieren.\n                                </p>\n                            )\n                        }\n                        <p>\n                            Es können maximal {max} Reservierungen im voraus getätigt werden. Bereits vergangene Termine werden dabei nicht angerechnet.\n                        </p>\n                    </div>\n                )\n            });\n        }\n    }, [courts, reservations?.length, postState.error, patchState.error, unavailableReservations])\n\n    if (\n        state.error\n        || (postState.error && !postState.error.unavailableReservations && postState.error.message !== 'too many active reservations')\n        || (patchState.error && !patchState.error.unavailableReservations && patchState.error.message !== 'too many active reservations')\n    ) {\n        return (\n            <Modal\n                title=\"Reservierung\"\n                visible={true}\n                centered\n                onCancel={onFinish}\n                onOk={onFinish}\n                footer={\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            Abbrechen\n                        </Button>\n                    </div>\n                }\n            >\n                <div className={styles.wrapper}>\n                    <ErrorResult />\n                </div>\n            </Modal>\n        );\n    }\n\n    return (\n        <Modal\n            visible={true}\n            width={530}\n            centered\n            onCancel={onFinish}\n            onOk={onFinish}\n            footer={loading ?\n                (\n                    <StatusText\n                        loading\n                        text=\"Bitte warten...\"\n                    />\n                ) : (\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            {canEdit ? 'Abbrechen' : 'Schließen'}\n                        </Button>\n                        {canEdit && (reservation ?\n                            (\n                                <>\n                                    <Button\n                                        type=\"danger\"\n                                        onClick={handleCancelReservation}\n                                        disabled={adminEdit && !changeReason}\n                                    >\n                                        Stornieren\n                                    </Button>\n                                    <Button\n                                        type=\"primary\"\n                                        onClick={handleChangeReservation}\n                                        disabled={\n                                            !(newReservations?.length || cancelReservations?.length || changeText)\n                                            || (adminEdit && !changeReason)\n                                        }\n                                    >\n                                        Speichern\n                                    </Button>\n                                </>\n                            ) : (\n                                <Button\n                                    disabled={!newReservations?.length}\n                                    type=\"primary\"\n                                    onClick={handlePostReservation}\n                                >\n                                    Reservieren\n                                </Button>\n                            )\n                        )}\n                    </div>\n                )\n            }\n        >\n            <div className={styles.wrapper}>\n                {state.loading ?\n                    (\n                        <Ball visible spin centered large />\n                    ) : (\n\n                        <ReservationDetailsForm\n                            courtId={courtId}\n                            currentReservations={groupReservations}\n                            disabled={loading}\n                            from={from}\n                            onCourtIdChange={setCourtId}\n                            onFromChange={setFrom}\n                            onReservationsChange={setReservations}\n                            onTextChange={setText}\n                            onToChange={setTo}\n                            readOnly={!canEdit}\n                            text={text}\n                            to={to}\n                            unavailableReservations={unavailableReservations}\n                        />\n                    )\n                }\n\n                {adminEdit &&\n                    <Form layout=\"vertical\">\n                        <Form.Item \n                            label=\"Grund der Änderung\"\n                            required\n                        >\n                            <Input.TextArea\n                                autoSize\n                                disabled={loading}\n                                onChange={handleChangeChangeReason}\n                                placeholder=\"Erforderlich\"\n                                required\n                                value={changeReason}\n                            />\n                            <div className={styles.changeReasonHint}>\n                                Der Inhaber der Reservierung wird über die Änderungen sowie dessen Grund per E-Mail informiert.\n                            </div>\n                        </Form.Item>\n                    </Form>\n                }\n            </div>\n        </Modal>\n    );\n}","import { Button, Modal, Result } from 'antd';\nimport React, { useCallback, useContext } from 'react';\n\nimport { authContext } from '../AuthContext';\nimport styles from './VerifyMailModal.module.css';\nimport { useHistory } from 'react-router-dom';\n\nexport function VerifyMailModal({\n    onClose\n}) {\n    const { user } = useContext(authContext);\n    const history = useHistory();\n\n    const handleChangeMailClick = useCallback(() => {\n        history.push('/profile');\n    }, [history]);\n    \n    const handleResendMail = useCallback(() => {\n        history.push('/verify-mail/send');\n    }, [history]);\n\n    return (\n        <Modal\n            title=\"E-Mail nicht verifiziert\"\n            visible={true}\n            centered\n            width={580}\n            onCancel={onClose}\n            onOk={onClose}\n            footer={null}\n        >\n            <Result\n                status=\"warning\"\n                title=\"Bitte bestätigen Sie Ihre E-Mail Adresse\"\n                extra={\n                    <div>\n                        <div>\n                            Klicken Sie auf den Bestätigungslink, den Sie bei Ihrer Registrierung an <strong>{user?.mail}</strong> erhalten haben.\n                        </div>\n                        <div className={styles.buttons}>\n                            <Button type=\"primary\" onClick={handleResendMail}>\n                                Bestätigungslink erneut senden\n                            </Button>\n                            <Button type=\"link\" onClick={handleChangeMailClick}>\n                                E-Mail Adresse ändern\n                            </Button>\n                        </div>\n                    </div>\n                }\n            />\n        </Modal>\n    );\n}","import React, { useContext } from 'react';\n\nimport { DisableReservationGroupModal } from './DisableReservationGroupModal';\nimport { LoginModal } from '../user/LoginModal';\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { ReservationGroupModal } from './ReservationGroupModal';\nimport { VerifyMailModal } from '../user/VerifyMailModal';\nimport { authContext } from '../AuthContext';\n\nexport function ReservationModal(props) {\n    \n    const { user } = useContext(authContext);\n    const { onFinish, reservation, type } = props;\n\n    if (!user)\n        return <LoginModal onClose={onFinish} />\n\n    if (!user.verified)\n        return <VerifyMailModal onClose={onFinish} />\n\n    if (reservation?.type === RESERVATION_TYPES.DISABLE || type === RESERVATION_TYPES.DISABLE)\n        return <DisableReservationGroupModal {...props} />;\n\n    return <ReservationGroupModal {...props} />;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cell\":\"SlotCell_cell__10BAl\",\"enabled\":\"SlotCell_enabled__3WkTf\",\"alwaysClickable\":\"SlotCell_alwaysClickable__9sej8\",\"slot\":\"SlotCell_slot__2KRoY\",\"text\":\"SlotCell_text__1xoLV\",\"singleLine\":\"SlotCell_singleLine__22a8x\",\"reserved\":\"SlotCell_reserved__1oREX\",\"mine\":\"SlotCell_mine__Fe5AN\",\"loading\":\"SlotCell_loading__19J7J\",\"load\":\"SlotCell_load__YLQlz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DayTable_wrapper__1Hl5M\",\"cols\":\"DayTable_cols__3g9Sf\",\"date\":\"DayTable_date__3HnYm\",\"today\":\"DayTable_today__3s1dj\",\"court\":\"DayTable_court__3mDRl\",\"body\":\"DayTable_body__27nsw\",\"blur\":\"DayTable_blur__1Rzxw\",\"infoOverlay\":\"DayTable_infoOverlay__2JlXg\",\"linkButton\":\"DayTable_linkButton__3jjgW\",\"adminAction\":\"DayTable_adminAction__3kbRX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"HoursTable_wrapper__1o48U\",\"hour\":\"HoursTable_hour__2iAsO\",\"to\":\"HoursTable_to__U0x1y\",\"highlight\":\"HoursTable_highlight__16BlN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ReservationCalendar_wrapper__r-AWI\",\"tableWrapper\":\"ReservationCalendar_tableWrapper__Zzm8d\",\"tableScroller\":\"ReservationCalendar_tableScroller__1fVFR\"};","import React, { useCallback, useContext } from 'react';\n\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { authContext } from '../AuthContext';\nimport classNames from 'classnames/bind';\nimport styles from './SlotCell.module.css';\n\nconst cn = classNames.bind(styles);\n\nconst SLOT_HEIGHT_PX = 32;\nconst CELL_PADDING_PX = 3;\n\nexport function SlotCell({\n    alwaysClickable = false,\n    courtId,\n    courtName,\n    date,\n    disabled = false,\n    hours,\n    loading = false,\n    onClick,\n    reservation,\n}) {\n    const { user } = useContext(authContext);\n\n    const handleClick = useCallback(() => {\n        if (alwaysClickable || (!disabled && reservation?.type !== RESERVATION_TYPES.DISABLE))\n            onClick({ courtId, date, reservation });\n    }, [alwaysClickable, courtId, date, disabled, onClick, reservation]);\n\n    let rowSpan = 1;\n    if (reservation) {\n        if (reservation.from.isBefore(date, 'hour') && date.hour() !== hours[0]) {\n            rowSpan = 0;\n        } else {\n            const maxRowSpan = hours.length - hours.indexOf(date.hour());\n            rowSpan = Math.min(reservation.to.diff(date, 'hour'), maxRowSpan);\n        }\n    }\n\n    if (rowSpan === 0)\n        return null;\n\n    return (\n        <div\n            className={cn({\n                alwaysClickable,\n                cell: true,\n                enabled: !disabled && reservation?.type !== RESERVATION_TYPES.DISABLE,\n            })}\n            style={{ padding: CELL_PADDING_PX }}\n            rowSpan={rowSpan}\n            onClick={handleClick}\n        >\n            <div\n                className={cn({\n                    slot: true,\n                    loading,\n                    reserved: reservation?.type === RESERVATION_TYPES.NORMAL,\n                    mine: user && user?.userId === reservation?.userId,\n                })}\n                style={{ height: SLOT_HEIGHT_PX * rowSpan + CELL_PADDING_PX * 2 * (rowSpan - 1) }}\n                data-free-text=\"Frei\"\n                data-free-text-hover={`${date.hour()} Uhr, ${courtName}`}\n            >\n                <div className={cn({\n                    text: true,\n                    singleLine: rowSpan === 1,\n                })}>\n                    {reservation && (reservation.type === RESERVATION_TYPES.DISABLE ?\n                        (\n                            <>\n                                <div>Gesperrt</div>\n                                <div>{reservation.text}</div>\n                            </>\n                        ) : (\n                            <div>{reservation.text || reservation.name}</div>\n                        )\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React, { useCallback, useContext, useEffect, useMemo, useState } from 'react';\n\nimport { Button } from 'antd';\nimport { SlotCell } from './SlotCell';\nimport { authContext } from '../AuthContext';\nimport classNames from 'classnames/bind';\nimport { findReservation } from '../helper';\nimport styles from './DayTable.module.css';\nimport { useTime } from './useTime';\n\nconst cn = classNames.bind(styles);\n\nexport function DayTable({\n    courts,\n    date,\n    hours,\n    loading,\n    onDisableCourtClick,\n    onSlotClick,\n    reservationDaysInAdvance,\n    reservations,\n}) {\n    const { user } = useContext(authContext);\n    const [disableOverlay, setDisableOverlay] = useState(false);\n    useEffect(() => setDisableOverlay(false), [user]);\n\n    const now = useTime('hour');\n\n    const isToday = useMemo(() => now.isSame(date, 'day'), [date, now]);\n    const tooFarAhead = useMemo(() =>\n        date.isAfter(now.add(reservationDaysInAdvance, 'day'), 'day'), [date, now, reservationDaysInAdvance]);\n    const reservableAsOf = useMemo(() => date.subtract(reservationDaysInAdvance, 'day').format('L'), [date, reservationDaysInAdvance]);\n\n    const showInfoOverlay = !disableOverlay && tooFarAhead;\n\n    const dates = useMemo(() => hours.map(h => date.hour(h)), [date, hours]);\n\n    const handleDisableOverlayClick = useCallback(() => setDisableOverlay(true), []);\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.date}>\n                {isToday && <span className={styles.today}>Heute</span>}\n                {date.format('dd[\\xa0]L')}\n            </div>\n\n            <div className={styles.cols}>\n                {courts.map(({ courtId, name }) => (\n                    <div key={courtId} className={styles.court}>\n                        {name}\n                    </div>\n                ))}\n            </div>\n\n            <div className={cn('body', 'cols')}>\n                {courts.map(({ courtId, name }) => (\n                    <div \n                        key={courtId} \n                        className={cn({ blur: showInfoOverlay })}\n                    >\n                        {dates.map(date => (\n                            <SlotCell\n                                alwaysClickable={user?.admin}\n                                courtId={courtId}\n                                courtName={name}\n                                date={date}\n                                disabled={date.isBefore(now, 'hour')}\n                                hours={hours}\n                                key={date}\n                                loading={loading}\n                                onClick={onSlotClick}\n                                reservation={findReservation(reservations, date, courtId)}\n                            />\n                        ))}\n                        {user?.admin &&\n                            <div className={styles.adminAction}>\n                                <Button\n                                    type=\"link\"\n                                    onClick={() => onDisableCourtClick({ courtId, date })}\n                                >\n                                    Sperren\n                                </Button>\n                            </div>\n                        }\n                    </div>\n                ))}\n\n                {showInfoOverlay &&\n                    <div className={styles.infoOverlay}>\n                        <div>Reservierbar<br />ab {reservableAsOf}</div>\n                        {user?.admin &&\n                            <Button\n                                className={styles.linkButton}\n                                type=\"link\"\n                                onClick={handleDisableOverlayClick}\n                            >\n                                Trotzdem reservieren<br />(Trainer/Admin)\n                            </Button>\n                        }\n                    </div>\n                }\n            </div>\n        </div>\n    );\n}\n","import React from 'react';\nimport classNames from 'classnames/bind';\nimport styles from './HoursTable.module.css';\nimport { useTime } from './useTime';\n\nconst cn = classNames.bind(styles);\n\nexport function HoursTable({\n    hours,\n    highlightHour,\n}) {\n    const now = useTime('hour');\n\n    return (\n        <div className={styles.wrapper}>\n            {hours.map(hour => (\n                <div \n                    key={hour} \n                    className={cn({ \n                        hour: true,\n                        highlight: highlightHour && now.hour() === hour\n                    })}\n                >\n                    {hour} Uhr<br />\n                    <span className={styles.to}>bis {(hour + 1) % 24} Uhr</span>\n                </div>\n            ))}\n        </div>\n    );\n}","import React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\n\nimport { DayTable } from './DayTable';\nimport { ErrorResult } from '../ErrorResult';\nimport { HoursTable } from './HoursTable';\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { ReservationModal } from './ReservationModal';\nimport { UPDATE_INTERVALS_SEC } from '../updateIntervals';\nimport { appContext } from '../AppContext';\nimport { getReservationsApi } from '../api';\nimport styles from './ReservationCalendar.module.css';\nimport { useApi } from '../useApi';\nimport { useTime } from './useTime';\nimport { useUpdateEffect } from '../useUpdateEffect';\nimport { visibleHoursToHoursArray } from '../helper';\n\nconst VISIBLE_DATES_COUNT = 7; // week\n\nexport function ReservationCalendar({\n    kiosk = false,\n    selectedDate,\n}) {\n    const { courts, config: { visibleHours, reservationDaysInAdvance } } = useContext(appContext);\n\n    const today = useTime('day');\n\n    const [selectedSlot, setSelectedSlot] = useState();\n    const scrollerRef = useRef();\n\n    const [reservations, setReservations] = useState(null);\n    const [state, getReservations] = useApi(getReservationsApi, setReservations); \n\n    const updateReservations = useCallback(() => getReservations({\n        query: {\n            start: selectedDate.startOf('week').toISOString(),\n            end: selectedDate.endOf('week').toISOString(),\n        }\n    }), [selectedDate, getReservations]);\n\n    useUpdateEffect(updateReservations, UPDATE_INTERVALS_SEC.RESERVATIONS);\n\n    useEffect(() => {\n        setReservations(null);\n        updateReservations();\n    }, [updateReservations]);\n\n    const hours = useMemo(() => visibleHoursToHoursArray(visibleHours), [visibleHours]);\n\n    const visibleDates = useMemo(() => Array.from(Array(VISIBLE_DATES_COUNT)).map((_, i) =>\n        selectedDate.startOf('week').add(i, 'day') // startOf also sets hours, mins, secs to zero\n    ), [selectedDate]);\n\n    // scroll automatically to today's date\n    useEffect(() => {\n        if (!scrollerRef.current)\n            return;\n        if (selectedDate.isSame(today, 'week')) {\n            const index = Math.abs(today.startOf('week').diff(today, 'day'));\n            requestAnimationFrame(() => {\n                scrollerRef.current.scrollLeft\n                    = ((scrollerRef.current.scrollWidth) / VISIBLE_DATES_COUNT) * index;\n            });\n        } else {\n            requestAnimationFrame(() => {\n                scrollerRef.current.scrollLeft = 0;\n            });\n        }\n    }, [selectedDate, today]);\n\n    const handleSlotClicked = useCallback(selectedSlot => {\n        if (!kiosk)\n            setSelectedSlot(selectedSlot);\n    }, [kiosk]);\n\n    const handleDisableCourtClicked = useCallback(selectedSlot => {\n        setSelectedSlot({ \n            ...selectedSlot,\n            type: RESERVATION_TYPES.DISABLE,\n        });\n    }, []);\n\n    const handleReservationFinish = useCallback(() => {\n        setSelectedSlot(null);\n    }, []);\n\n    if (state.error)\n        return (\n            <div className={styles.tableWrapper}>\n                <ErrorResult />\n            </div>\n        );\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.tableWrapper}>\n                <HoursTable\n                    hours={hours}\n                    highlightHour={selectedDate.isSame(today, 'week')}\n                />\n\n                <div className={styles.tableScroller} ref={scrollerRef}>\n                    {visibleDates.map(date => (\n                        <DayTable\n                            courts={courts}\n                            date={date}\n                            hours={hours}\n                            key={date}\n                            loading={!reservations}\n                            onDisableCourtClick={handleDisableCourtClicked}\n                            onSlotClick={handleSlotClicked}\n                            reservationDaysInAdvance={reservationDaysInAdvance}\n                            reservations={reservations}\n                        />\n                    ))}\n                </div>\n            </div>\n\n            {selectedSlot &&\n                <ReservationModal\n                    initialFrom={selectedSlot?.date}\n                    initialCourtId={selectedSlot?.courtId}\n                    reservation={selectedSlot?.reservation}\n                    type={selectedSlot?.type}\n                    onFinish={handleReservationFinish}\n                    setReservations={setReservations}\n                />\n            }\n        </div>\n    );\n}","module.exports = {\n\tMODE_NUMBER :\t\t1 << 0,\n\tMODE_ALPHA_NUM : \t1 << 1,\n\tMODE_8BIT_BYTE : \t1 << 2,\n\tMODE_KANJI :\t\t1 << 3\n};\n","module.exports = {\n\tL : 1,\n\tM : 0,\n\tQ : 3,\n\tH : 2\n};\n\n","var math = require('./math');\n\nfunction QRPolynomial(num, shift) {\n\n\tif (num.length == undefined) {\n\t\tthrow new Error(num.length + \"/\" + shift);\n\t}\n\n\tvar offset = 0;\n\n\twhile (offset < num.length && num[offset] == 0) {\n\t\toffset++;\n\t}\n\n\tthis.num = new Array(num.length - offset + shift);\n\tfor (var i = 0; i < num.length - offset; i++) {\n\t\tthis.num[i] = num[i + offset];\n\t}\n}\n\nQRPolynomial.prototype = {\n\n\tget : function(index) {\n\t\treturn this.num[index];\n\t},\n\t\n\tgetLength : function() {\n\t\treturn this.num.length;\n\t},\n\t\n\tmultiply : function(e) {\n\t\n\t\tvar num = new Array(this.getLength() + e.getLength() - 1);\n\t\n\t\tfor (var i = 0; i < this.getLength(); i++) {\n\t\t\tfor (var j = 0; j < e.getLength(); j++) {\n\t\t\t\tnum[i + j] ^= math.gexp(math.glog(this.get(i) ) + math.glog(e.get(j) ) );\n\t\t\t}\n\t\t}\n\t\n\t\treturn new QRPolynomial(num, 0);\n\t},\n\t\n\tmod : function(e) {\n\t\n\t\tif (this.getLength() - e.getLength() < 0) {\n\t\t\treturn this;\n\t\t}\n\t\n\t\tvar ratio = math.glog(this.get(0) ) - math.glog(e.get(0) );\n\t\n\t\tvar num = new Array(this.getLength() );\n\t\t\n\t\tfor (var i = 0; i < this.getLength(); i++) {\n\t\t\tnum[i] = this.get(i);\n\t\t}\n\t\t\n\t\tfor (var i = 0; i < e.getLength(); i++) {\n\t\t\tnum[i] ^= math.gexp(math.glog(e.get(i) ) + ratio);\n\t\t}\n\t\n\t\t// recursive call\n\t\treturn new QRPolynomial(num, 0).mod(e);\n\t}\n};\n\nmodule.exports = QRPolynomial;\n","var QRMath = {\n\n\tglog : function(n) {\n\t\n\t\tif (n < 1) {\n\t\t\tthrow new Error(\"glog(\" + n + \")\");\n\t\t}\n\t\t\n\t\treturn QRMath.LOG_TABLE[n];\n\t},\n\t\n\tgexp : function(n) {\n\t\n\t\twhile (n < 0) {\n\t\t\tn += 255;\n\t\t}\n\t\n\t\twhile (n >= 256) {\n\t\t\tn -= 255;\n\t\t}\n\t\n\t\treturn QRMath.EXP_TABLE[n];\n\t},\n\t\n\tEXP_TABLE : new Array(256),\n\t\n\tLOG_TABLE : new Array(256)\n\n};\n\t\nfor (var i = 0; i < 8; i++) {\n\tQRMath.EXP_TABLE[i] = 1 << i;\n}\nfor (var i = 8; i < 256; i++) {\n\tQRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4]\n\t\t^ QRMath.EXP_TABLE[i - 5]\n\t\t^ QRMath.EXP_TABLE[i - 6]\n\t\t^ QRMath.EXP_TABLE[i - 8];\n}\nfor (var i = 0; i < 255; i++) {\n\tQRMath.LOG_TABLE[QRMath.EXP_TABLE[i] ] = i;\n}\n\nmodule.exports = QRMath;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DateClock_wrapper__2wdCe\",\"time\":\"DateClock_time__1UaS1\",\"date\":\"DateClock_date__2fu_M\",\"clockDots\":\"DateClock_clockDots__1qZO2\",\"blink\":\"DateClock_blink__dDypK\"};","'use strict';\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar React = require('react');\n\nvar PropTypes = require('prop-types'); // qr.js doesn't handle error level of zero (M) so we need to do it right,\n// thus the deep require.\n\n\nvar QRCodeImpl = require('qr.js/lib/QRCode');\n\nvar ErrorCorrectLevel = require('qr.js/lib/ErrorCorrectLevel'); // TODO: pull this off of the QRCode class type so it matches.\n\n\n// Convert from UTF-16, forcing the use of byte-mode encoding in our QR Code.\n// This allows us to encode Hanji, Kanji, emoji, etc. Ideally we'd do more\n// detection and not resort to byte-mode if possible, but we're trading off\n// a smaller library for a smaller amount of data we can potentially encode.\n// Based on http://jonisalonen.com/2012/from-utf-16-to-utf-8-in-javascript/\nfunction convertStr(str) {\n  var out = '';\n\n  for (var i = 0; i < str.length; i++) {\n    var charcode = str.charCodeAt(i);\n\n    if (charcode < 0x0080) {\n      out += String.fromCharCode(charcode);\n    } else if (charcode < 0x0800) {\n      out += String.fromCharCode(0xc0 | charcode >> 6);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    } else if (charcode < 0xd800 || charcode >= 0xe000) {\n      out += String.fromCharCode(0xe0 | charcode >> 12);\n      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    } else {\n      // This is a surrogate pair, so we'll reconsitute the pieces and work\n      // from that\n      i++;\n      charcode = 0x10000 + ((charcode & 0x3ff) << 10 | str.charCodeAt(i) & 0x3ff);\n      out += String.fromCharCode(0xf0 | charcode >> 18);\n      out += String.fromCharCode(0x80 | charcode >> 12 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    }\n  }\n\n  return out;\n}\n\nvar DEFAULT_PROPS = {\n  size: 128,\n  level: 'L',\n  bgColor: '#FFFFFF',\n  fgColor: '#000000',\n  includeMargin: false\n};\nvar PROP_TYPES = process.env.NODE_ENV !== 'production' ? {\n  value: PropTypes.string.isRequired,\n  size: PropTypes.number,\n  level: PropTypes.oneOf(['L', 'M', 'Q', 'H']),\n  bgColor: PropTypes.string,\n  fgColor: PropTypes.string,\n  includeMargin: PropTypes.bool,\n  imageSettings: PropTypes.shape({\n    src: PropTypes.string.isRequired,\n    height: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    excavate: PropTypes.bool,\n    x: PropTypes.number,\n    y: PropTypes.number\n  })\n} : {};\nvar MARGIN_SIZE = 4; // This is *very* rough estimate of max amount of QRCode allowed to be covered.\n// It is \"wrong\" in a lot of ways (area is a terrible way to estimate, it\n// really should be number of modules covered), but if for some reason we don't\n// get an explicit height or width, I'd rather default to something than throw.\n\nvar DEFAULT_IMG_SCALE = 0.1;\n\nfunction generatePath(modules) {\n  var margin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var ops = [];\n  modules.forEach(function (row, y) {\n    var start = null;\n    row.forEach(function (cell, x) {\n      if (!cell && start !== null) {\n        // M0 0h7v1H0z injects the space with the move and drops the comma,\n        // saving a char per operation\n        ops.push(\"M\".concat(start + margin, \" \").concat(y + margin, \"h\").concat(x - start, \"v1H\").concat(start + margin, \"z\"));\n        start = null;\n        return;\n      } // end of row, clean up or skip\n\n\n      if (x === row.length - 1) {\n        if (!cell) {\n          // We would have closed the op above already so this can only mean\n          // 2+ light modules in a row.\n          return;\n        }\n\n        if (start === null) {\n          // Just a single dark module.\n          ops.push(\"M\".concat(x + margin, \",\").concat(y + margin, \" h1v1H\").concat(x + margin, \"z\"));\n        } else {\n          // Otherwise finish the current line.\n          ops.push(\"M\".concat(start + margin, \",\").concat(y + margin, \" h\").concat(x + 1 - start, \"v1H\").concat(start + margin, \"z\"));\n        }\n\n        return;\n      }\n\n      if (cell && start === null) {\n        start = x;\n      }\n    });\n  });\n  return ops.join('');\n} // We could just do this in generatePath, except that we want to support\n// non-Path2D canvas, so we need to keep it an explicit step.\n\n\nfunction excavateModules(modules, excavation) {\n  return modules.slice().map(function (row, y) {\n    if (y < excavation.y || y >= excavation.y + excavation.h) {\n      return row;\n    }\n\n    return row.map(function (cell, x) {\n      if (x < excavation.x || x >= excavation.x + excavation.w) {\n        return cell;\n      }\n\n      return false;\n    });\n  });\n}\n\nfunction getImageSettings(props, cells) {\n  var imageSettings = props.imageSettings,\n      size = props.size,\n      includeMargin = props.includeMargin;\n\n  if (imageSettings == null) {\n    return null;\n  }\n\n  var margin = includeMargin ? MARGIN_SIZE : 0;\n  var numCells = cells.length + margin * 2;\n  var defaultSize = Math.floor(size * DEFAULT_IMG_SCALE);\n  var scale = numCells / size;\n  var w = (imageSettings.width || defaultSize) * scale;\n  var h = (imageSettings.height || defaultSize) * scale;\n  var x = imageSettings.x == null ? cells.length / 2 - w / 2 : imageSettings.x * scale;\n  var y = imageSettings.y == null ? cells.length / 2 - h / 2 : imageSettings.y * scale;\n  var excavation = null;\n\n  if (imageSettings.excavate) {\n    var floorX = Math.floor(x);\n    var floorY = Math.floor(y);\n    var ceilW = Math.ceil(w + x - floorX);\n    var ceilH = Math.ceil(h + y - floorY);\n    excavation = {\n      x: floorX,\n      y: floorY,\n      w: ceilW,\n      h: ceilH\n    };\n  }\n\n  return {\n    x: x,\n    y: y,\n    h: h,\n    w: w,\n    excavation: excavation\n  };\n} // For canvas we're going to switch our drawing mode based on whether or not\n// the environment supports Path2D. We only need the constructor to be\n// supported, but Edge doesn't actually support the path (string) type\n// argument. Luckily it also doesn't support the addPath() method. We can\n// treat that as the same thing.\n\n\nvar SUPPORTS_PATH2D = function () {\n  try {\n    new Path2D().addPath(new Path2D());\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n}();\n\nvar QRCodeCanvas =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(QRCodeCanvas, _React$PureComponent);\n\n  function QRCodeCanvas() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, QRCodeCanvas);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(QRCodeCanvas)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"_canvas\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_image\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      imgLoaded: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleImageLoad\", function () {\n      _this.setState({\n        imgLoaded: true\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(QRCodeCanvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.update();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.update();\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _this$props = this.props,\n          value = _this$props.value,\n          size = _this$props.size,\n          level = _this$props.level,\n          bgColor = _this$props.bgColor,\n          fgColor = _this$props.fgColor,\n          includeMargin = _this$props.includeMargin,\n          imageSettings = _this$props.imageSettings; // We'll use type===-1 to force QRCode to automatically pick the best type\n\n      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);\n      qrcode.addData(convertStr(value));\n      qrcode.make();\n\n      if (this._canvas != null) {\n        var canvas = this._canvas;\n        var ctx = canvas.getContext('2d');\n\n        if (!ctx) {\n          return;\n        }\n\n        var cells = qrcode.modules;\n\n        if (cells === null) {\n          return;\n        }\n\n        var margin = includeMargin ? MARGIN_SIZE : 0;\n        var numCells = cells.length + margin * 2;\n        var calculatedImageSettings = getImageSettings(this.props, cells);\n\n        if (imageSettings != null && calculatedImageSettings != null) {\n          if (calculatedImageSettings.excavation != null) {\n            cells = excavateModules(cells, calculatedImageSettings.excavation);\n          }\n        } // We're going to scale this so that the number of drawable units\n        // matches the number of cells. This avoids rounding issues, but does\n        // result in some potentially unwanted single pixel issues between\n        // blocks, only in environments that don't support Path2D.\n\n\n        var pixelRatio = window.devicePixelRatio || 1;\n        canvas.height = canvas.width = size * pixelRatio;\n        var scale = size / numCells * pixelRatio;\n        ctx.scale(scale, scale); // Draw solid background, only paint dark modules.\n\n        ctx.fillStyle = bgColor;\n        ctx.fillRect(0, 0, numCells, numCells);\n        ctx.fillStyle = fgColor;\n\n        if (SUPPORTS_PATH2D) {\n          // $FlowFixMe: Path2D c'tor doesn't support args yet.\n          ctx.fill(new Path2D(generatePath(cells, margin)));\n        } else {\n          cells.forEach(function (row, rdx) {\n            row.forEach(function (cell, cdx) {\n              if (cell) {\n                ctx.fillRect(cdx + margin, rdx + margin, 1, 1);\n              }\n            });\n          });\n        }\n\n        if (this.state.imgLoaded && this._image && calculatedImageSettings != null) {\n          ctx.drawImage(this._image, calculatedImageSettings.x + margin, calculatedImageSettings.y + margin, calculatedImageSettings.w, calculatedImageSettings.h);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          value = _this$props2.value,\n          size = _this$props2.size,\n          level = _this$props2.level,\n          bgColor = _this$props2.bgColor,\n          fgColor = _this$props2.fgColor,\n          style = _this$props2.style,\n          includeMargin = _this$props2.includeMargin,\n          imageSettings = _this$props2.imageSettings,\n          otherProps = _objectWithoutProperties(_this$props2, [\"value\", \"size\", \"level\", \"bgColor\", \"fgColor\", \"style\", \"includeMargin\", \"imageSettings\"]);\n\n      var canvasStyle = _objectSpread({\n        height: size,\n        width: size\n      }, style);\n\n      var img = null;\n      var imgSrc = imageSettings && imageSettings.src;\n\n      if (imageSettings != null && imgSrc != null) {\n        img = React.createElement(\"img\", {\n          src: imgSrc,\n          style: {\n            display: 'none'\n          },\n          onLoad: this.handleImageLoad,\n          ref: function ref(_ref) {\n            return _this2._image = _ref;\n          }\n        });\n      }\n\n      return React.createElement(React.Fragment, null, React.createElement(\"canvas\", _extends({\n        style: canvasStyle,\n        height: size,\n        width: size,\n        ref: function ref(_ref2) {\n          return _this2._canvas = _ref2;\n        }\n      }, otherProps)), img);\n    }\n  }]);\n\n  return QRCodeCanvas;\n}(React.PureComponent);\n\n_defineProperty(QRCodeCanvas, \"defaultProps\", DEFAULT_PROPS);\n\nif (process.env.NODE_ENV !== 'production') {\n  QRCodeCanvas.propTypes = PROP_TYPES;\n}\n\nvar QRCodeSVG =\n/*#__PURE__*/\nfunction (_React$PureComponent2) {\n  _inherits(QRCodeSVG, _React$PureComponent2);\n\n  function QRCodeSVG() {\n    _classCallCheck(this, QRCodeSVG);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(QRCodeSVG).apply(this, arguments));\n  }\n\n  _createClass(QRCodeSVG, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          value = _this$props3.value,\n          size = _this$props3.size,\n          level = _this$props3.level,\n          bgColor = _this$props3.bgColor,\n          fgColor = _this$props3.fgColor,\n          includeMargin = _this$props3.includeMargin,\n          imageSettings = _this$props3.imageSettings,\n          otherProps = _objectWithoutProperties(_this$props3, [\"value\", \"size\", \"level\", \"bgColor\", \"fgColor\", \"includeMargin\", \"imageSettings\"]); // We'll use type===-1 to force QRCode to automatically pick the best type\n\n\n      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);\n      qrcode.addData(convertStr(value));\n      qrcode.make();\n      var cells = qrcode.modules;\n\n      if (cells === null) {\n        return null;\n      }\n\n      var margin = includeMargin ? MARGIN_SIZE : 0;\n      var numCells = cells.length + margin * 2;\n      var calculatedImageSettings = getImageSettings(this.props, cells);\n      var image = null;\n\n      if (imageSettings != null && calculatedImageSettings != null) {\n        if (calculatedImageSettings.excavation != null) {\n          cells = excavateModules(cells, calculatedImageSettings.excavation);\n        }\n\n        image = React.createElement(\"image\", {\n          xlinkHref: imageSettings.src,\n          height: calculatedImageSettings.h,\n          width: calculatedImageSettings.w,\n          x: calculatedImageSettings.x + margin,\n          y: calculatedImageSettings.y + margin,\n          preserveAspectRatio: \"none\"\n        });\n      } // Drawing strategy: instead of a rect per module, we're going to create a\n      // single path for the dark modules and layer that on top of a light rect,\n      // for a total of 2 DOM nodes. We pay a bit more in string concat but that's\n      // way faster than DOM ops.\n      // For level 1, 441 nodes -> 2\n      // For level 40, 31329 -> 2\n\n\n      var fgPath = generatePath(cells, margin);\n      return React.createElement(\"svg\", _extends({\n        shapeRendering: \"crispEdges\",\n        height: size,\n        width: size,\n        viewBox: \"0 0 \".concat(numCells, \" \").concat(numCells)\n      }, otherProps), React.createElement(\"path\", {\n        fill: bgColor,\n        d: \"M0,0 h\".concat(numCells, \"v\").concat(numCells, \"H0z\")\n      }), React.createElement(\"path\", {\n        fill: fgColor,\n        d: fgPath\n      }), image);\n    }\n  }]);\n\n  return QRCodeSVG;\n}(React.PureComponent);\n\n_defineProperty(QRCodeSVG, \"defaultProps\", DEFAULT_PROPS);\n\nif (process.env.NODE_ENV !== 'production') {\n  QRCodeSVG.propTypes = PROP_TYPES;\n}\n\nvar QRCode = function QRCode(props) {\n  var renderAs = props.renderAs,\n      otherProps = _objectWithoutProperties(props, [\"renderAs\"]);\n\n  var Component = renderAs === 'svg' ? QRCodeSVG : QRCodeCanvas;\n  return React.createElement(Component, otherProps);\n};\n\nQRCode.defaultProps = _objectSpread({\n  renderAs: 'canvas'\n}, DEFAULT_PROPS);\nmodule.exports = QRCode;","var BitByte = require('./8BitByte');\nvar RSBlock = require('./RSBlock');\nvar BitBuffer = require('./BitBuffer');\nvar util = require('./util');\nvar Polynomial = require('./Polynomial');\n\nfunction QRCode(typeNumber, errorCorrectLevel) {\n\tthis.typeNumber = typeNumber;\n\tthis.errorCorrectLevel = errorCorrectLevel;\n\tthis.modules = null;\n\tthis.moduleCount = 0;\n\tthis.dataCache = null;\n\tthis.dataList = [];\n}\n\n// for client side minification\nvar proto = QRCode.prototype;\n\nproto.addData = function(data) {\n\tvar newData = new BitByte(data);\n\tthis.dataList.push(newData);\n\tthis.dataCache = null;\n};\n\nproto.isDark = function(row, col) {\n\tif (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {\n\t\tthrow new Error(row + \",\" + col);\n\t}\n\treturn this.modules[row][col];\n};\n\nproto.getModuleCount = function() {\n\treturn this.moduleCount;\n};\n\nproto.make = function() {\n\t// Calculate automatically typeNumber if provided is < 1\n\tif (this.typeNumber < 1 ){\n\t\tvar typeNumber = 1;\n\t\tfor (typeNumber = 1; typeNumber < 40; typeNumber++) {\n\t\t\tvar rsBlocks = RSBlock.getRSBlocks(typeNumber, this.errorCorrectLevel);\n\n\t\t\tvar buffer = new BitBuffer();\n\t\t\tvar totalDataCount = 0;\n\t\t\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\t\t\ttotalDataCount += rsBlocks[i].dataCount;\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < this.dataList.length; i++) {\n\t\t\t\tvar data = this.dataList[i];\n\t\t\t\tbuffer.put(data.mode, 4);\n\t\t\t\tbuffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber) );\n\t\t\t\tdata.write(buffer);\n\t\t\t}\n\t\t\tif (buffer.getLengthInBits() <= totalDataCount * 8)\n\t\t\t\tbreak;\n\t\t}\n\t\tthis.typeNumber = typeNumber;\n\t}\n\tthis.makeImpl(false, this.getBestMaskPattern() );\n};\n\nproto.makeImpl = function(test, maskPattern) {\n\t\n\tthis.moduleCount = this.typeNumber * 4 + 17;\n\tthis.modules = new Array(this.moduleCount);\n\t\n\tfor (var row = 0; row < this.moduleCount; row++) {\n\t\t\n\t\tthis.modules[row] = new Array(this.moduleCount);\n\t\t\n\t\tfor (var col = 0; col < this.moduleCount; col++) {\n\t\t\tthis.modules[row][col] = null;//(col + row) % 3;\n\t\t}\n\t}\n\n\tthis.setupPositionProbePattern(0, 0);\n\tthis.setupPositionProbePattern(this.moduleCount - 7, 0);\n\tthis.setupPositionProbePattern(0, this.moduleCount - 7);\n\tthis.setupPositionAdjustPattern();\n\tthis.setupTimingPattern();\n\tthis.setupTypeInfo(test, maskPattern);\n\t\n\tif (this.typeNumber >= 7) {\n\t\tthis.setupTypeNumber(test);\n\t}\n\n\tif (this.dataCache == null) {\n\t\tthis.dataCache = QRCode.createData(this.typeNumber, this.errorCorrectLevel, this.dataList);\n\t}\n\n\tthis.mapData(this.dataCache, maskPattern);\n};\n\nproto.setupPositionProbePattern = function(row, col)  {\n\t\n\tfor (var r = -1; r <= 7; r++) {\n\t\t\n\t\tif (row + r <= -1 || this.moduleCount <= row + r) continue;\n\t\t\n\t\tfor (var c = -1; c <= 7; c++) {\n\t\t\t\n\t\t\tif (col + c <= -1 || this.moduleCount <= col + c) continue;\n\t\t\t\n\t\t\tif ( (0 <= r && r <= 6 && (c == 0 || c == 6) )\n\t\t\t\t\t|| (0 <= c && c <= 6 && (r == 0 || r == 6) )\n\t\t\t\t\t|| (2 <= r && r <= 4 && 2 <= c && c <= 4) ) {\n\t\t\t\tthis.modules[row + r][col + c] = true;\n\t\t\t} else {\n\t\t\t\tthis.modules[row + r][col + c] = false;\n\t\t\t}\n\t\t}\t\t\n\t}\t\t\n};\n\nproto.getBestMaskPattern = function() {\n\n\tvar minLostPoint = 0;\n\tvar pattern = 0;\n\n\tfor (var i = 0; i < 8; i++) {\n\t\t\n\t\tthis.makeImpl(true, i);\n\n\t\tvar lostPoint = util.getLostPoint(this);\n\n\t\tif (i == 0 || minLostPoint >  lostPoint) {\n\t\t\tminLostPoint = lostPoint;\n\t\t\tpattern = i;\n\t\t}\n\t}\n\n\treturn pattern;\n};\n\nproto.createMovieClip = function(target_mc, instance_name, depth) {\n\n\tvar qr_mc = target_mc.createEmptyMovieClip(instance_name, depth);\n\tvar cs = 1;\n\n\tthis.make();\n\n\tfor (var row = 0; row < this.modules.length; row++) {\n\t\t\n\t\tvar y = row * cs;\n\t\t\n\t\tfor (var col = 0; col < this.modules[row].length; col++) {\n\n\t\t\tvar x = col * cs;\n\t\t\tvar dark = this.modules[row][col];\n\t\t\n\t\t\tif (dark) {\n\t\t\t\tqr_mc.beginFill(0, 100);\n\t\t\t\tqr_mc.moveTo(x, y);\n\t\t\t\tqr_mc.lineTo(x + cs, y);\n\t\t\t\tqr_mc.lineTo(x + cs, y + cs);\n\t\t\t\tqr_mc.lineTo(x, y + cs);\n\t\t\t\tqr_mc.endFill();\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn qr_mc;\n};\n\nproto.setupTimingPattern = function() {\n\t\n\tfor (var r = 8; r < this.moduleCount - 8; r++) {\n\t\tif (this.modules[r][6] != null) {\n\t\t\tcontinue;\n\t\t}\n\t\tthis.modules[r][6] = (r % 2 == 0);\n\t}\n\n\tfor (var c = 8; c < this.moduleCount - 8; c++) {\n\t\tif (this.modules[6][c] != null) {\n\t\t\tcontinue;\n\t\t}\n\t\tthis.modules[6][c] = (c % 2 == 0);\n\t}\n};\n\nproto.setupPositionAdjustPattern = function() {\n\n\tvar pos = util.getPatternPosition(this.typeNumber);\n\t\n\tfor (var i = 0; i < pos.length; i++) {\n\t\n\t\tfor (var j = 0; j < pos.length; j++) {\n\t\t\n\t\t\tvar row = pos[i];\n\t\t\tvar col = pos[j];\n\t\t\t\n\t\t\tif (this.modules[row][col] != null) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tfor (var r = -2; r <= 2; r++) {\n\t\t\t\n\t\t\t\tfor (var c = -2; c <= 2; c++) {\n\t\t\t\t\n\t\t\t\t\tif (r == -2 || r == 2 || c == -2 || c == 2\n\t\t\t\t\t\t\t|| (r == 0 && c == 0) ) {\n\t\t\t\t\t\tthis.modules[row + r][col + c] = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.modules[row + r][col + c] = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nproto.setupTypeNumber = function(test) {\n\n\tvar bits = util.getBCHTypeNumber(this.typeNumber);\n\n\tfor (var i = 0; i < 18; i++) {\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\tthis.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod;\n\t}\n\n\tfor (var i = 0; i < 18; i++) {\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\tthis.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n\t}\n};\n\nproto.setupTypeInfo = function(test, maskPattern) {\n\n\tvar data = (this.errorCorrectLevel << 3) | maskPattern;\n\tvar bits = util.getBCHTypeInfo(data);\n\n\t// vertical\t\t\n\tfor (var i = 0; i < 15; i++) {\n\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\n\t\tif (i < 6) {\n\t\t\tthis.modules[i][8] = mod;\n\t\t} else if (i < 8) {\n\t\t\tthis.modules[i + 1][8] = mod;\n\t\t} else {\n\t\t\tthis.modules[this.moduleCount - 15 + i][8] = mod;\n\t\t}\n\t}\n\n\t// horizontal\n\tfor (var i = 0; i < 15; i++) {\n\n\t\tvar mod = (!test && ( (bits >> i) & 1) == 1);\n\t\t\n\t\tif (i < 8) {\n\t\t\tthis.modules[8][this.moduleCount - i - 1] = mod;\n\t\t} else if (i < 9) {\n\t\t\tthis.modules[8][15 - i - 1 + 1] = mod;\n\t\t} else {\n\t\t\tthis.modules[8][15 - i - 1] = mod;\n\t\t}\n\t}\n\n\t// fixed module\n\tthis.modules[this.moduleCount - 8][8] = (!test);\n};\n\nproto.mapData = function(data, maskPattern) {\n\t\n\tvar inc = -1;\n\tvar row = this.moduleCount - 1;\n\tvar bitIndex = 7;\n\tvar byteIndex = 0;\n\t\n\tfor (var col = this.moduleCount - 1; col > 0; col -= 2) {\n\n\t\tif (col == 6) col--;\n\n\t\twhile (true) {\n\n\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\t\n\t\t\t\tif (this.modules[row][col - c] == null) {\n\t\t\t\t\t\n\t\t\t\t\tvar dark = false;\n\n\t\t\t\t\tif (byteIndex < data.length) {\n\t\t\t\t\t\tdark = ( ( (data[byteIndex] >>> bitIndex) & 1) == 1);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar mask = util.getMask(maskPattern, row, col - c);\n\n\t\t\t\t\tif (mask) {\n\t\t\t\t\t\tdark = !dark;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.modules[row][col - c] = dark;\n\t\t\t\t\tbitIndex--;\n\n\t\t\t\t\tif (bitIndex == -1) {\n\t\t\t\t\t\tbyteIndex++;\n\t\t\t\t\t\tbitIndex = 7;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\trow += inc;\n\n\t\t\tif (row < 0 || this.moduleCount <= row) {\n\t\t\t\trow -= inc;\n\t\t\t\tinc = -inc;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n};\n\nQRCode.PAD0 = 0xEC;\nQRCode.PAD1 = 0x11;\n\nQRCode.createData = function(typeNumber, errorCorrectLevel, dataList) {\n\t\n\tvar rsBlocks = RSBlock.getRSBlocks(typeNumber, errorCorrectLevel);\n\t\n\tvar buffer = new BitBuffer();\n\t\n\tfor (var i = 0; i < dataList.length; i++) {\n\t\tvar data = dataList[i];\n\t\tbuffer.put(data.mode, 4);\n\t\tbuffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber) );\n\t\tdata.write(buffer);\n\t}\n\n\t// calc num max data.\n\tvar totalDataCount = 0;\n\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\ttotalDataCount += rsBlocks[i].dataCount;\n\t}\n\n\tif (buffer.getLengthInBits() > totalDataCount * 8) {\n\t\tthrow new Error(\"code length overflow. (\"\n\t\t\t+ buffer.getLengthInBits()\n\t\t\t+ \">\"\n\t\t\t+  totalDataCount * 8\n\t\t\t+ \")\");\n\t}\n\n\t// end code\n\tif (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n\t\tbuffer.put(0, 4);\n\t}\n\n\t// padding\n\twhile (buffer.getLengthInBits() % 8 != 0) {\n\t\tbuffer.putBit(false);\n\t}\n\n\t// padding\n\twhile (true) {\n\t\t\n\t\tif (buffer.getLengthInBits() >= totalDataCount * 8) {\n\t\t\tbreak;\n\t\t}\n\t\tbuffer.put(QRCode.PAD0, 8);\n\t\t\n\t\tif (buffer.getLengthInBits() >= totalDataCount * 8) {\n\t\t\tbreak;\n\t\t}\n\t\tbuffer.put(QRCode.PAD1, 8);\n\t}\n\n\treturn QRCode.createBytes(buffer, rsBlocks);\n};\n\nQRCode.createBytes = function(buffer, rsBlocks) {\n\n\tvar offset = 0;\n\t\n\tvar maxDcCount = 0;\n\tvar maxEcCount = 0;\n\t\n\tvar dcdata = new Array(rsBlocks.length);\n\tvar ecdata = new Array(rsBlocks.length);\n\t\n\tfor (var r = 0; r < rsBlocks.length; r++) {\n\n\t\tvar dcCount = rsBlocks[r].dataCount;\n\t\tvar ecCount = rsBlocks[r].totalCount - dcCount;\n\n\t\tmaxDcCount = Math.max(maxDcCount, dcCount);\n\t\tmaxEcCount = Math.max(maxEcCount, ecCount);\n\t\t\n\t\tdcdata[r] = new Array(dcCount);\n\t\t\n\t\tfor (var i = 0; i < dcdata[r].length; i++) {\n\t\t\tdcdata[r][i] = 0xff & buffer.buffer[i + offset];\n\t\t}\n\t\toffset += dcCount;\n\t\t\n\t\tvar rsPoly = util.getErrorCorrectPolynomial(ecCount);\n\t\tvar rawPoly = new Polynomial(dcdata[r], rsPoly.getLength() - 1);\n\n\t\tvar modPoly = rawPoly.mod(rsPoly);\n\t\tecdata[r] = new Array(rsPoly.getLength() - 1);\n\t\tfor (var i = 0; i < ecdata[r].length; i++) {\n            var modIndex = i + modPoly.getLength() - ecdata[r].length;\n\t\t\tecdata[r][i] = (modIndex >= 0)? modPoly.get(modIndex) : 0;\n\t\t}\n\n\t}\n\t\n\tvar totalCodeCount = 0;\n\tfor (var i = 0; i < rsBlocks.length; i++) {\n\t\ttotalCodeCount += rsBlocks[i].totalCount;\n\t}\n\n\tvar data = new Array(totalCodeCount);\n\tvar index = 0;\n\n\tfor (var i = 0; i < maxDcCount; i++) {\n\t\tfor (var r = 0; r < rsBlocks.length; r++) {\n\t\t\tif (i < dcdata[r].length) {\n\t\t\t\tdata[index++] = dcdata[r][i];\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var i = 0; i < maxEcCount; i++) {\n\t\tfor (var r = 0; r < rsBlocks.length; r++) {\n\t\t\tif (i < ecdata[r].length) {\n\t\t\t\tdata[index++] = ecdata[r][i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn data;\n};\n\nmodule.exports = QRCode;\n\n","var mode = require('./mode');\n\nfunction QR8bitByte(data) {\n\tthis.mode = mode.MODE_8BIT_BYTE;\n\tthis.data = data;\n}\n\nQR8bitByte.prototype = {\n\n\tgetLength : function(buffer) {\n\t\treturn this.data.length;\n\t},\n\t\n\twrite : function(buffer) {\n\t\tfor (var i = 0; i < this.data.length; i++) {\n\t\t\t// not JIS ...\n\t\t\tbuffer.put(this.data.charCodeAt(i), 8);\n\t\t}\n\t}\n};\n\nmodule.exports = QR8bitByte;\n\n","// ErrorCorrectLevel\nvar ECL = require('./ErrorCorrectLevel');\n\nfunction QRRSBlock(totalCount, dataCount) {\n\tthis.totalCount = totalCount;\n\tthis.dataCount  = dataCount;\n}\n\nQRRSBlock.RS_BLOCK_TABLE = [\n\n\t// L\n\t// M\n\t// Q\n\t// H\n\n\t// 1\n\t[1, 26, 19],\n\t[1, 26, 16],\n\t[1, 26, 13],\n\t[1, 26, 9],\n\t\n\t// 2\n\t[1, 44, 34],\n\t[1, 44, 28],\n\t[1, 44, 22],\n\t[1, 44, 16],\n\n\t// 3\n\t[1, 70, 55],\n\t[1, 70, 44],\n\t[2, 35, 17],\n\t[2, 35, 13],\n\n\t// 4\t\t\n\t[1, 100, 80],\n\t[2, 50, 32],\n\t[2, 50, 24],\n\t[4, 25, 9],\n\t\n\t// 5\n\t[1, 134, 108],\n\t[2, 67, 43],\n\t[2, 33, 15, 2, 34, 16],\n\t[2, 33, 11, 2, 34, 12],\n\t\n\t// 6\n\t[2, 86, 68],\n\t[4, 43, 27],\n\t[4, 43, 19],\n\t[4, 43, 15],\n\t\n\t// 7\t\t\n\t[2, 98, 78],\n\t[4, 49, 31],\n\t[2, 32, 14, 4, 33, 15],\n\t[4, 39, 13, 1, 40, 14],\n\t\n\t// 8\n\t[2, 121, 97],\n\t[2, 60, 38, 2, 61, 39],\n\t[4, 40, 18, 2, 41, 19],\n\t[4, 40, 14, 2, 41, 15],\n\t\n\t// 9\n\t[2, 146, 116],\n\t[3, 58, 36, 2, 59, 37],\n\t[4, 36, 16, 4, 37, 17],\n\t[4, 36, 12, 4, 37, 13],\n\t\n\t// 10\t\t\n\t[2, 86, 68, 2, 87, 69],\n\t[4, 69, 43, 1, 70, 44],\n\t[6, 43, 19, 2, 44, 20],\n\t[6, 43, 15, 2, 44, 16],\n\n\t// 11\n\t[4, 101, 81],\n\t[1, 80, 50, 4, 81, 51],\n\t[4, 50, 22, 4, 51, 23],\n\t[3, 36, 12, 8, 37, 13],\n\n\t// 12\n\t[2, 116, 92, 2, 117, 93],\n\t[6, 58, 36, 2, 59, 37],\n\t[4, 46, 20, 6, 47, 21],\n\t[7, 42, 14, 4, 43, 15],\n\n\t// 13\n\t[4, 133, 107],\n\t[8, 59, 37, 1, 60, 38],\n\t[8, 44, 20, 4, 45, 21],\n\t[12, 33, 11, 4, 34, 12],\n\n\t// 14\n\t[3, 145, 115, 1, 146, 116],\n\t[4, 64, 40, 5, 65, 41],\n\t[11, 36, 16, 5, 37, 17],\n\t[11, 36, 12, 5, 37, 13],\n\n\t// 15\n\t[5, 109, 87, 1, 110, 88],\n\t[5, 65, 41, 5, 66, 42],\n\t[5, 54, 24, 7, 55, 25],\n\t[11, 36, 12],\n\n\t// 16\n\t[5, 122, 98, 1, 123, 99],\n\t[7, 73, 45, 3, 74, 46],\n\t[15, 43, 19, 2, 44, 20],\n\t[3, 45, 15, 13, 46, 16],\n\n\t// 17\n\t[1, 135, 107, 5, 136, 108],\n\t[10, 74, 46, 1, 75, 47],\n\t[1, 50, 22, 15, 51, 23],\n\t[2, 42, 14, 17, 43, 15],\n\n\t// 18\n\t[5, 150, 120, 1, 151, 121],\n\t[9, 69, 43, 4, 70, 44],\n\t[17, 50, 22, 1, 51, 23],\n\t[2, 42, 14, 19, 43, 15],\n\n\t// 19\n\t[3, 141, 113, 4, 142, 114],\n\t[3, 70, 44, 11, 71, 45],\n\t[17, 47, 21, 4, 48, 22],\n\t[9, 39, 13, 16, 40, 14],\n\n\t// 20\n\t[3, 135, 107, 5, 136, 108],\n\t[3, 67, 41, 13, 68, 42],\n\t[15, 54, 24, 5, 55, 25],\n\t[15, 43, 15, 10, 44, 16],\n\n\t// 21\n\t[4, 144, 116, 4, 145, 117],\n\t[17, 68, 42],\n\t[17, 50, 22, 6, 51, 23],\n\t[19, 46, 16, 6, 47, 17],\n\n\t// 22\n\t[2, 139, 111, 7, 140, 112],\n\t[17, 74, 46],\n\t[7, 54, 24, 16, 55, 25],\n\t[34, 37, 13],\n\n\t// 23\n\t[4, 151, 121, 5, 152, 122],\n\t[4, 75, 47, 14, 76, 48],\n\t[11, 54, 24, 14, 55, 25],\n\t[16, 45, 15, 14, 46, 16],\n\n\t// 24\n\t[6, 147, 117, 4, 148, 118],\n\t[6, 73, 45, 14, 74, 46],\n\t[11, 54, 24, 16, 55, 25],\n\t[30, 46, 16, 2, 47, 17],\n\n\t// 25\n\t[8, 132, 106, 4, 133, 107],\n\t[8, 75, 47, 13, 76, 48],\n\t[7, 54, 24, 22, 55, 25],\n\t[22, 45, 15, 13, 46, 16],\n\n\t// 26\n\t[10, 142, 114, 2, 143, 115],\n\t[19, 74, 46, 4, 75, 47],\n\t[28, 50, 22, 6, 51, 23],\n\t[33, 46, 16, 4, 47, 17],\n\n\t// 27\n\t[8, 152, 122, 4, 153, 123],\n\t[22, 73, 45, 3, 74, 46],\n\t[8, 53, 23, 26, 54, 24],\n\t[12, 45, 15, 28, 46, 16],\n\n\t// 28\n\t[3, 147, 117, 10, 148, 118],\n\t[3, 73, 45, 23, 74, 46],\n\t[4, 54, 24, 31, 55, 25],\n\t[11, 45, 15, 31, 46, 16],\n\n\t// 29\n\t[7, 146, 116, 7, 147, 117],\n\t[21, 73, 45, 7, 74, 46],\n\t[1, 53, 23, 37, 54, 24],\n\t[19, 45, 15, 26, 46, 16],\n\n\t// 30\n\t[5, 145, 115, 10, 146, 116],\n\t[19, 75, 47, 10, 76, 48],\n\t[15, 54, 24, 25, 55, 25],\n\t[23, 45, 15, 25, 46, 16],\n\n\t// 31\n\t[13, 145, 115, 3, 146, 116],\n\t[2, 74, 46, 29, 75, 47],\n\t[42, 54, 24, 1, 55, 25],\n\t[23, 45, 15, 28, 46, 16],\n\n\t// 32\n\t[17, 145, 115],\n\t[10, 74, 46, 23, 75, 47],\n\t[10, 54, 24, 35, 55, 25],\n\t[19, 45, 15, 35, 46, 16],\n\n\t// 33\n\t[17, 145, 115, 1, 146, 116],\n\t[14, 74, 46, 21, 75, 47],\n\t[29, 54, 24, 19, 55, 25],\n\t[11, 45, 15, 46, 46, 16],\n\n\t// 34\n\t[13, 145, 115, 6, 146, 116],\n\t[14, 74, 46, 23, 75, 47],\n\t[44, 54, 24, 7, 55, 25],\n\t[59, 46, 16, 1, 47, 17],\n\n\t// 35\n\t[12, 151, 121, 7, 152, 122],\n\t[12, 75, 47, 26, 76, 48],\n\t[39, 54, 24, 14, 55, 25],\n\t[22, 45, 15, 41, 46, 16],\n\n\t// 36\n\t[6, 151, 121, 14, 152, 122],\n\t[6, 75, 47, 34, 76, 48],\n\t[46, 54, 24, 10, 55, 25],\n\t[2, 45, 15, 64, 46, 16],\n\n\t// 37\n\t[17, 152, 122, 4, 153, 123],\n\t[29, 74, 46, 14, 75, 47],\n\t[49, 54, 24, 10, 55, 25],\n\t[24, 45, 15, 46, 46, 16],\n\n\t// 38\n\t[4, 152, 122, 18, 153, 123],\n\t[13, 74, 46, 32, 75, 47],\n\t[48, 54, 24, 14, 55, 25],\n\t[42, 45, 15, 32, 46, 16],\n\n\t// 39\n\t[20, 147, 117, 4, 148, 118],\n\t[40, 75, 47, 7, 76, 48],\n\t[43, 54, 24, 22, 55, 25],\n\t[10, 45, 15, 67, 46, 16],\n\n\t// 40\n\t[19, 148, 118, 6, 149, 119],\n\t[18, 75, 47, 31, 76, 48],\n\t[34, 54, 24, 34, 55, 25],\n\t[20, 45, 15, 61, 46, 16]\n];\n\nQRRSBlock.getRSBlocks = function(typeNumber, errorCorrectLevel) {\n\t\n\tvar rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);\n\t\n\tif (rsBlock == undefined) {\n\t\tthrow new Error(\"bad rs block @ typeNumber:\" + typeNumber + \"/errorCorrectLevel:\" + errorCorrectLevel);\n\t}\n\n\tvar length = rsBlock.length / 3;\n\t\n\tvar list = new Array();\n\t\n\tfor (var i = 0; i < length; i++) {\n\n\t\tvar count = rsBlock[i * 3 + 0];\n\t\tvar totalCount = rsBlock[i * 3 + 1];\n\t\tvar dataCount  = rsBlock[i * 3 + 2];\n\n\t\tfor (var j = 0; j < count; j++) {\n\t\t\tlist.push(new QRRSBlock(totalCount, dataCount) );\t\n\t\t}\n\t}\n\t\n\treturn list;\n}\n\nQRRSBlock.getRsBlockTable = function(typeNumber, errorCorrectLevel) {\n\n\tswitch(errorCorrectLevel) {\n\tcase ECL.L :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n\tcase ECL.M :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n\tcase ECL.Q :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n\tcase ECL.H :\n\t\treturn QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n\tdefault :\n\t\treturn undefined;\n\t}\n}\n\nmodule.exports = QRRSBlock;\n","function QRBitBuffer() {\n\tthis.buffer = new Array();\n\tthis.length = 0;\n}\n\nQRBitBuffer.prototype = {\n\n\tget : function(index) {\n\t\tvar bufIndex = Math.floor(index / 8);\n\t\treturn ( (this.buffer[bufIndex] >>> (7 - index % 8) ) & 1) == 1;\n\t},\n\t\n\tput : function(num, length) {\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tthis.putBit( ( (num >>> (length - i - 1) ) & 1) == 1);\n\t\t}\n\t},\n\t\n\tgetLengthInBits : function() {\n\t\treturn this.length;\n\t},\n\t\n\tputBit : function(bit) {\n\t\n\t\tvar bufIndex = Math.floor(this.length / 8);\n\t\tif (this.buffer.length <= bufIndex) {\n\t\t\tthis.buffer.push(0);\n\t\t}\n\t\n\t\tif (bit) {\n\t\t\tthis.buffer[bufIndex] |= (0x80 >>> (this.length % 8) );\n\t\t}\n\t\n\t\tthis.length++;\n\t}\n};\n\nmodule.exports = QRBitBuffer;\n","var Mode = require('./mode');\nvar Polynomial = require('./Polynomial');\nvar math = require('./math');\n\nvar QRMaskPattern = {\n\tPATTERN000 : 0,\n\tPATTERN001 : 1,\n\tPATTERN010 : 2,\n\tPATTERN011 : 3,\n\tPATTERN100 : 4,\n\tPATTERN101 : 5,\n\tPATTERN110 : 6,\n\tPATTERN111 : 7\n};\n\nvar QRUtil = {\n\n    PATTERN_POSITION_TABLE : [\n\t    [],\n\t    [6, 18],\n\t    [6, 22],\n\t    [6, 26],\n\t    [6, 30],\n\t    [6, 34],\n\t    [6, 22, 38],\n\t    [6, 24, 42],\n\t    [6, 26, 46],\n\t    [6, 28, 50],\n\t    [6, 30, 54],\t\t\n\t    [6, 32, 58],\n\t    [6, 34, 62],\n\t    [6, 26, 46, 66],\n\t    [6, 26, 48, 70],\n\t    [6, 26, 50, 74],\n\t    [6, 30, 54, 78],\n\t    [6, 30, 56, 82],\n\t    [6, 30, 58, 86],\n\t    [6, 34, 62, 90],\n\t    [6, 28, 50, 72, 94],\n\t    [6, 26, 50, 74, 98],\n\t    [6, 30, 54, 78, 102],\n\t    [6, 28, 54, 80, 106],\n\t    [6, 32, 58, 84, 110],\n\t    [6, 30, 58, 86, 114],\n\t    [6, 34, 62, 90, 118],\n\t    [6, 26, 50, 74, 98, 122],\n\t    [6, 30, 54, 78, 102, 126],\n\t    [6, 26, 52, 78, 104, 130],\n\t    [6, 30, 56, 82, 108, 134],\n\t    [6, 34, 60, 86, 112, 138],\n\t    [6, 30, 58, 86, 114, 142],\n\t    [6, 34, 62, 90, 118, 146],\n\t    [6, 30, 54, 78, 102, 126, 150],\n\t    [6, 24, 50, 76, 102, 128, 154],\n\t    [6, 28, 54, 80, 106, 132, 158],\n\t    [6, 32, 58, 84, 110, 136, 162],\n\t    [6, 26, 54, 82, 110, 138, 166],\n\t    [6, 30, 58, 86, 114, 142, 170]\n    ],\n\n    G15 : (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0),\n    G18 : (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0),\n    G15_MASK : (1 << 14) | (1 << 12) | (1 << 10)\t| (1 << 4) | (1 << 1),\n\n    getBCHTypeInfo : function(data) {\n\t    var d = data << 10;\n\t    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {\n\t\t    d ^= (QRUtil.G15 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) ) ); \t\n\t    }\n\t    return ( (data << 10) | d) ^ QRUtil.G15_MASK;\n    },\n\n    getBCHTypeNumber : function(data) {\n\t    var d = data << 12;\n\t    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {\n\t\t    d ^= (QRUtil.G18 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) ) ); \t\n\t    }\n\t    return (data << 12) | d;\n    },\n\n    getBCHDigit : function(data) {\n\n\t    var digit = 0;\n\n\t    while (data != 0) {\n\t\t    digit++;\n\t\t    data >>>= 1;\n\t    }\n\n\t    return digit;\n    },\n\n    getPatternPosition : function(typeNumber) {\n\t    return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];\n    },\n\n    getMask : function(maskPattern, i, j) {\n\t    \n\t    switch (maskPattern) {\n\t\t    \n\t    case QRMaskPattern.PATTERN000 : return (i + j) % 2 == 0;\n\t    case QRMaskPattern.PATTERN001 : return i % 2 == 0;\n\t    case QRMaskPattern.PATTERN010 : return j % 3 == 0;\n\t    case QRMaskPattern.PATTERN011 : return (i + j) % 3 == 0;\n\t    case QRMaskPattern.PATTERN100 : return (Math.floor(i / 2) + Math.floor(j / 3) ) % 2 == 0;\n\t    case QRMaskPattern.PATTERN101 : return (i * j) % 2 + (i * j) % 3 == 0;\n\t    case QRMaskPattern.PATTERN110 : return ( (i * j) % 2 + (i * j) % 3) % 2 == 0;\n\t    case QRMaskPattern.PATTERN111 : return ( (i * j) % 3 + (i + j) % 2) % 2 == 0;\n\n\t    default :\n\t\t    throw new Error(\"bad maskPattern:\" + maskPattern);\n\t    }\n    },\n\n    getErrorCorrectPolynomial : function(errorCorrectLength) {\n\n\t    var a = new Polynomial([1], 0);\n\n\t    for (var i = 0; i < errorCorrectLength; i++) {\n\t\t    a = a.multiply(new Polynomial([1, math.gexp(i)], 0) );\n\t    }\n\n\t    return a;\n    },\n\n    getLengthInBits : function(mode, type) {\n\n\t    if (1 <= type && type < 10) {\n\n\t\t    // 1 - 9\n\n\t\t    switch(mode) {\n\t\t    case Mode.MODE_NUMBER \t: return 10;\n\t\t    case Mode.MODE_ALPHA_NUM \t: return 9;\n\t\t    case Mode.MODE_8BIT_BYTE\t: return 8;\n\t\t    case Mode.MODE_KANJI  \t: return 8;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else if (type < 27) {\n\n\t\t    // 10 - 26\n\n\t\t    switch(mode) {\n\t\t    case Mode.MODE_NUMBER \t: return 12;\n\t\t    case Mode.MODE_ALPHA_NUM \t: return 11;\n\t\t    case Mode.MODE_8BIT_BYTE\t: return 16;\n\t\t    case Mode.MODE_KANJI  \t: return 10;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else if (type < 41) {\n\n\t\t    // 27 - 40\n\n\t\t    switch(mode) {\n\t\t    case Mode.MODE_NUMBER \t: return 14;\n\t\t    case Mode.MODE_ALPHA_NUM\t: return 13;\n\t\t    case Mode.MODE_8BIT_BYTE\t: return 16;\n\t\t    case Mode.MODE_KANJI  \t: return 12;\n\t\t    default :\n\t\t\t    throw new Error(\"mode:\" + mode);\n\t\t    }\n\n\t    } else {\n\t\t    throw new Error(\"type:\" + type);\n\t    }\n    },\n\n    getLostPoint : function(qrCode) {\n\t    \n\t    var moduleCount = qrCode.getModuleCount();\n\t    \n\t    var lostPoint = 0;\n\t    \n\t    // LEVEL1\n\t    \n\t    for (var row = 0; row < moduleCount; row++) {\n\n\t\t    for (var col = 0; col < moduleCount; col++) {\n\n\t\t\t    var sameCount = 0;\n\t\t\t    var dark = qrCode.isDark(row, col);\n\n\t\t\t\tfor (var r = -1; r <= 1; r++) {\n\n\t\t\t\t    if (row + r < 0 || moduleCount <= row + r) {\n\t\t\t\t\t    continue;\n\t\t\t\t    }\n\n\t\t\t\t    for (var c = -1; c <= 1; c++) {\n\n\t\t\t\t\t    if (col + c < 0 || moduleCount <= col + c) {\n\t\t\t\t\t\t    continue;\n\t\t\t\t\t    }\n\n\t\t\t\t\t    if (r == 0 && c == 0) {\n\t\t\t\t\t\t    continue;\n\t\t\t\t\t    }\n\n\t\t\t\t\t    if (dark == qrCode.isDark(row + r, col + c) ) {\n\t\t\t\t\t\t    sameCount++;\n\t\t\t\t\t    }\n\t\t\t\t    }\n\t\t\t    }\n\n\t\t\t    if (sameCount > 5) {\n\t\t\t\t    lostPoint += (3 + sameCount - 5);\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL2\n\n\t    for (var row = 0; row < moduleCount - 1; row++) {\n\t\t    for (var col = 0; col < moduleCount - 1; col++) {\n\t\t\t    var count = 0;\n\t\t\t    if (qrCode.isDark(row,     col    ) ) count++;\n\t\t\t    if (qrCode.isDark(row + 1, col    ) ) count++;\n\t\t\t    if (qrCode.isDark(row,     col + 1) ) count++;\n\t\t\t    if (qrCode.isDark(row + 1, col + 1) ) count++;\n\t\t\t    if (count == 0 || count == 4) {\n\t\t\t\t    lostPoint += 3;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL3\n\n\t    for (var row = 0; row < moduleCount; row++) {\n\t\t    for (var col = 0; col < moduleCount - 6; col++) {\n\t\t\t    if (qrCode.isDark(row, col)\n\t\t\t\t\t    && !qrCode.isDark(row, col + 1)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 2)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 3)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 4)\n\t\t\t\t\t    && !qrCode.isDark(row, col + 5)\n\t\t\t\t\t    &&  qrCode.isDark(row, col + 6) ) {\n\t\t\t\t    lostPoint += 40;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    for (var col = 0; col < moduleCount; col++) {\n\t\t    for (var row = 0; row < moduleCount - 6; row++) {\n\t\t\t    if (qrCode.isDark(row, col)\n\t\t\t\t\t    && !qrCode.isDark(row + 1, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 2, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 3, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 4, col)\n\t\t\t\t\t    && !qrCode.isDark(row + 5, col)\n\t\t\t\t\t    &&  qrCode.isDark(row + 6, col) ) {\n\t\t\t\t    lostPoint += 40;\n\t\t\t    }\n\t\t    }\n\t    }\n\n\t    // LEVEL4\n\t    \n\t    var darkCount = 0;\n\n\t    for (var col = 0; col < moduleCount; col++) {\n\t\t    for (var row = 0; row < moduleCount; row++) {\n\t\t\t    if (qrCode.isDark(row, col) ) {\n\t\t\t\t    darkCount++;\n\t\t\t    }\n\t\t    }\n\t    }\n\t    \n\t    var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n\t    lostPoint += ratio * 10;\n\n\t    return lostPoint;\t\t\n    }\n};\n\nmodule.exports = QRUtil;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"SystemLinkQr_wrapper__2CJMn\",\"qr\":\"SystemLinkQr_qr__ASBOr\",\"plain\":\"SystemLinkQr_plain__1yRC6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"KioskPage_wrapper__2lwpn\",\"top\":\"KioskPage_top__1rY1B\",\"title\":\"KioskPage_title__uTtKZ\",\"linkQr\":\"KioskPage_linkQr__6q4Tf\",\"orgName\":\"KioskPage_orgName__26BvU\",\"subTitle\":\"KioskPage_subTitle__1tHUZ\",\"alert\":\"KioskPage_alert__1zypA\"};","import React, { useEffect, useState } from 'react';\n\nimport dayjs from 'dayjs';\nimport styles from './DateClock.module.css';\n\nconst UPDATE_INTERVAL_MS = 5000;\n\nexport function DateClock() {\n\n    const [dateTime, setDateTime] = useState(() => dayjs());\n\n    useEffect(() => {\n        const int = setInterval(() => {\n            setDateTime(dayjs());\n        }, UPDATE_INTERVAL_MS);\n        return () => clearInterval(int);\n    }, []);\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.time}>\n                {dateTime.format('HH')}<span className={styles.clockDots}>:</span>{dateTime.format('mm')} Uhr\n            </div>\n            <div className={styles.date}>\n                {dateTime.format('dddd[\\xa0]LL')}\n            </div>\n        </div>\n    );\n}","import React, { useContext } from 'react';\n\nimport QrCode from 'qrcode.react';\nimport { appContext } from '../AppContext';\nimport styles from './SystemLinkQr.module.css';\n\nexport function SystemLinkQr({\n    bgColor,\n}) {\n\n    const { config: { url } } = useContext(appContext);\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.qr}>\n                <QrCode\n                    value={url}\n                    size={150}\n                    bgColor={bgColor}\n                />\n            </div>\n            <div className={styles.plain}>\n                {url.replace(/(http|https):\\/\\//, '')}\n            </div>\n        </div>\n    );\n}","import React, { useContext, useEffect } from 'react';\nimport { UPDATE_INTERVALS_SEC, setDefaultUpdateIntervals } from '../updateIntervals';\n\nimport { Alert } from 'antd';\nimport { DateClock } from './DateClock';\nimport { ReservationCalendar } from '../calendar/ReservationCalendar';\nimport { SystemLinkQr } from './SystemLinkQr';\nimport { appContext } from '../AppContext';\nimport { parseQuery } from '../helper';\nimport styles from './KioskPage.module.css';\nimport { useLocation } from 'react-router-dom';\nimport { useTime } from '../calendar/useTime';\n\nexport function KioskPage() {\n\n    const { config: { announcement, orgName } } = useContext(appContext);\n\n    const hour = useTime('hour');\n    const { search } = useLocation();\n\n    useEffect(() => {\n        const params = parseQuery(search);\n        let updateInterval = 60; // 1 minute, default value\n        try {\n            if (params['update'])\n                updateInterval = parseInt(params['update']);\n        } catch (e) { console.error(e); }\n\n        UPDATE_INTERVALS_SEC.RESERVATIONS = updateInterval;\n        UPDATE_INTERVALS_SEC.BASE_DATA = updateInterval * 10;\n        return setDefaultUpdateIntervals;\n    }, [search]);\n\n    return (\n        <div className={styles.wrapper}>\n\n            <div className={styles.top}>\n\n                <div className={styles.title}>\n                    <div className={styles.orgName}>\n                        {orgName}\n                    </div>\n                    <div className={styles.subTitle}>\n                        Reservierungssystem\n                    </div>\n                </div>\n                \n                <DateClock />\n\n                <div className={styles.linkQr}>\n                    <SystemLinkQr \n                        bgColor=\"#f0f2f5\"\n                    />\n                </div>\n\n            </div>\n\n            {announcement &&\n                <div className={styles.alert}>\n                    <Alert\n                        message={announcement}\n                        type=\"info\"\n                        showIcon\n                    />\n                </div>\n            }\n\n            <ReservationCalendar\n                kiosk\n                selectedDate={hour}\n            />\n        </div>\n    );\n}"],"sourceRoot":""}